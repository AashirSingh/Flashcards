(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5504:(Rn,at,x)=>{"use strict";x.d(at,{$:()=>fs,A:()=>ye,G:()=>We,K:()=>wi,L:()=>co,N:()=>er,P:()=>ru,R:()=>zi,U:()=>nr,V:()=>Bo,W:()=>zs,X:()=>hs,Y:()=>wo,Z:()=>so,_:()=>ji,a:()=>va,a0:()=>j,a1:()=>K,a2:()=>ce,a3:()=>we,a4:()=>fo,a5:()=>Ti,a6:()=>ps,a7:()=>Va,a8:()=>gs,a9:()=>al,aA:()=>eo,aB:()=>Te,aC:()=>Se,aD:()=>qc,aE:()=>ln,aF:()=>Sr,aG:()=>hn,aH:()=>nc,aI:()=>Qr,aJ:()=>he,aN:()=>ks,aQ:()=>Gr,aa:()=>Xu,ab:()=>Ks,ac:()=>Sl,ad:()=>Ua,ae:()=>ul,af:()=>xs,ag:()=>Rl,ah:()=>Hc,ak:()=>vs,al:()=>tu,am:()=>$a,ap:()=>wt,aq:()=>W,as:()=>Ln,at:()=>Rr,au:()=>Vt,av:()=>Vi,aw:()=>oi,ax:()=>Ie,ay:()=>Zi,az:()=>Ia,b:()=>to,c:()=>ls,d:()=>ia,e:()=>Wd,f:()=>ag,g:()=>qd,h:()=>uf,i:()=>zd,j:()=>cf,k:()=>ih,l:()=>Ls,m:()=>Oa,p:()=>Me,r:()=>nu,s:()=>Ka,u:()=>Ol});var c=x(467),h=x(7852),L=x(1076),ve=x(8041),X=x(1635),ee=x(1362);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ye={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ut=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new L.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new ve.Vy("@firebase/auth");function Tt(E,...p){lt.logLevel<=ve.$b.ERROR&&lt.error(`Auth (${h.SDK_VERSION}): ${E}`,...p)}function Ie(E,...p){throw Ft(E,...p)}function Te(E,...p){return Ft(E,...p)}function Ne(E,p,m){const D=Object.assign(Object.assign({},ut()),{[p]:m});return new L.FA("auth","Firebase",D).create(p,{appName:E.name})}function Qe(E){return Ne(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rt(E,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ie(E,"argument-error"),Ne(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ft(E,...p){if("string"!=typeof E){const m=p[0],D=[...p.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(m,...D)}return vt.create(E,...p)}function Se(E,p,...m){if(!E)throw Ft(p,...m)}function gt(E){const p="INTERNAL ASSERTION FAILED: "+E;throw Tt(p),new Error(p)}function Vt(E,p){E||gt(p)}function nn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Tn(){return"http:"===gn()||"https:"===gn()}function gn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Le{constructor(p,m){this.shortDelay=p,this.longDelay=m,Vt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.jZ)()||(0,L.lV)()}get(){return function qn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tn()||(0,L.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(E,p){Vt(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ie{static initialize(p,m,D){this.fetchImpl=p,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new Le(3e4,6e4);function nt(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function At(E,p,m,D){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.A)(function*(E,p,m,D,te={}){return Lt(E,te,(0,c.A)(function*(){let Ce={},Rt={};D&&("GET"===p?Rt=D:Ce={body:JSON.stringify(D)});const rn=(0,L.Am)(Object.assign({key:E.config.apiKey},Rt)).slice(1),xn=yield E._getAdditionalHeaders();xn["Content-Type"]="application/json",E.languageCode&&(xn["X-Firebase-Locale"]=E.languageCode);const hr=Object.assign({method:p,headers:xn},Ce);return(0,L.c1)()||(hr.referrerPolicy="no-referrer"),ie.fetch()(kt(E,E.config.apiHost,m,rn),hr)}))})).apply(this,arguments)}function Lt(E,p,m){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.A)(function*(E,p,m){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},de),p);try{const te=new en(E),Ce=yield Promise.race([m(),te.promise]);te.clearNetworkTimeout();const Rt=yield Ce.json();if("needConfirmation"in Rt)throw bn(E,"account-exists-with-different-credential",Rt);if(Ce.ok&&!("errorMessage"in Rt))return Rt;{const rn=Ce.ok?Rt.errorMessage:Rt.error.message,[xn,hr]=rn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xn)throw bn(E,"credential-already-in-use",Rt);if("EMAIL_EXISTS"===xn)throw bn(E,"email-already-in-use",Rt);if("USER_DISABLED"===xn)throw bn(E,"user-disabled",Rt);const Dr=D[xn]||xn.toLowerCase().replace(/[_\s]+/g,"-");if(hr)throw Ne(E,Dr,hr);Ie(E,Dr)}}catch(te){if(te instanceof L.g)throw te;Ie(E,"network-request-failed",{message:String(te)})}})).apply(this,arguments)}function Xt(E,p,m,D){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.A)(function*(E,p,m,D,te={}){const Ce=yield At(E,p,m,D,te);return"mfaPendingCredential"in Ce&&Ie(E,"multi-factor-auth-required",{_serverResponse:Ce}),Ce})).apply(this,arguments)}function kt(E,p,m,D){const te=`${p}${m}?${D}`;return E.config.emulator?Ue(E.config,te):`${E.config.apiScheme}://${te}`}function Mn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class en{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(Te(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(E,p,m){const D={appName:E.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const te=Te(E,p,D);return te.customData._tokenResponse=m,te}function Qt(E){return void 0!==E&&void 0!==E.getResponse}function Dt(E){return void 0!==E&&void 0!==E.enterprise}class vn{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===p)return Mn(m.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Oe(){return(Oe=(0,c.A)(function*(E){return(yield At(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ke(E,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.A)(function*(E,p){return At(E,"GET","/v2/recaptchaConfig",nt(E,p))})).apply(this,arguments)}function or(){return(or=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Un(){return(Un=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zn(E,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _r(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Kr(){return(Kr=(0,c.A)(function*(E,p=!1){const m=(0,L.Ku)(E),D=yield m.getIdToken(p),te=jn(D);Se(te&&te.exp&&te.auth_time&&te.iat,m.auth,"internal-error");const Ce="object"==typeof te.firebase?te.firebase:void 0,Rt=null==Ce?void 0:Ce.sign_in_provider;return{claims:te,token:D,authTime:_r(hi(te.auth_time)),issuedAtTime:_r(hi(te.iat)),expirationTime:_r(hi(te.exp)),signInProvider:Rt||null,signInSecondFactor:(null==Ce?void 0:Ce.sign_in_second_factor)||null}})).apply(this,arguments)}function hi(E){return 1e3*Number(E)}function jn(E){const[p,m,D]=E.split(".");if(void 0===p||void 0===m||void 0===D)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,L.u)(m);return te?JSON.parse(te):(Tt("Failed to decode base64 JWT payload"),null)}catch(te){return Tt("Caught error parsing JWT payload as JSON",null==te?void 0:te.toString()),null}}function Mr(E){const p=jn(E);return Se(p,"internal-error"),Se(typeof p.exp<"u","internal-error"),Se(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Jn(E,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.A)(function*(E,p,m=!1){if(m)return p;try{return yield p}catch(D){throw D instanceof L.g&&function On({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}class Pi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const te=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,te)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(p);this.timerId=setTimeout((0,c.A)(function*(){yield m.iteration()}),D)}iteration(){var p=this;return(0,c.A)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Qn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(E){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.A)(function*(E){var p;const m=E.auth,D=yield E.getIdToken(),te=yield Jn(E,zn(m,{idToken:D}));Se(null==te?void 0:te.users.length,m,"internal-error");const Ce=te.users[0];E._notifyReloadListener(Ce);const Rt=null!==(p=Ce.providerUserInfo)&&void 0!==p&&p.length?Yt(Ce.providerUserInfo):[],rn=function Ct(E,p){return[...E.filter(D=>!p.some(te=>te.providerId===D.providerId)),...p]}(E.providerData,Rt),Dr=!!E.isAnonymous&&!(E.email&&Ce.passwordHash||null!=rn&&rn.length),pi={uid:Ce.localId,displayName:Ce.displayName||null,photoURL:Ce.photoUrl||null,email:Ce.email||null,emailVerified:Ce.emailVerified||!1,phoneNumber:Ce.phoneNumber||null,tenantId:Ce.tenantId||null,providerData:rn,metadata:new Qn(Ce.createdAt,Ce.lastLoginAt),isAnonymous:Dr};Object.assign(E,pi)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.A)(function*(E){const p=(0,L.Ku)(E);yield lr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Yt(E){return E.map(p=>{var{providerId:m}=p,D=(0,X.Tt)(p,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Et(){return(Et=(0,c.A)(function*(E,p){const m=yield Lt(E,{},(0,c.A)(function*(){const D=(0,L.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:te,apiKey:Ce}=E.config,Rt=kt(E,te,"/v1/token",`key=${Ce}`),rn=yield E._getAdditionalHeaders();return rn["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(Rt,{method:"POST",headers:rn,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function oe(){return(oe=(0,c.A)(function*(E,p){return At(E,"POST","/v2/accounts:revokeToken",nt(E,p))})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Se(p.idToken,"internal-error"),Se(typeof p.idToken<"u","internal-error"),Se(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Mr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}updateFromIdToken(p){Se(0!==p.length,"internal-error");const m=Mr(p);this.updateTokensAndExpiration(p,null,m)}getToken(p,m=!1){var D=this;return(0,c.A)(function*(){return m||!D.accessToken||D.isExpired?(Se(D.refreshToken,p,"user-token-expired"),D.refreshToken?(yield D.refresh(p,D.refreshToken),D.accessToken):null):D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var D=this;return(0,c.A)(function*(){const{accessToken:te,refreshToken:Ce,expiresIn:Rt}=yield function _t(E,p){return Et.apply(this,arguments)}(p,m);D.updateTokensAndExpiration(te,Ce,Number(Rt))})()}updateTokensAndExpiration(p,m,D){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(p,m){const{refreshToken:D,accessToken:te,expirationTime:Ce}=m,Rt=new Q;return D&&(Se("string"==typeof D,"internal-error",{appName:p}),Rt.refreshToken=D),te&&(Se("string"==typeof te,"internal-error",{appName:p}),Rt.accessToken=te),Ce&&(Se("number"==typeof Ce,"internal-error",{appName:p}),Rt.expirationTime=Ce),Rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return gt("not implemented")}}function le(E,p){Se("string"==typeof E||typeof E>"u","internal-error",{appName:p})}class Xe{constructor(p){var{uid:m,auth:D,stsTokenManager:te}=p,Ce=(0,X.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=Ce.displayName||null,this.email=Ce.email||null,this.emailVerified=Ce.emailVerified||!1,this.phoneNumber=Ce.phoneNumber||null,this.photoURL=Ce.photoURL||null,this.isAnonymous=Ce.isAnonymous||!1,this.tenantId=Ce.tenantId||null,this.providerData=Ce.providerData?[...Ce.providerData]:[],this.metadata=new Qn(Ce.createdAt||void 0,Ce.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.A)(function*(){const D=yield Jn(m,m.stsTokenManager.getToken(m.auth,p));return Se(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(p){return function sr(E){return Kr.apply(this,arguments)}(this,p)}reload(){return function Cn(E){return Gt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Xe(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var D=this;return(0,c.A)(function*(){let te=!1;p.idToken&&p.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(p),te=!0),m&&(yield lr(D)),yield D.auth._persistUserIfCurrent(D),te&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var p=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(p.auth.app))return Promise.reject(Qe(p.auth));const m=yield p.getIdToken();return yield Jn(p,function qt(E,p){return or.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var D,te,Ce,Rt,rn,xn,hr,Dr;const pi=null!==(D=m.displayName)&&void 0!==D?D:void 0,Ys=null!==(te=m.email)&&void 0!==te?te:void 0,ba=null!==(Ce=m.phoneNumber)&&void 0!==Ce?Ce:void 0,cu=null!==(Rt=m.photoURL)&&void 0!==Rt?Rt:void 0,oh=null!==(rn=m.tenantId)&&void 0!==rn?rn:void 0,Vs=null!==(xn=m._redirectEventId)&&void 0!==xn?xn:void 0,cc=null!==(hr=m.createdAt)&&void 0!==hr?hr:void 0,tl=null!==(Dr=m.lastLoginAt)&&void 0!==Dr?Dr:void 0,{uid:_l,emailVerified:dc,isAnonymous:jl,providerData:Hl,stsTokenManager:sh}=m;Se(_l&&sh,p,"internal-error");const If=Q.fromJSON(this.name,sh);Se("string"==typeof _l,p,"internal-error"),le(pi,p.name),le(Ys,p.name),Se("boolean"==typeof dc,p,"internal-error"),Se("boolean"==typeof jl,p,"internal-error"),le(ba,p.name),le(cu,p.name),le(oh,p.name),le(Vs,p.name),le(cc,p.name),le(tl,p.name);const hc=new Xe({uid:_l,auth:p,email:Ys,emailVerified:dc,displayName:pi,isAnonymous:jl,photoURL:cu,phoneNumber:ba,tenantId:oh,stsTokenManager:If,createdAt:cc,lastLoginAt:tl});return Hl&&Array.isArray(Hl)&&(hc.providerData=Hl.map(fc=>Object.assign({},fc))),Vs&&(hc._redirectEventId=Vs),hc}static _fromIdTokenResponse(p,m,D=!1){return(0,c.A)(function*(){const te=new Q;te.updateFromServerResponse(m);const Ce=new Xe({uid:m.localId,auth:p,stsTokenManager:te,isAnonymous:D});return yield lr(Ce),Ce})()}static _fromGetAccountInfoResponse(p,m,D){return(0,c.A)(function*(){const te=m.users[0];Se(void 0!==te.localId,"internal-error");const Ce=void 0!==te.providerUserInfo?Yt(te.providerUserInfo):[],Rt=!(te.email&&te.passwordHash||null!=Ce&&Ce.length),rn=new Q;rn.updateFromIdToken(D);const xn=new Xe({uid:te.localId,auth:p,stsTokenManager:rn,isAnonymous:Rt}),hr={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:Ce,metadata:new Qn(te.createdAt,te.lastLoginAt),isAnonymous:!(te.email&&te.passwordHash||null!=Ce&&Ce.length)};return Object.assign(xn,hr),xn})()}}const tt=new Map;function ln(E){Vt(E instanceof Function,"Expected a class definition");let p=tt.get(E);return p?(Vt(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,tt.set(E,p),p)}const nr=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(m,D){var te=this;return(0,c.A)(function*(){te.storage[m]=D})()}_get(m){var D=this;return(0,c.A)(function*(){const te=D.storage[m];return void 0===te?null:te})()}_remove(m){var D=this;return(0,c.A)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return E.type="NONE",E})();function Sr(E,p,m){return`firebase:${E}:${p}:${m}`}class yt{constructor(p,m,D){this.persistence=p,this.auth=m,this.userKey=D;const{config:te,name:Ce}=this.auth;this.fullUserKey=Sr(this.userKey,te.apiKey,Ce),this.fullPersistenceKey=Sr("persistence",te.apiKey,Ce),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.A)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Xe._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.A)(function*(){if(m.persistence===p)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,D="authUser"){return(0,c.A)(function*(){if(!m.length)return new yt(ln(nr),p,D);const te=(yield Promise.all(m.map(function(){var hr=(0,c.A)(function*(Dr){if(yield Dr._isAvailable())return Dr});return function(Dr){return hr.apply(this,arguments)}}()))).filter(hr=>hr);let Ce=te[0]||ln(nr);const Rt=Sr(D,p.config.apiKey,p.name);let rn=null;for(const hr of m)try{const Dr=yield hr._get(Rt);if(Dr){const pi=Xe._fromJSON(p,Dr);hr!==Ce&&(rn=pi),Ce=hr;break}}catch{}const xn=te.filter(hr=>hr._shouldAllowMigration);return Ce._shouldAllowMigration&&xn.length?(Ce=xn[0],rn&&(yield Ce._set(Rt,rn.toJSON())),yield Promise.all(m.map(function(){var hr=(0,c.A)(function*(Dr){if(Dr!==Ce)try{yield Dr._remove(Rt)}catch{}});return function(Dr){return hr.apply(this,arguments)}}())),new yt(Ce,p,D)):new yt(Ce,p,D)})()}}function Cr(E){const p=E.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(tr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Nn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Wi(p))return"Blackberry";if(ki(p))return"Webos";if(Nr(p))return"Safari";if((p.includes("chrome/")||Jr(p))&&!p.includes("edge/"))return"Chrome";if(oi(p))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Nn(E=(0,L.ZQ)()){return/firefox\//i.test(E)}function Nr(E=(0,L.ZQ)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Jr(E=(0,L.ZQ)()){return/crios\//i.test(E)}function tr(E=(0,L.ZQ)()){return/iemobile/i.test(E)}function oi(E=(0,L.ZQ)()){return/android/i.test(E)}function Wi(E=(0,L.ZQ)()){return/blackberry/i.test(E)}function ki(E=(0,L.ZQ)()){return/webos/i.test(E)}function Vi(E=(0,L.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function eo(E=(0,L.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function q(E=(0,L.ZQ)()){return Vi(E)||oi(E)||ki(E)||Wi(E)||/windows phone/i.test(E)||tr(E)}function Re(E,p=[]){let m;switch(E){case"Browser":m=Cr((0,L.ZQ)());break;case"Worker":m=`${Cr((0,L.ZQ)())}-${E}`;break;default:m=E}const D=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${h.SDK_VERSION}/${D}`}class ne{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const D=Ce=>new Promise((Rt,rn)=>{try{Rt(p(Ce))}catch(xn){rn(xn)}});D.onAbort=m,this.queue.push(D);const te=this.queue.length-1;return()=>{this.queue[te]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.A)(function*(){if(m.auth.currentUser===p)return;const D=[];try{for(const te of m.queue)yield te(p),te.onAbort&&D.push(te.onAbort)}catch(te){D.reverse();for(const Ce of D)try{Ce()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==te?void 0:te.message})}})()}}function xe(){return(xe=(0,c.A)(function*(E,p={}){return At(E,"GET","/v2/passwordPolicy",nt(E,p))})).apply(this,arguments)}class on{constructor(p){var m,D,te,Ce;const Rt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Rt.minPasswordLength)&&void 0!==m?m:6,Rt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Rt.maxPasswordLength),void 0!==Rt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Rt.containsLowercaseCharacter),void 0!==Rt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Rt.containsUppercaseCharacter),void 0!==Rt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Rt.containsNumericCharacter),void 0!==Rt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Rt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(te=null===(D=p.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==te?te:"",this.forceUpgradeOnSignin=null!==(Ce=p.forceUpgradeOnSignin)&&void 0!==Ce&&Ce,this.schemaVersion=p.schemaVersion}validatePassword(p){var m,D,te,Ce,Rt,rn;const xn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,xn),this.validatePasswordCharacterOptions(p,xn),xn.isValid&&(xn.isValid=null===(m=xn.meetsMinPasswordLength)||void 0===m||m),xn.isValid&&(xn.isValid=null===(D=xn.meetsMaxPasswordLength)||void 0===D||D),xn.isValid&&(xn.isValid=null===(te=xn.containsLowercaseLetter)||void 0===te||te),xn.isValid&&(xn.isValid=null===(Ce=xn.containsUppercaseLetter)||void 0===Ce||Ce),xn.isValid&&(xn.isValid=null===(Rt=xn.containsNumericCharacter)||void 0===Rt||Rt),xn.isValid&&(xn.isValid=null===(rn=xn.containsNonAlphanumericCharacter)||void 0===rn||rn),xn}validatePasswordLengthOptions(p,m){const D=this.customStrengthOptions.minPasswordLength,te=this.customStrengthOptions.maxPasswordLength;D&&(m.meetsMinPasswordLength=p.length>=D),te&&(m.meetsMaxPasswordLength=p.length<=te)}validatePasswordCharacterOptions(p,m){let D;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let te=0;te<p.length;te++)D=p.charAt(te),this.updatePasswordCharacterOptionsStatuses(m,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(p,m,D,te,Ce){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=te)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=Ce))}}class yn{constructor(p,m,D,te){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=D,this.config=te,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $e(this),this.idTokenSubscription=new $e(this),this.beforeStateQueue=new ne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=te.sdkClientVersion}_initializeWithPersistence(p,m){var D=this;return m&&(this._popupRedirectResolver=ln(m)),this._initializationPromise=this.queue((0,c.A)(function*(){var te,Ce;if(!D._deleted&&(D.persistenceManager=yield yt.create(D,p),!D._deleted)){if(null!==(te=D._popupRedirectResolver)&&void 0!==te&&te._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(Ce=D.currentUser)||void 0===Ce?void 0:Ce.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.A)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(p){var m=this;return(0,c.A)(function*(){try{const D=yield zn(m,{idToken:p}),te=yield Xe._fromGetAccountInfoResponse(m,D,p);yield m.directlySetCurrentUser(te)}catch(D){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",D),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var m=this;return(0,c.A)(function*(){var D;if((0,h._isFirebaseServerApp)(m.app)){const rn=m.app.settings.authIdToken;return rn?new Promise(xn=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(rn).then(xn,xn))}):m.directlySetCurrentUser(null)}const te=yield m.assertedPersistence.getCurrentUser();let Ce=te,Rt=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const rn=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,xn=null==Ce?void 0:Ce._redirectEventId,hr=yield m.tryRedirectSignIn(p);(!rn||rn===xn)&&null!=hr&&hr.user&&(Ce=hr.user,Rt=!0)}if(!Ce)return m.directlySetCurrentUser(null);if(!Ce._redirectEventId){if(Rt)try{yield m.beforeStateQueue.runMiddleware(Ce)}catch(rn){Ce=te,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(rn))}return Ce?m.reloadAndSetCurrentUserOrClear(Ce):m.directlySetCurrentUser(null)}return Se(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Ce._redirectEventId?m.directlySetCurrentUser(Ce):m.reloadAndSetCurrentUserOrClear(Ce)})()}tryRedirectSignIn(p){var m=this;return(0,c.A)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.A)(function*(){try{yield lr(p)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Wt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var p=this;return(0,c.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(m.app))return Promise.reject(Qe(m));const D=p?(0,L.Ku)(p):null;return D&&Se(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(p,m=!1){var D=this;return(0,c.A)(function*(){if(!D._deleted)return p&&Se(D.tenantId===p.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(p)),D.queue((0,c.A)(function*(){yield D.directlySetCurrentUser(p),D.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.A)(function*(){return(0,h._isFirebaseServerApp)(p.app)?Promise.reject(Qe(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var m=this;return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(Qe(this)):this.queue((0,c.A)(function*(){yield m.assertedPersistence.setPersistence(ln(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var m=this;return(0,c.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const D=m._getPasswordPolicyInternal();return D.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.A)(function*(){const m=yield function se(E){return xe.apply(this,arguments)}(p),D=new on(m);null===p.tenantId?p._projectPasswordPolicy=D:p._tenantPasswordPolicies[p.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.FA("auth","Firebase",p())}onAuthStateChanged(p,m,D){return this.registerStateListener(this.authStateSubscription,p,m,D)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,D){return this.registerStateListener(this.idTokenSubscription,p,m,D)}authStateReady(){return new Promise((p,m)=>{if(this.currentUser)p();else{const D=this.onAuthStateChanged(()=>{D(),p()},m)}})}revokeAccessToken(p){var m=this;return(0,c.A)(function*(){if(m.currentUser){const D=yield m.currentUser.getIdToken(),te={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:D};null!=m.tenantId&&(te.tenantId=m.tenantId),yield function _n(E,p){return oe.apply(this,arguments)}(m,te)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var D=this;return(0,c.A)(function*(){const te=yield D.getOrInitRedirectPersistenceManager(m);return null===p?te.removeCurrentUser():te.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.A)(function*(){if(!m.redirectPersistenceManager){const D=p&&ln(p)||m._popupRedirectResolver;Se(D,m,"argument-error"),m.redirectPersistenceManager=yield yt.create(m,[ln(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.A)(function*(){var D,te;return m._isInitialized&&(yield m.queue((0,c.A)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===p?m._currentUser:(null===(te=m.redirectUser)||void 0===te?void 0:te._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.A)(function*(){if(p===m.currentUser)return m.queue((0,c.A)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,D,te){if(this._deleted)return()=>{};const Ce="function"==typeof m?m:m.next.bind(m);let Rt=!1;const rn=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(rn,this,"internal-error"),rn.then(()=>{Rt||Ce(this.currentUser)}),"function"==typeof m){const xn=p.addObserver(m,D,te);return()=>{Rt=!0,xn()}}{const xn=p.addObserver(m);return()=>{Rt=!0,xn()}}}directlySetCurrentUser(p){var m=this;return(0,c.A)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.A)(function*(){var m;const D={"X-Client-Version":p.clientVersion};p.app.options.appId&&(D["X-Firebase-gmpid"]=p.app.options.appId);const te=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();te&&(D["X-Firebase-Client"]=te);const Ce=yield p._getAppCheckToken();return Ce&&(D["X-Firebase-AppCheck"]=Ce),D})()}_getAppCheckToken(){var p=this;return(0,c.A)(function*(){var m;const D=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=D&&D.error&&function xt(E,...p){lt.logLevel<=ve.$b.WARN&&lt.warn(`Auth (${h.SDK_VERSION}): ${E}`,...p)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function he(E){return(0,L.Ku)(E)}class $e{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.tD)(m=>this.observer=m)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pt={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zt(E){return pt.loadJS(E)}function fr(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Ai{constructor(p){this.type="recaptcha-enterprise",this.auth=he(p)}verify(p="verify",m=!1){var D=this;return(0,c.A)(function*(){function Ce(){return Ce=(0,c.A)(function*(rn){if(!m){if(null==rn.tenantId&&null!=rn._agentRecaptchaConfig)return rn._agentRecaptchaConfig.siteKey;if(null!=rn.tenantId&&void 0!==rn._tenantRecaptchaConfigs[rn.tenantId])return rn._tenantRecaptchaConfigs[rn.tenantId].siteKey}return new Promise(function(){var xn=(0,c.A)(function*(hr,Dr){Ke(rn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pi=>{if(void 0!==pi.recaptchaKey){const Ys=new vn(pi);return null==rn.tenantId?rn._agentRecaptchaConfig=Ys:rn._tenantRecaptchaConfigs[rn.tenantId]=Ys,hr(Ys.siteKey)}Dr(new Error("recaptcha Enterprise site key undefined"))}).catch(pi=>{Dr(pi)})});return function(hr,Dr){return xn.apply(this,arguments)}}())}),Ce.apply(this,arguments)}function Rt(rn,xn,hr){const Dr=window.grecaptcha;Dt(Dr)?Dr.enterprise.ready(()=>{Dr.enterprise.execute(rn,{action:p}).then(pi=>{xn(pi)}).catch(()=>{xn("NO_RECAPTCHA")})}):hr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rn,xn)=>{(function te(rn){return Ce.apply(this,arguments)})(D.auth).then(hr=>{if(!m&&Dt(window.grecaptcha))Rt(hr,rn,xn);else{if(typeof window>"u")return void xn(new Error("RecaptchaVerifier is only supported in browser"));let Dr=function Bn(){return pt.recaptchaEnterpriseScript}();0!==Dr.length&&(Dr+=hr),zt(Dr).then(()=>{Rt(hr,rn,xn)}).catch(pi=>{xn(pi)})}}).catch(hr=>{xn(hr)})})})()}}function Fi(E,p,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.A)(function*(E,p,m,D=!1){const te=new Ai(E);let Ce;try{Ce=yield te.verify(m)}catch{Ce=yield te.verify(m,!0)}const Rt=Object.assign({},p);return Object.assign(Rt,D?{captchaResp:Ce}:{captchaResponse:Ce}),Object.assign(Rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Rt})).apply(this,arguments)}function Zr(E,p,m,D){return _i.apply(this,arguments)}function _i(){return _i=(0,c.A)(function*(E,p,m,D){var te;if(null!==(te=E._getRecaptchaConfig())&&void 0!==te&&te.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ce=yield Fi(E,p,m,"getOobCode"===m);return D(E,Ce)}return D(E,p).catch(function(){var Ce=(0,c.A)(function*(Rt){if("auth/missing-recaptcha-token"===Rt.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const rn=yield Fi(E,p,m,"getOobCode"===m);return D(E,rn)}return Promise.reject(Rt)});return function(Rt){return Ce.apply(this,arguments)}}())}),_i.apply(this,arguments)}function wi(E,p,m){const D=he(E);Se(D._canInitEmulator,D,"emulator-config-failed"),Se(/^https?:\/\//.test(p),D,"invalid-emulator-scheme");const te=!(null==m||!m.disableWarnings),Ce=pr(p),{host:Rt,port:rn}=function wr(E){const p=pr(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(p.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",te=/^(\[[^\]]+\])(:|$)/.exec(D);if(te){const Ce=te[1];return{host:Ce,port:vo(D.substr(Ce.length+1))}}{const[Ce,Rt]=D.split(":");return{host:Ce,port:vo(Rt)}}}(p);D.config.emulator={url:`${Ce}//${Rt}${null===rn?"":`:${rn}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Rt,port:rn,protocol:Ce.replace(":",""),options:Object.freeze({disableWarnings:te})}),te||function uo(){function E(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function pr(E){const p=E.indexOf(":");return p<0?"":E.substr(0,p+1)}function vo(E){if(!E)return null;const p=Number(E);return isNaN(p)?null:p}class co{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return gt("not implemented")}_getIdTokenResponse(p){return gt("not implemented")}_linkToIdToken(p,m){return gt("not implemented")}_getReauthenticationResolver(p){return gt("not implemented")}}function Di(E,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:resetPassword",nt(E,p))})).apply(this,arguments)}function kr(){return(kr=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mo(E,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Bi(){return(Bi=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:update",nt(E,p))})).apply(this,arguments)}function ui(E,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signInWithPassword",nt(E,p))})).apply(this,arguments)}function yo(E,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:sendOobCode",nt(E,p))})).apply(this,arguments)}function Z(){return(Z=(0,c.A)(function*(E,p){return yo(E,p)})).apply(this,arguments)}function fe(E,p){return N.apply(this,arguments)}function N(){return(N=(0,c.A)(function*(E,p){return yo(E,p)})).apply(this,arguments)}function T(E,p){return V.apply(this,arguments)}function V(){return(V=(0,c.A)(function*(E,p){return yo(E,p)})).apply(this,arguments)}function Ye(){return(Ye=(0,c.A)(function*(E,p){return yo(E,p)})).apply(this,arguments)}function It(){return(It=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signInWithEmailLink",nt(E,p))})).apply(this,arguments)}function Ut(){return(Ut=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signInWithEmailLink",nt(E,p))})).apply(this,arguments)}class sn extends co{constructor(p,m,D,te=null){super("password",D),this._email=p,this._password=m,this._tenantId=te}static _fromEmailAndPassword(p,m){return new sn(p,m,"password")}static _fromEmailAndCode(p,m,D=null){return new sn(p,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.A)(function*(){switch(m.signInMethod){case"password":return Zr(p,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ui);case"emailLink":return function bt(E,p){return It.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,m){var D=this;return(0,c.A)(function*(){switch(D.signInMethod){case"password":return Zr(p,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mo);case"emailLink":return function dn(E,p){return Ut.apply(this,arguments)}(p,{idToken:m,email:D._email,oobCode:D._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function pn(E,p){return $n.apply(this,arguments)}function $n(){return($n=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signInWithIdp",nt(E,p))})).apply(this,arguments)}class er extends co{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new er(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:D,signInMethod:te}=m,Ce=(0,X.Tt)(m,["providerId","signInMethod"]);if(!D||!te)return null;const Rt=new er(D,te);return Rt.idToken=Ce.idToken||void 0,Rt.accessToken=Ce.accessToken||void 0,Rt.secret=Ce.secret,Rt.nonce=Ce.nonce,Rt.pendingToken=Ce.pendingToken||null,Rt}_getIdTokenResponse(p){return pn(p,this.buildRequest())}_linkToIdToken(p,m){const D=this.buildRequest();return D.idToken=m,pn(p,D)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,pn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.Am)(m)}return p}}function Ur(){return(Ur=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:sendVerificationCode",nt(E,p))})).apply(this,arguments)}function Ii(){return(Ii=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signInWithPhoneNumber",nt(E,p))})).apply(this,arguments)}function gi(){return(gi=(0,c.A)(function*(E,p){const m=yield Xt(E,"POST","/v1/accounts:signInWithPhoneNumber",nt(E,p));if(m.temporaryProof)throw bn(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const oo={USER_NOT_FOUND:"user-not-found"};function Ki(){return(Ki=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signInWithPhoneNumber",nt(E,Object.assign(Object.assign({},p),{operation:"REAUTH"})),oo)})).apply(this,arguments)}class ho extends co{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ho({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ho({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function yi(E,p){return Ii.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function mi(E,p){return gi.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ji(E,p){return Ki.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:D,verificationCode:te}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:D,code:te}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:D,phoneNumber:te,temporaryProof:Ce}=p;return D||m||te||Ce?new ho({verificationId:m,verificationCode:D,phoneNumber:te,temporaryProof:Ce}):null}}class Fo{constructor(p){var m,D,te,Ce,Rt,rn;const xn=(0,L.I9)((0,L.hp)(p)),hr=null!==(m=xn.apiKey)&&void 0!==m?m:null,Dr=null!==(D=xn.oobCode)&&void 0!==D?D:null,pi=function Uo(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=xn.mode)&&void 0!==te?te:null);Se(hr&&Dr&&pi,"argument-error"),this.apiKey=hr,this.operation=pi,this.code=Dr,this.continueUrl=null!==(Ce=xn.continueUrl)&&void 0!==Ce?Ce:null,this.languageCode=null!==(Rt=xn.languageCode)&&void 0!==Rt?Rt:null,this.tenantId=null!==(rn=xn.tenantId)&&void 0!==rn?rn:null}static parseLink(p){const m=function rs(E){const p=(0,L.I9)((0,L.hp)(E)).link,m=p?(0,L.I9)((0,L.hp)(p)).deep_link_id:null,D=(0,L.I9)((0,L.hp)(E)).deep_link_id;return(D?(0,L.I9)((0,L.hp)(D)).link:null)||D||m||p||E}(p);try{return new Fo(m)}catch{return null}}}let Bo=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,D){return sn._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const te=Fo.parseLink(D);return Se(te,"argument-error"),sn._fromEmailAndCode(m,te.code,te.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class $o{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Rs extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class so extends Rs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Se("providerId"in m&&"signInMethod"in m,"argument-error"),er._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Se(p.idToken||p.accessToken,"argument-error"),er._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return so.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return so.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:te,pendingToken:Ce,nonce:Rt,providerId:rn}=p;if(!D&&!te&&!m&&!Ce||!rn)return null;try{return new so(rn)._credential({idToken:m,accessToken:D,nonce:Rt,pendingToken:Ce})}catch{return null}}}let zs=(()=>{class E extends Rs{constructor(){super("facebook.com")}static credential(m){return er._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),hs=(()=>{class E extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return er._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:te}=m;if(!D&&!te)return null;try{return E.credential(D,te)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),wo=(()=>{class E extends Rs{constructor(){super("github.com")}static credential(m){return er._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Gr extends co{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return pn(p,this.buildRequest())}_linkToIdToken(p,m){const D=this.buildRequest();return D.idToken=m,pn(p,D)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,pn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:D,signInMethod:te,pendingToken:Ce}=m;return D&&te&&Ce&&D===te?new Gr(D,Ce):null}static _create(p,m){return new Gr(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ji extends $o{constructor(p){Se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ji.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ji.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Gr.fromJSON(p);return Se(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:D}=p;if(!m||!D)return null;try{return Gr._create(D,m)}catch{return null}}}let fs=(()=>{class E extends Rs{constructor(){super("twitter.com")}static credential(m,D){return er._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:te}=m;if(!D||!te)return null;try{return E.credential(D,te)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function ae(E,p){return G.apply(this,arguments)}function G(){return(G=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signUp",nt(E,p))})).apply(this,arguments)}class b{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,D,te=!1){return(0,c.A)(function*(){const Ce=yield Xe._fromIdTokenResponse(p,D,te),Rt=A(D);return new b({user:Ce,providerId:Rt,_tokenResponse:D,operationType:m})})()}static _forOperation(p,m,D){return(0,c.A)(function*(){yield p._updateTokensIfNecessary(D,!0);const te=A(D);return new b({user:p,providerId:te,_tokenResponse:D,operationType:m})})()}}function A(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function j(E){return ue.apply(this,arguments)}function ue(){return(ue=(0,c.A)(function*(E){var p;if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const m=he(E);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new b({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield ae(m,{returnSecureToken:!0}),te=yield b._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(te.user),te})).apply(this,arguments)}class be extends L.g{constructor(p,m,D,te){var Ce;super(m.code,m.message),this.operationType=D,this.user=te,Object.setPrototypeOf(this,be.prototype),this.customData={appName:p.name,tenantId:null!==(Ce=p.tenantId)&&void 0!==Ce?Ce:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(p,m,D,te){return new be(p,m,D,te)}}function ke(E,p,m,D){return("reauthenticate"===p?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(Ce=>{throw"auth/multi-factor-auth-required"===Ce.code?be._fromErrorAndOperation(E,Ce,p,D):Ce})}function ct(E){return new Set(E.map(({providerId:p})=>p).filter(p=>!!p))}function wt(E,p){return ht.apply(this,arguments)}function ht(){return ht=(0,c.A)(function*(E,p){const m=(0,L.Ku)(E);yield mr(!0,m,p);const{providerUserInfo:D}=yield function ir(E,p){return Un.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),te=ct(D||[]);return m.providerData=m.providerData.filter(Ce=>te.has(Ce.providerId)),te.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ht.apply(this,arguments)}function Dn(E,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.A)(function*(E,p,m=!1){const D=yield Jn(E,p._linkToIdToken(E.auth,yield E.getIdToken()),m);return b._forOperation(E,"link",D)})).apply(this,arguments)}function mr(E,p,m){return br.apply(this,arguments)}function br(){return(br=(0,c.A)(function*(E,p,m){yield lr(p);const te=!1===E?"provider-already-linked":"no-such-provider";Se(ct(p.providerData).has(m)===E,p.auth,te)})).apply(this,arguments)}function Mi(E,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.A)(function*(E,p,m=!1){const{auth:D}=E;if((0,h._isFirebaseServerApp)(D.app))return Promise.reject(Qe(D));const te="reauthenticate";try{const Ce=yield Jn(E,ke(D,te,p,E),m);Se(Ce.idToken,D,"internal-error");const Rt=jn(Ce.idToken);Se(Rt,D,"internal-error");const{sub:rn}=Rt;return Se(E.uid===rn,D,"user-mismatch"),b._forOperation(E,te,Ce)}catch(Ce){throw"auth/user-not-found"===(null==Ce?void 0:Ce.code)&&Ie(D,"user-mismatch"),Ce}})).apply(this,arguments)}function jo(E,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.A)(function*(E,p,m=!1){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const D="signIn",te=yield ke(E,D,p),Ce=yield b._fromIdTokenResponse(E,D,te);return m||(yield E._updateCurrentUser(Ce.user)),Ce})).apply(this,arguments)}function K(E,p){return O.apply(this,arguments)}function O(){return(O=(0,c.A)(function*(E,p){return jo(he(E),p)})).apply(this,arguments)}function ce(E,p){return H.apply(this,arguments)}function H(){return(H=(0,c.A)(function*(E,p){const m=(0,L.Ku)(E);return yield mr(!1,m,p.providerId),Dn(m,p)})).apply(this,arguments)}function we(E,p){return En.apply(this,arguments)}function En(){return(En=(0,c.A)(function*(E,p){return Mi((0,L.Ku)(E),p)})).apply(this,arguments)}function xi(){return(xi=(0,c.A)(function*(E,p){return Xt(E,"POST","/v1/accounts:signInWithCustomToken",nt(E,p))})).apply(this,arguments)}function fo(E,p){return po.apply(this,arguments)}function po(){return po=(0,c.A)(function*(E,p){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const m=he(E),D=yield function dr(E,p){return xi.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),te=yield b._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(te.user),te}),po.apply(this,arguments)}class Io{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Gs._fromServerResponse(p,m):"totpInfo"in m?is._fromServerResponse(p,m):Ie(p,"internal-error")}}class Gs extends Io{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Gs(m)}}class is extends Io{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new is(m)}}function ca(E,p,m){var D;Se((null===(D=m.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),Se(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Se(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Se(m.android.packageName.length>0,E,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function da(E){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.A)(function*(E){const p=he(E);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Ti(E,p,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.A)(function*(E,p,m){const D=he(E),te={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};m&&ca(D,te,m),yield Zr(D,te,"getOobCode",fe)})).apply(this,arguments)}function ps(E,p,m){return go.apply(this,arguments)}function go(){return go=(0,c.A)(function*(E,p,m){yield Di((0,L.Ku)(E),{oobCode:p,newPassword:m}).catch(function(){var D=(0,c.A)(function*(te){throw"auth/password-does-not-meet-requirements"===te.code&&da(E),te});return function(te){return D.apply(this,arguments)}}())}),go.apply(this,arguments)}function Va(E,p){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,c.A)(function*(E,p){yield function Ui(E,p){return Bi.apply(this,arguments)}((0,L.Ku)(E),{oobCode:p})}),Ws.apply(this,arguments)}function gs(E,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.A)(function*(E,p){const m=(0,L.Ku)(E),D=yield Di(m,{oobCode:p}),te=D.requestType;switch(Se(te,m,"internal-error"),te){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(D.mfaInfo,m,"internal-error");default:Se(D.email,m,"internal-error")}let Ce=null;return D.mfaInfo&&(Ce=Io._fromServerResponse(he(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:Ce},operation:te}})).apply(this,arguments)}function al(E,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.A)(function*(E,p){const{data:m}=yield gs((0,L.Ku)(E),p);return m.email})).apply(this,arguments)}function Xu(E,p,m){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(E,p,m){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const D=he(E),Rt=yield Zr(D,{returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ae).catch(xn=>{throw"auth/password-does-not-meet-requirements"===xn.code&&da(E),xn}),rn=yield b._fromIdTokenResponse(D,"signIn",Rt);return yield D._updateCurrentUser(rn.user),rn})).apply(this,arguments)}function Ks(E,p,m){return(0,h._isFirebaseServerApp)(E.app)?Promise.reject(Qe(E)):K((0,L.Ku)(E),Bo.credential(p,m)).catch(function(){var D=(0,c.A)(function*(te){throw"auth/password-does-not-meet-requirements"===te.code&&da(E),te});return function(te){return D.apply(this,arguments)}}())}function Sl(E,p,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.A)(function*(E,p,m){const D=he(E),te={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function Ce(Rt,rn){Se(rn.handleCodeInApp,D,"argument-error"),rn&&ca(D,Rt,rn)})(te,m),yield Zr(D,te,"getOobCode",T)})).apply(this,arguments)}function Ua(E,p){const m=Fo.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function ul(E,p,m){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.A)(function*(E,p,m){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const D=(0,L.Ku)(E),te=Bo.credentialWithLink(p,m||nn());return Se(te._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),K(D,te)})).apply(this,arguments)}function Ba(){return(Ba=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:createAuthUri",nt(E,p))})).apply(this,arguments)}function xs(E,p){return cl.apply(this,arguments)}function cl(){return cl=(0,c.A)(function*(E,p){const D={identifier:p,continueUri:Tn()?nn():"http://localhost"},{signinMethods:te}=yield function ms(E,p){return Ba.apply(this,arguments)}((0,L.Ku)(E),D);return te||[]}),cl.apply(this,arguments)}function Rl(E,p){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,c.A)(function*(E,p){const m=(0,L.Ku)(E),te={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};p&&ca(m.auth,te,p);const{email:Ce}=yield function M(E,p){return Z.apply(this,arguments)}(m.auth,te);Ce!==E.email&&(yield E.reload())}),Wr.apply(this,arguments)}function Hc(E,p,m){return ea.apply(this,arguments)}function ea(){return ea=(0,c.A)(function*(E,p,m){const D=(0,L.Ku)(E),Ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:p};m&&ca(D.auth,Ce,m);const{email:Rt}=yield function Ve(E,p){return Ye.apply(this,arguments)}(D.auth,Ce);Rt!==E.email&&(yield E.reload())}),ea.apply(this,arguments)}function Wo(){return(Wo=(0,c.A)(function*(E,p){return At(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vs(E,p){return ta.apply(this,arguments)}function ta(){return ta=(0,c.A)(function*(E,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const D=(0,L.Ku)(E),Ce={idToken:yield D.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Rt=yield Jn(D,function Sa(E,p){return Wo.apply(this,arguments)}(D.auth,Ce));D.displayName=Rt.displayName||null,D.photoURL=Rt.photoUrl||null;const rn=D.providerData.find(({providerId:xn})=>"password"===xn);rn&&(rn.displayName=D.displayName,rn.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Rt)}),ta.apply(this,arguments)}function tu(E,p){const m=(0,L.Ku)(E);return(0,h._isFirebaseServerApp)(m.auth.app)?Promise.reject(Qe(m.auth)):ja(m,p,null)}function $a(E,p){return ja((0,L.Ku)(E),null,p)}function ja(E,p,m){return os.apply(this,arguments)}function os(){return os=(0,c.A)(function*(E,p,m){const{auth:D}=E,Ce={idToken:yield E.getIdToken(),returnSecureToken:!0};p&&(Ce.email=p),m&&(Ce.password=m);const Rt=yield Jn(E,function Qi(E,p){return kr.apply(this,arguments)}(D,Ce));yield E._updateTokensIfNecessary(Rt,!0)}),os.apply(this,arguments)}class pa{constructor(p,m,D={}){this.isNewUser=p,this.providerId=m,this.profile=D}}class _s extends pa{constructor(p,m,D,te){super(p,m,D),this.username=te}}class ga extends pa{constructor(p,m){super(p,"facebook.com",m)}}class Ra extends _s{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Pl extends pa{constructor(p,m){super(p,"google.com",m)}}class w extends _s{constructor(p,m,D){super(p,"twitter.com",m,D)}}function W(E){const{user:p,_tokenResponse:m}=E;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function qs(E){var p,m;if(!E)return null;const{providerId:D}=E,te=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},Ce=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&null!=E&&E.idToken){const Rt=null===(m=null===(p=jn(E.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Rt)return new pa(Ce,"anonymous"!==Rt&&"custom"!==Rt?Rt:null)}if(!D)return null;switch(D){case"facebook.com":return new ga(Ce,te);case"github.com":return new Ra(Ce,te);case"google.com":return new Pl(Ce,te);case"twitter.com":return new w(Ce,te,E.screenName||null);case"custom":case"anonymous":return new pa(Ce,null);default:return new pa(Ce,D,te)}}(m)}class $i{constructor(p,m,D){this.type=p,this.credential=m,this.user=D}static _fromIdtoken(p,m){return new $i("enroll",p,m)}static _fromMfaPendingCredential(p){return new $i("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,D;if(null!=p&&p.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return $i._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(D=p.multiFactorSession)&&void 0!==D&&D.idToken)return $i._fromIdtoken(p.multiFactorSession.idToken)}return null}}class vi{constructor(p,m,D){this.session=p,this.hints=m,this.signInResolver=D}static _fromError(p,m){const D=he(p),te=m.customData._serverResponse,Ce=(te.mfaInfo||[]).map(rn=>Io._fromServerResponse(D,rn));Se(te.mfaPendingCredential,D,"internal-error");const Rt=$i._fromMfaPendingCredential(te.mfaPendingCredential);return new vi(Rt,Ce,function(){var rn=(0,c.A)(function*(xn){const hr=yield xn._process(D,Rt);delete te.mfaInfo,delete te.mfaPendingCredential;const Dr=Object.assign(Object.assign({},te),{idToken:hr.idToken,refreshToken:hr.refreshToken});switch(m.operationType){case"signIn":const pi=yield b._fromIdTokenResponse(D,m.operationType,Dr);return yield D._updateCurrentUser(pi.user),pi;case"reauthenticate":return Se(m.user,D,"internal-error"),b._forOperation(m.user,m.operationType,Dr);default:Ie(D,"internal-error")}});return function(xn){return rn.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.A)(function*(){return m.signInResolver(p)})()}}function Ln(E,p){var m;const D=(0,L.Ku)(E),te=p;return Se(p.customData.operationType,D,"argument-error"),Se(null===(m=te.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),vi._fromError(D,te)}class Os{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>Io._fromServerResponse(p.auth,D)))})}static _fromUser(p){return new Os(p)}getSession(){var p=this;return(0,c.A)(function*(){return $i._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,m){var D=this;return(0,c.A)(function*(){const te=p,Ce=yield D.getSession(),Rt=yield Jn(D.user,te._process(D.user.auth,Ce,m));return yield D.user._updateTokensIfNecessary(Rt),D.user.reload()})()}unenroll(p){var m=this;return(0,c.A)(function*(){const D="string"==typeof p?p:p.uid,te=yield m.user.getIdToken();try{const Ce=yield Jn(m.user,function No(E,p){return At(E,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(E,p))}(m.user.auth,{idToken:te,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Rt})=>Rt!==D),yield m.user._updateTokensIfNecessary(Ce),yield m.user.reload()}catch(Ce){throw Ce}})()}}const Xr=new WeakMap;function Rr(E){const p=(0,L.Ku)(E);return Xr.has(p)||Xr.set(p,Os._fromUser(p)),Xr.get(p)}const Yo="__sak";class $r{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const to=(()=>{class E extends $r{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const te=this.storage.getItem(D),Ce=this.localCache[D];te!==Ce&&m(D,Ce,te)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((rn,xn,hr)=>{this.notifyListeners(rn,hr)});const te=m.key;D?this.detachListener():this.stopPolling();const Ce=()=>{const rn=this.storage.getItem(te);!D&&this.localCache[te]===rn||this.notifyListeners(te,rn)},Rt=this.storage.getItem(te);!function pe(){return(0,L.lT)()&&10===document.documentMode}()||Rt===m.newValue||m.newValue===m.oldValue?Ce():setTimeout(Ce,10)}notifyListeners(m,D){this.localCache[m]=D;const te=this.listeners[m];if(te)for(const Ce of Array.from(te))Ce(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,te)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:te}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var te=()=>super._set,Ce=this;return(0,c.A)(function*(){yield te().call(Ce,m,D),Ce.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,te=this;return(0,c.A)(function*(){const Ce=yield D().call(te,m);return te.localCache[m]=JSON.stringify(Ce),Ce})()}_remove(m){var D=()=>super._remove,te=this;return(0,c.A)(function*(){yield D().call(te,m),delete te.localCache[m]})()}}return E.type="LOCAL",E})(),va=(()=>{class E extends $r{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return E.type="SESSION",E})();let Xs=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(Ce=>Ce.isListeningto(m));if(D)return D;const te=new E(m);return this.receivers.push(te),te}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,c.A)(function*(){const te=m,{eventId:Ce,eventType:Rt,data:rn}=te.data,xn=D.handlersMap[Rt];if(null==xn||!xn.size)return;te.ports[0].postMessage({status:"ack",eventId:Ce,eventType:Rt});const hr=Array.from(xn).map(function(){var pi=(0,c.A)(function*(Ys){return Ys(te.origin,rn)});return function(Ys){return pi.apply(this,arguments)}}()),Dr=yield function Zo(E){return Promise.all(E.map(function(){var p=(0,c.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return p.apply(this,arguments)}}()))}(hr);te.ports[0].postMessage({status:"done",eventId:Ce,eventType:Rt,response:Dr})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function ks(E="",p=10){let m="";for(let D=0;D<p;D++)m+=Math.floor(10*Math.random());return E+m}class Qs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,D=50){var te=this;return(0,c.A)(function*(){const Ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ce)throw new Error("connection_unavailable");let Rt,rn;return new Promise((xn,hr)=>{const Dr=ks("",20);Ce.port1.start();const pi=setTimeout(()=>{hr(new Error("unsupported_event"))},D);rn={messageChannel:Ce,onMessage(Ys){const ba=Ys;if(ba.data.eventId===Dr)switch(ba.data.status){case"ack":clearTimeout(pi),Rt=setTimeout(()=>{hr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Rt),xn(ba.data.response);break;default:clearTimeout(pi),clearTimeout(Rt),hr(new Error("invalid_response"))}}},te.handlers.add(rn),Ce.port1.addEventListener("message",rn.onMessage),te.target.postMessage({eventType:p,eventId:Dr,data:m},[Ce.port2])}).finally(()=>{rn&&te.removeMessageHandler(rn)})})()}}function no(){return window}function yr(){return typeof no().WorkerGlobalScope<"u"&&"function"==typeof no().importScripts}function Ha(){return(Ha=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const za="firebaseLocalStorageDb",hl="firebaseLocalStorage",mo="fbase_key";class ro{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ga(E,p){return E.transaction([hl],p?"readwrite":"readonly").objectStore(hl)}function Yi(){const E=indexedDB.open(za,1);return new Promise((p,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(hl,{keyPath:mo})}catch(te){m(te)}}),E.addEventListener("success",(0,c.A)(function*(){const D=E.result;D.objectStoreNames.contains(hl)?p(D):(D.close(),yield function Wa(){const E=indexedDB.deleteDatabase(za);return new ro(E).toPromise()}(),p(yield Yi()))}))})}function ss(E,p,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.A)(function*(E,p,m){const D=Ga(E,!0).put({[mo]:p,value:m});return new ro(D).toPromise()})).apply(this,arguments)}function Pa(){return(Pa=(0,c.A)(function*(E,p){const m=Ga(E,!1).get(p),D=yield new ro(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ys(E,p){const m=Ga(E,!0).delete(p);return new ro(m).toPromise()}const zd=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.A)(function*(){return m.db||(m.db=yield Yi()),m.db})()}_withRetries(m){var D=this;return(0,c.A)(function*(){let te=0;for(;;)try{const Ce=yield D._openDb();return yield m(Ce)}catch(Ce){if(te++>3)throw Ce;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.A)(function*(){return yr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.A)(function*(){m.receiver=Xs._getInstance(function Ju(){return yr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,c.A)(function*(te,Ce){return{keyProcessed:(yield m._poll()).includes(Ce.key)}});return function(te,Ce){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,c.A)(function*(te,Ce){return["keyChanged"]});return function(te,Ce){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.A)(function*(){var D,te;if(m.activeServiceWorker=yield function Qu(){return Ha.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Qs(m.activeServiceWorker);const Ce=yield m.sender._send("ping",{},800);Ce&&null!==(D=Ce[0])&&void 0!==D&&D.fulfilled&&null!==(te=Ce[0])&&void 0!==te&&te.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,c.A)(function*(){if(D.sender&&D.activeServiceWorker&&function na(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const m=yield Yi();return yield ss(m,Yo,"1"),yield ys(m,Yo),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,c.A)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var te=this;return(0,c.A)(function*(){return te._withPendingWrite((0,c.A)(function*(){return yield te._withRetries(Ce=>ss(Ce,m,D)),te.localCache[m]=D,te.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,c.A)(function*(){const te=yield D._withRetries(Ce=>function Yu(E,p){return Pa.apply(this,arguments)}(Ce,m));return D.localCache[m]=te,te})()}_remove(m){var D=this;return(0,c.A)(function*(){return D._withPendingWrite((0,c.A)(function*(){return yield D._withRetries(te=>ys(te,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.A)(function*(){const D=yield m._withRetries(Rt=>{const rn=Ga(Rt,!1).getAll();return new ro(rn).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const te=[],Ce=new Set;if(0!==D.length)for(const{fbase_key:Rt,value:rn}of D)Ce.add(Rt),JSON.stringify(m.localCache[Rt])!==JSON.stringify(rn)&&(m.notifyListeners(Rt,rn),te.push(Rt));for(const Rt of Object.keys(m.localCache))m.localCache[Rt]&&!Ce.has(Rt)&&(m.notifyListeners(Rt,null),te.push(Rt));return te})()}notifyListeners(m,D){this.localCache[m]=D;const te=this.listeners[m];if(te)for(const Ce of Array.from(te))Ce(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),S=1e12;class B{constructor(p){this.auth=p,this.counter=S,this._widgets=new Map}render(p,m){const D=this.counter;return this._widgets.set(D,new Ee(p,this.auth.name,m||{})),this.counter++,D}reset(p){var m;const D=p||S;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(p){var m;return(null===(m=this._widgets.get(p||S))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.A)(function*(){var D;return null===(D=m._widgets.get(p||S))||void 0===D||D.execute(),""})()}}class Ee{constructor(p,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const te="string"==typeof p?document.getElementById(p):p;Se(te,"argument-error",{appName:m}),this.container=te,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function De(E){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<E;D++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bt=fr("rcb"),An=new Le(3e4,6e4);class Ht{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=no().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Se(function Yn(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Qt(no().grecaptcha)?Promise.resolve(no().grecaptcha):new Promise((D,te)=>{const Ce=no().setTimeout(()=>{te(Te(p,"network-request-failed"))},An.get());no()[Bt]=()=>{no().clearTimeout(Ce),delete no()[Bt];const rn=no().grecaptcha;if(!rn||!Qt(rn))return void te(Te(p,"internal-error"));const xn=rn.render;rn.render=(hr,Dr)=>{const pi=xn(hr,Dr);return this.counter++,pi},this.hostLanguage=m,D(rn)},zt(`${function In(){return pt.recaptchaV2Script}()}?${(0,L.Am)({onload:Bt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Ce),te(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=no().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jr{load(p){return(0,c.A)(function*(){return new B(p)})()}clearedOneInstance(){}}const Li="recaptcha",ri={theme:"light",type:"image"};class zi{constructor(p,m,D=Object.assign({},ri)){this.parameters=D,this.type=Li,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=he(p),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const te="string"==typeof m?document.getElementById(m):m;Se(te,this.auth,"argument-error"),this.container=te,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jr:new Ht,this.validateStartingState()}verify(){var p=this;return(0,c.A)(function*(){p.assertNotDestroyed();const m=yield p.render(),D=p.getAssertedRecaptcha();return D.getResponse(m)||new Promise(Ce=>{const Rt=rn=>{rn&&(p.tokenChangeListeners.delete(Rt),Ce(rn))};p.tokenChangeListeners.add(Rt),p.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof p)p(m);else if("string"==typeof p){const D=no()[p];"function"==typeof D&&D(m)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.A)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.A)(function*(){Se(Tn()&&!yr(),p.auth,"internal-error"),yield function ko(){let E=null;return new Promise(p=>{"complete"!==document.readyState?(E=()=>p(),window.addEventListener("load",E)):p()}).catch(p=>{throw E&&window.removeEventListener("load",E),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function it(E){return Oe.apply(this,arguments)}(p.auth);Se(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ho{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ho._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ka(E,p,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.A)(function*(E,p,m){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const D=he(E),te=yield ra(D,p,(0,L.Ku)(m));return new Ho(te,Ce=>K(D,Ce))})).apply(this,arguments)}function Ls(E,p,m){return fl.apply(this,arguments)}function fl(){return(fl=(0,c.A)(function*(E,p,m){const D=(0,L.Ku)(E);yield mr(!1,D,"phone");const te=yield ra(D.auth,p,(0,L.Ku)(m));return new Ho(te,Ce=>ce(D,Ce))})).apply(this,arguments)}function nu(E,p,m){return xl.apply(this,arguments)}function xl(){return(xl=(0,c.A)(function*(E,p,m){const D=(0,L.Ku)(E);if((0,h._isFirebaseServerApp)(D.auth.app))return Promise.reject(Qe(D.auth));const te=yield ra(D.auth,p,(0,L.Ku)(m));return new Ho(te,Ce=>we(D,Ce))})).apply(this,arguments)}function ra(E,p,m){return ya.apply(this,arguments)}function ya(){return ya=(0,c.A)(function*(E,p,m){var D;const te=yield m.verify();try{let Ce;if(Se("string"==typeof te,E,"argument-error"),Se(m.type===Li,E,"argument-error"),Ce="string"==typeof p?{phoneNumber:p}:p,"session"in Ce){const Rt=Ce.session;if("phoneNumber"in Ce)return Se("enroll"===Rt.type,E,"internal-error"),(yield function gr(E,p){return At(E,"POST","/v2/accounts/mfaEnrollment:start",nt(E,p))}(E,{idToken:Rt.credential,phoneEnrollmentInfo:{phoneNumber:Ce.phoneNumber,recaptchaToken:te}})).phoneSessionInfo.sessionInfo;{Se("signin"===Rt.type,E,"internal-error");const rn=(null===(D=Ce.multiFactorHint)||void 0===D?void 0:D.uid)||Ce.multiFactorUid;return Se(rn,E,"missing-multi-factor-info"),(yield function sf(E,p){return At(E,"POST","/v2/accounts/mfaSignIn:start",nt(E,p))}(E,{mfaPendingCredential:Rt.credential,mfaEnrollmentId:rn,phoneSignInInfo:{recaptchaToken:te}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Rt}=yield function ur(E,p){return Ur.apply(this,arguments)}(E,{phoneNumber:Ce.phoneNumber,recaptchaToken:te});return Rt}}finally{m._reset()}}),ya.apply(this,arguments)}function Ol(E,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.A)(function*(E,p){const m=(0,L.Ku)(E);if((0,h._isFirebaseServerApp)(m.auth.app))return Promise.reject(Qe(m.auth));yield Dn(m,p)})).apply(this,arguments)}let ru=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=he(m)}verifyPhoneNumber(m,D){return ra(this.auth,m,(0,L.Ku)(D))}static credential(m,D){return ho._fromVerification(m,D)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:te}=m;return D&&te?ho._fromTokenResponse(D,te):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function qa(E,p){return p?ln(p):(Se(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Si extends co{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return pn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return pn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return pn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ec(E){return jo(E.auth,new Si(E),E.bypassAuthState)}function iu(E){const{auth:p,user:m}=E;return Se(m,p,"internal-error"),Mi(m,new Si(E),E.bypassAuthState)}function as(E){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.A)(function*(E){const{auth:p,user:m}=E;return Se(m,p,"internal-error"),Dn(m,new Si(E),E.bypassAuthState)})).apply(this,arguments)}class Nl{constructor(p,m,D,te,Ce=!1){this.auth=p,this.resolver=D,this.user=te,this.bypassAuthState=Ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.A)(function*(D,te){p.pendingPromise={resolve:D,reject:te};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Ce){p.reject(Ce)}});return function(D,te){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.A)(function*(){const{urlResponse:D,sessionId:te,postBody:Ce,tenantId:Rt,error:rn,type:xn}=p;if(rn)return void m.reject(rn);const hr={auth:m.auth,requestUri:D,sessionId:te,tenantId:Rt||void 0,postBody:Ce||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(xn)(hr))}catch(Dr){m.reject(Dr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ec;case"linkViaPopup":case"linkViaRedirect":return as;case"reauthViaPopup":case"reauthViaRedirect":return iu;default:Ie(this.auth,"internal-error")}}resolve(p){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pl=new Le(2e3,1e4);function ls(E,p,m){return kl.apply(this,arguments)}function kl(){return(kl=(0,c.A)(function*(E,p,m){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Te(E,"operation-not-supported-in-this-environment"));const D=he(E);rt(E,p,$o);const te=qa(D,m);return new Gc(D,"signInViaPopup",p,te).executeNotNull()})).apply(this,arguments)}function Wd(E,p,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.A)(function*(E,p,m){const D=(0,L.Ku)(E);if((0,h._isFirebaseServerApp)(D.auth.app))return Promise.reject(Te(D.auth,"operation-not-supported-in-this-environment"));rt(D.auth,p,$o);const te=qa(D.auth,m);return new Gc(D.auth,"reauthViaPopup",p,te,D).executeNotNull()})).apply(this,arguments)}function ia(E,p,m){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.A)(function*(E,p,m){const D=(0,L.Ku)(E);rt(D.auth,p,$o);const te=qa(D.auth,m);return new Gc(D.auth,"linkViaPopup",p,te,D).executeNotNull()})).apply(this,arguments)}let Gc=(()=>{class E extends Nl{constructor(m,D,te,Ce,Rt){super(m,D,Ce,Rt),this.provider=te,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.A)(function*(){const D=yield m.execute();return Se(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,c.A)(function*(){Vt(1===m.filter.length,"Popup operations only handle one event");const D=ks();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(te=>{m.reject(te)}),m.resolver._isIframeWebStorageSupported(m.auth,te=>{te||m.reject(Te(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,te;this.pollId=null!==(te=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==te&&te.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,pl.get())};m()}}return E.currentPopupAction=null,E})();const lf="pendingRedirect",gl=new Map;class Fl extends Nl{constructor(p,m,D=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.A)(function*(){let D=gl.get(m.auth._key());if(!D){try{const Ce=(yield function Ma(E,p){return Js.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;D=()=>Promise.resolve(Ce)}catch(te){D=()=>Promise.reject(te)}gl.set(m.auth._key(),D)}return m.bypassAuthState||gl.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,D=this;return(0,c.A)(function*(){if("signInViaRedirect"===p.type)return m().call(D,p);if("unknown"!==p.type){if(p.eventId){const te=yield D.auth._redirectUserForId(p.eventId);if(te)return D.user=te,m().call(D,p);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function Js(){return(Js=(0,c.A)(function*(E,p){const m=rc(p),D=su(E);if(!(yield D._isAvailable()))return!1;const te="true"===(yield D._get(m));return yield D._remove(m),te})).apply(this,arguments)}function ou(E,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.A)(function*(E,p){return su(E)._set(rc(p),"true")})).apply(this,arguments)}function Qr(){gl.clear()}function nc(E,p){gl.set(E._key(),p)}function su(E){return ln(E._redirectPersistence)}function rc(E){return Sr(lf,E.config.apiKey,E.name)}function ag(E,p,m){return function Kd(E,p,m){return ic.apply(this,arguments)}(E,p,m)}function ic(){return(ic=(0,c.A)(function*(E,p,m){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const D=he(E);rt(E,p,$o),yield D._initializationPromise;const te=qa(D,m);return yield ou(te,D),te._openRedirect(D,p,"signInViaRedirect")})).apply(this,arguments)}function uf(E,p,m){return function oc(E,p,m){return Qa.apply(this,arguments)}(E,p,m)}function Qa(){return(Qa=(0,c.A)(function*(E,p,m){const D=(0,L.Ku)(E);if(rt(D.auth,p,$o),(0,h._isFirebaseServerApp)(D.auth.app))return Promise.reject(Qe(D.auth));yield D.auth._initializationPromise;const te=qa(D.auth,m);yield ou(te,D.auth);const Ce=yield Kc(D);return te._openRedirect(D.auth,p,"reauthViaRedirect",Ce)})).apply(this,arguments)}function qd(E,p,m){return function Wc(E,p,m){return Xd.apply(this,arguments)}(E,p,m)}function Xd(){return(Xd=(0,c.A)(function*(E,p,m){const D=(0,L.Ku)(E);rt(D.auth,p,$o),yield D.auth._initializationPromise;const te=qa(D.auth,m);yield mr(!1,D,p.providerId),yield ou(te,D.auth);const Ce=yield Kc(D);return te._openRedirect(D.auth,p,"linkViaRedirect",Ce)})).apply(this,arguments)}function cf(E,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.A)(function*(E,p){return yield he(E)._initializationPromise,hn(E,p,!1)})).apply(this,arguments)}function hn(E,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.A)(function*(E,p,m=!1){if((0,h._isFirebaseServerApp)(E.app))return Promise.reject(Qe(E));const D=he(E),te=qa(D,p),Rt=yield new Fl(D,te,m).execute();return Rt&&!m&&(delete Rt.user._redirectEventId,yield D._persistUserIfCurrent(Rt.user),yield D._setRedirectUser(null,p)),Rt})).apply(this,arguments)}function Kc(E){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.A)(function*(E){const p=ks(`${E.uid}:::`);return E._redirectEventId=p,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),p})).apply(this,arguments)}class qc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(p,D)&&(m=!0,this.sendToConsumer(p,D),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Xc(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Is(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var D;if(p.error&&!Is(p)){const te=(null===(D=p.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(Te(this.auth,te))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const D=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&D}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(p))}saveEventToCache(p){this.cachedEventUids.add(Ja(p)),this.lastProcessedEventTime=Date.now()}}function Ja(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function Is({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ia(E){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.A)(function*(E,p={}){return At(E,"GET","/v1/projects",p)})).apply(this,arguments)}const lg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,au=/^https?/;function Za(){return(Za=(0,c.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield Ia(E);for(const m of p)try{if(Qd(m))return}catch{}Ie(E,"unauthorized-domain")})).apply(this,arguments)}function Qd(E){const p=nn(),{protocol:m,hostname:D}=new URL(p);if(E.startsWith("chrome-extension://")){const Rt=new URL(E);return""===Rt.hostname&&""===D?"chrome-extension:"===m&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Rt.hostname===D}if(!au.test(m))return!1;if(lg.test(E))return D===E;const te=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+te+"|"+te+")$","i").test(D)}const xo=new Le(3e4,6e4);function Ea(){const E=no().___jsl;if(null!=E&&E.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Es=null;const ff=new Le(5e3,15e3),pf="__/auth/iframe",Qc="emulator/auth/iframe",gf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jc(E){const p=E.config;Se(p.authDomain,E,"auth-domain-config-required");const m=p.emulator?Ue(p,Qc):`https://${E.config.authDomain}/${pf}`,D={apiKey:p.apiKey,appName:E.name,v:h.SDK_VERSION},te=Jd.get(E.config.apiHost);te&&(D.eid=te);const Ce=E._getFrameworks();return Ce.length&&(D.fw=Ce.join(",")),`${m}?${(0,L.Am)(D).slice(1)}`}function Ll(){return Ll=(0,c.A)(function*(E){const p=yield function el(E){return Es=Es||function hf(E){return new Promise((p,m)=>{var D,te,Ce;function Rt(){Ea(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ea(),m(Te(E,"network-request-failed"))},timeout:xo.get()})}if(null!==(te=null===(D=no().gapi)||void 0===D?void 0:D.iframes)&&void 0!==te&&te.Iframe)p(gapi.iframes.getContext());else{if(null===(Ce=no().gapi)||void 0===Ce||!Ce.load){const rn=fr("iframefcb");return no()[rn]=()=>{gapi.load?Rt():m(Te(E,"network-request-failed"))},zt(`${function Gn(){return pt.gapiScript}()}?onload=${rn}`).catch(xn=>m(xn))}Rt()}}).catch(p=>{throw Es=null,p})}(E),Es}(E),m=no().gapi;return Se(m,E,"internal-error"),p.open({where:document.body,url:Jc(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gf,dontclear:!0},D=>new Promise(function(){var te=(0,c.A)(function*(Ce,Rt){yield D.restyle({setHideOnLeave:!1});const rn=Te(E,"network-request-failed"),xn=no().setTimeout(()=>{Rt(rn)},ff.get());function hr(){no().clearTimeout(xn),Ce(D)}D.ping(hr).then(hr,()=>{Rt(rn)})});return function(Ce,Rt){return te.apply(this,arguments)}}()))}),Ll.apply(this,arguments)}const Vl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ug="__/auth/handler",zo="emulator/auth/handler",Eo=encodeURIComponent("fac");function Zi(E,p,m,D,te,Ce){return th.apply(this,arguments)}function th(){return(th=(0,c.A)(function*(E,p,m,D,te,Ce){Se(E.config.authDomain,E,"auth-domain-config-required"),Se(E.config.apiKey,E,"invalid-api-key");const Rt={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:D,v:h.SDK_VERSION,eventId:te};if(p instanceof $o){p.setDefaultLanguage(E.languageCode),Rt.providerId=p.providerId||"",(0,L.Im)(p.getCustomParameters())||(Rt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Dr,pi]of Object.entries(Ce||{}))Rt[Dr]=pi}if(p instanceof Rs){const Dr=p.getScopes().filter(pi=>""!==pi);Dr.length>0&&(Rt.scopes=Dr.join(","))}E.tenantId&&(Rt.tid=E.tenantId);const rn=Rt;for(const Dr of Object.keys(rn))void 0===rn[Dr]&&delete rn[Dr];const xn=yield E._getAppCheckToken(),hr=xn?`#${Eo}=${encodeURIComponent(xn)}`:"";return`${function cg({config:E}){return E.emulator?Ue(E,zo):`https://${E.authDomain}/${ug}`}(E)}?${(0,L.Am)(rn).slice(1)}${hr}`})).apply(this,arguments)}const nh="webStorageSupport",ih=class rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=va,this._completeRedirectFn=hn,this._overrideRedirectResult=nc}_openPopup(p,m,D,te){var Ce=this;return(0,c.A)(function*(){var Rt;Vt(null===(Rt=Ce.eventManagers[p._key()])||void 0===Rt?void 0:Rt.manager,"_initialize() not called before _openPopup()");const rn=yield Zi(p,m,D,nn(),te);return function vf(E,p,m,D=500,te=600){const Ce=Math.max((window.screen.availHeight-te)/2,0).toString(),Rt=Math.max((window.screen.availWidth-D)/2,0).toString();let rn="";const xn=Object.assign(Object.assign({},Vl),{width:D.toString(),height:te.toString(),top:Ce,left:Rt}),hr=(0,L.ZQ)().toLowerCase();m&&(rn=Jr(hr)?"_blank":m),Nn(hr)&&(p=p||"http://localhost",xn.scrollbars="yes");const Dr=Object.entries(xn).reduce((Ys,[ba,cu])=>`${Ys}${ba}=${cu},`,"");if(function xr(E=(0,L.ZQ)()){var p;return Vi(E)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(hr)&&"_self"!==rn)return function eh(E,p){const m=document.createElement("a");m.href=E,m.target=p;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(p||"",rn),new Zc(null);const pi=window.open(p||"",rn,Dr);Se(pi,E,"popup-blocked");try{pi.focus()}catch{}return new Zc(pi)}(p,rn,ks())})()}_openRedirect(p,m,D,te){var Ce=this;return(0,c.A)(function*(){return yield Ce._originValidation(p),function Fs(E){no().location.href=E}(yield Zi(p,m,D,nn(),te)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:te,promise:Ce}=this.eventManagers[m];return te?Promise.resolve(te):(Vt(Ce,"If manager is not set, promise should be"),Ce)}const D=this.initAndGetManager(p);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(p){var m=this;return(0,c.A)(function*(){const D=yield function Yd(E){return Ll.apply(this,arguments)}(p),te=new qc(p);return D.register("authEvent",Ce=>(Se(null==Ce?void 0:Ce.authEvent,p,"invalid-auth-event"),{status:te.onEvent(Ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:te},m.iframes[p._key()]=D,te})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(nh,{type:nh},te=>{var Ce;const Rt=null===(Ce=null==te?void 0:te[0])||void 0===Ce?void 0:Ce[nh];void 0!==Rt&&m(!!Rt),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function df(E){return Za.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return q()||Nr()||Vi()}};class uu{constructor(p){this.factorId=p}_process(p,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,D);case"signin":return this._finalizeSignIn(p,m.credential);default:return gt("unexpected MultiFactorSessionType")}}}class xa extends uu{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new xa(p)}_finalizeEnroll(p,m,D){return function Xi(E,p){return At(E,"POST","/v2/accounts/mfaEnrollment:finalize",nt(E,p))}(p,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function af(E,p){return At(E,"POST","/v2/accounts/mfaSignIn:finalize",nt(E,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oa=(()=>{class E{constructor(){}static assertion(m){return xa._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var Bl="@firebase/auth";class ed{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(D=>{p((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.XA)("authIdTokenMaxAge"),function St(E){pt=E}({loadJS:E=>new Promise((p,m)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=p,D.onerror=te=>{const Ce=Te("internal-error");Ce.customData=te,m(Ce)},D.type="text/javascript",D.charset="UTF-8",function yf(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(D)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $l(E){(0,h._registerComponent)(new ee.uA("auth",(p,{options:m})=>{const D=p.getProvider("app").getImmediate(),te=p.getProvider("heartbeat"),Ce=p.getProvider("app-check-internal"),{apiKey:Rt,authDomain:rn}=D.options;Se(Rt&&!Rt.includes(":"),"invalid-api-key",{appName:D.name});const xn={apiKey:Rt,authDomain:rn,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Re(E)},hr=new yn(D,te,Ce,xn);return function Zn(E,p){const m=(null==p?void 0:p.persistence)||[],D=(Array.isArray(m)?m:[m]).map(ln);null!=p&&p.errorMap&&E._updateErrorMap(p.errorMap),E._initializeWithPersistence(D,null==p?void 0:p.popupRedirectResolver)}(hr,m),hr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,D)=>{p.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new ee.uA("auth-internal",p=>{const m=he(p.getProvider("auth").getImmediate());return new ed(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(Bl,"1.7.9",function hg(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,h.registerVersion)(Bl,"1.7.9","esm2017")}("Browser")},1076:(Rn,at,x)=>{"use strict";x.d(at,{Am:()=>ir,Bd:()=>gt,FA:()=>Lt,Fy:()=>Qe,I9:()=>Un,Im:()=>Oe,Ku:()=>_n,Ll:()=>Se,T9:()=>Ie,Uj:()=>Ge,XA:()=>Te,ZQ:()=>rt,bD:()=>cn,c1:()=>nn,cY:()=>Ne,eX:()=>Be,g:()=>Je,gR:()=>vn,hp:()=>zn,jZ:()=>Ft,lT:()=>Wt,lV:()=>gn,mS:()=>We,nr:()=>ie,p7:()=>Vt,sr:()=>Tn,tD:()=>_r,u:()=>Pe,zW:()=>de,zw:()=>ze});const ve=function(oe){const Q=[];let le=0;for(let Xe=0;Xe<oe.length;Xe++){let tt=oe.charCodeAt(Xe);tt<128?Q[le++]=tt:tt<2048?(Q[le++]=tt>>6|192,Q[le++]=63&tt|128):55296==(64512&tt)&&Xe+1<oe.length&&56320==(64512&oe.charCodeAt(Xe+1))?(tt=65536+((1023&tt)<<10)+(1023&oe.charCodeAt(++Xe)),Q[le++]=tt>>18|240,Q[le++]=tt>>12&63|128,Q[le++]=tt>>6&63|128,Q[le++]=63&tt|128):(Q[le++]=tt>>12|224,Q[le++]=tt>>6&63|128,Q[le++]=63&tt|128)}return Q},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,Q){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const le=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[];for(let tt=0;tt<oe.length;tt+=3){const ln=oe[tt],Fn=tt+1<oe.length,nr=Fn?oe[tt+1]:0,Sr=tt+2<oe.length,yt=Sr?oe[tt+2]:0;let Nr=(15&nr)<<2|yt>>6,Jr=63&yt;Sr||(Jr=64,Fn||(Nr=64)),Xe.push(le[ln>>2],le[(3&ln)<<4|nr>>4],le[Nr],le[Jr])}return Xe.join("")},encodeString(oe,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(oe):this.encodeByteArray(ve(oe),Q)},decodeString(oe,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(oe):function(oe){const Q=[];let le=0,Xe=0;for(;le<oe.length;){const tt=oe[le++];if(tt<128)Q[Xe++]=String.fromCharCode(tt);else if(tt>191&&tt<224){const ln=oe[le++];Q[Xe++]=String.fromCharCode((31&tt)<<6|63&ln)}else if(tt>239&&tt<365){const Sr=((7&tt)<<18|(63&oe[le++])<<12|(63&oe[le++])<<6|63&oe[le++])-65536;Q[Xe++]=String.fromCharCode(55296+(Sr>>10)),Q[Xe++]=String.fromCharCode(56320+(1023&Sr))}else{const ln=oe[le++],Fn=oe[le++];Q[Xe++]=String.fromCharCode((15&tt)<<12|(63&ln)<<6|63&Fn)}}return Q.join("")}(this.decodeStringToByteArray(oe,Q))},decodeStringToByteArray(oe,Q){this.init_();const le=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[];for(let tt=0;tt<oe.length;){const ln=le[oe.charAt(tt++)],nr=tt<oe.length?le[oe.charAt(tt)]:0;++tt;const yt=tt<oe.length?le[oe.charAt(tt)]:64;++tt;const Nn=tt<oe.length?le[oe.charAt(tt)]:64;if(++tt,null==ln||null==nr||null==yt||null==Nn)throw new _e;Xe.push(ln<<2|nr>>4),64!==yt&&(Xe.push(nr<<4&240|yt>>2),64!==Nn&&Xe.push(yt<<6&192|Nn))}return Xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(oe){return function(oe){const Q=ve(oe);return ee.encodeByteArray(Q,!0)}(oe).replace(/\./g,"")},Pe=function(oe){try{return ee.decodeString(oe,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ze(oe,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return Q}for(const le in Q)!Q.hasOwnProperty(le)||!qe(le)||(oe[le]=ze(oe[le],Q[le]));return oe}function qe(oe){return"__proto__"!==oe}function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lt=()=>{try{return We().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=oe&&Pe(oe[1]);return Q&&JSON.parse(Q)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},Ie=()=>{var oe;return null===(oe=lt())||void 0===oe?void 0:oe.config},Te=oe=>{var Q;return null===(Q=lt())||void 0===Q?void 0:Q[`_${oe}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,le)=>{this.resolve=Q,this.reject=le})}wrapCallback(Q){return(le,Xe)=>{le?this.reject(le):this.resolve(Xe),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(le):Q(le,Xe))}}}function Qe(oe,Q){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Xe=Q||"demo-project",tt=oe.iat||0,ln=oe.sub||oe.user_id;if(!ln)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fn=Object.assign({iss:`https://securetoken.google.com/${Xe}`,aud:Xe,iat:tt,exp:tt+3600,auth_time:tt,sub:ln,user_id:ln,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(Fn)),""].join(".")}function rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function Se(){var oe;const Q=null===(oe=lt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function gt(){return typeof window<"u"||Vt()}function Vt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function nn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Tn(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const oe=rt();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function ie(){return!Se()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((oe,Q)=>{try{let le=!0;const Xe="validate-browser-context-for-indexeddb-analytics-module",tt=self.indexedDB.open(Xe);tt.onsuccess=()=>{tt.result.close(),le||self.indexedDB.deleteDatabase(Xe),oe(!0)},tt.onupgradeneeded=()=>{le=!1},tt.onerror=()=>{var ln;Q((null===(ln=tt.error)||void 0===ln?void 0:ln.message)||"")}}catch(le){Q(le)}})}class Je extends Error{constructor(Q,le,Xe){super(le),this.code=Q,this.customData=Xe,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(Q,le,Xe){this.service=Q,this.serviceName=le,this.errors=Xe}create(Q,...le){const Xe=le[0]||{},tt=`${this.service}/${Q}`,ln=this.errors[Q],Fn=ln?function Mt(oe,Q){return oe.replace(Xt,(le,Xe)=>{const tt=Q[Xe];return null!=tt?String(tt):`<${Xe}?>`})}(ln,Xe):"Error";return new Je(tt,`${this.serviceName}: ${Fn} (${tt}).`,Xe)}}const Xt=/\{\$([^}]+)}/g;function vn(oe,Q){return Object.prototype.hasOwnProperty.call(oe,Q)}function Oe(oe){for(const Q in oe)if(Object.prototype.hasOwnProperty.call(oe,Q))return!1;return!0}function cn(oe,Q){if(oe===Q)return!0;const le=Object.keys(oe),Xe=Object.keys(Q);for(const tt of le){if(!Xe.includes(tt))return!1;const ln=oe[tt],Fn=Q[tt];if(qt(ln)&&qt(Fn)){if(!cn(ln,Fn))return!1}else if(ln!==Fn)return!1}for(const tt of Xe)if(!le.includes(tt))return!1;return!0}function qt(oe){return null!==oe&&"object"==typeof oe}function ir(oe){const Q=[];for(const[le,Xe]of Object.entries(oe))Array.isArray(Xe)?Xe.forEach(tt=>{Q.push(encodeURIComponent(le)+"="+encodeURIComponent(tt))}):Q.push(encodeURIComponent(le)+"="+encodeURIComponent(Xe));return Q.length?"&"+Q.join("&"):""}function Un(oe){const Q={};return oe.replace(/^\?/,"").split("&").forEach(Xe=>{if(Xe){const[tt,ln]=Xe.split("=");Q[decodeURIComponent(tt)]=decodeURIComponent(ln)}}),Q}function zn(oe){const Q=oe.indexOf("?");if(!Q)return"";const le=oe.indexOf("#",Q);return oe.substring(Q,le>0?le:void 0)}function _r(oe,Q){const le=new cr(oe,Q);return le.subscribe.bind(le)}class cr{constructor(Q,le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(()=>{Q(this)}).catch(Xe=>{this.error(Xe)})}next(Q){this.forEachObserver(le=>{le.next(Q)})}error(Q){this.forEachObserver(le=>{le.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,le,Xe){let tt;if(void 0===Q&&void 0===le&&void 0===Xe)throw new Error("Missing Observer.");tt=function Kr(oe,Q){if("object"!=typeof oe||null===oe)return!1;for(const le of Q)if(le in oe&&"function"==typeof oe[le])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:le,complete:Xe},void 0===tt.next&&(tt.next=hi),void 0===tt.error&&(tt.error=hi),void 0===tt.complete&&(tt.complete=hi);const ln=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?tt.error(this.finalError):tt.complete()}catch{}}),this.observers.push(tt),ln}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let le=0;le<this.observers.length;le++)this.sendOne(le,Q)}sendOne(Q,le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{le(this.observers[Q])}catch(Xe){typeof console<"u"&&console.error&&console.error(Xe)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hi(){}function _n(oe){return oe&&oe._delegate?oe._delegate:oe}},4442:(Rn,at,x)=>{"use strict";x.d(at,{L:()=>X,a:()=>ee,b:()=>_e,c:()=>Me,d:()=>Ge,g:()=>Wt}),x(5531);const X="ionViewWillEnter",ee="ionViewDidEnter",_e="ionViewWillLeave",Me="ionViewDidLeave",Ge="ionViewWillUnload",Wt=Le=>Le.classList.contains("ion-page")?Le:Le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Le},5531:(Rn,at,x)=>{"use strict";x.d(at,{a:()=>Pe,c:()=>h,g:()=>Ge});class c{constructor(){this.m=new Map}reset(Le){this.m=new Map(Object.entries(Le))}get(Le,Ue){const ie=this.m.get(Le);return void 0!==ie?ie:Ue}getBoolean(Le,Ue=!1){const ie=this.m.get(Le);return void 0===ie?Ue:"string"==typeof ie?"true"===ie:!!ie}getNumber(Le,Ue){const ie=parseFloat(this.m.get(Le));return isNaN(ie)?void 0!==Ue?Ue:NaN:ie}set(Le,Ue){this.m.set(Le,Ue)}}const h=new c,Ge=Wt=>ye(Wt),Pe=(Wt,Le)=>("string"==typeof Wt&&(Le=Wt,Wt=void 0),Ge(Wt).includes(Le)),ye=(Wt=window)=>{if(typeof Wt>"u")return[];Wt.Ionic=Wt.Ionic||{};let Le=Wt.Ionic.platforms;return null==Le&&(Le=Wt.Ionic.platforms=ze(Wt),Le.forEach(Ue=>Wt.document.documentElement.classList.add(`plt-${Ue}`))),Le},ze=Wt=>{const Le=h.get("platform");return Object.keys(nn).filter(Ue=>{const ie=null==Le?void 0:Le[Ue];return"function"==typeof ie?ie(Wt):nn[Ue](Wt)})},We=Wt=>!!(gt(Wt,/iPad/i)||gt(Wt,/Macintosh/i)&&Ie(Wt)),st=Wt=>gt(Wt,/android|sink/i),Ie=Wt=>Vt(Wt,"(any-pointer:coarse)"),Ne=Wt=>Qe(Wt)||rt(Wt),Qe=Wt=>!!(Wt.cordova||Wt.phonegap||Wt.PhoneGap),rt=Wt=>{const Le=Wt.Capacitor;return!(null==Le||!Le.isNative)},gt=(Wt,Le)=>Le.test(Wt.navigator.userAgent),Vt=(Wt,Le)=>{var Ue;return null===(Ue=Wt.matchMedia)||void 0===Ue?void 0:Ue.call(Wt,Le).matches},nn={ipad:We,iphone:Wt=>gt(Wt,/iPhone/i),ios:Wt=>gt(Wt,/iPhone|iPod/i)||We(Wt),android:st,phablet:Wt=>{const Le=Wt.innerWidth,Ue=Wt.innerHeight,ie=Math.min(Le,Ue),de=Math.max(Le,Ue);return ie>390&&ie<520&&de>620&&de<800},tablet:Wt=>{const Le=Wt.innerWidth,Ue=Wt.innerHeight,ie=Math.min(Le,Ue),de=Math.max(Le,Ue);return We(Wt)||(Wt=>st(Wt)&&!gt(Wt,/mobile/i))(Wt)||ie>460&&ie<820&&de>780&&de<1400},cordova:Qe,capacitor:rt,electron:Wt=>gt(Wt,/electron/i),pwa:Wt=>{var Le;return!!(null!==(Le=Wt.matchMedia)&&void 0!==Le&&Le.call(Wt,"(display-mode: standalone)").matches||Wt.navigator.standalone)},mobile:Ie,mobileweb:Wt=>Ie(Wt)&&!Ne(Wt),desktop:Wt=>!Ie(Wt),hybrid:Ne}},9986:(Rn,at,x)=>{"use strict";x.d(at,{c:()=>ee});var c=x(8476);let h;const ve=(_e,Me,Ge)=>{const Pe=Me.startsWith("animation")?(_e=>(void 0===h&&(h=void 0===_e.style.animationName&&void 0!==_e.style.webkitAnimationName?"-webkit-":""),h))(_e):"";_e.style.setProperty(Pe+Me,Ge)},X=(_e=[],Me)=>{if(void 0!==Me){const Ge=Array.isArray(Me)?Me:[Me];return[..._e,...Ge]}return _e},ee=_e=>{let Me,Ge,Pe,ye,ze,qe,lt,Ft,Se,gt,gn,We=[],ut=[],vt=[],st=!1,xt={},Tt=[],Ie=[],Te={},Ne=0,Qe=!1,rt=!1,Vt=!0,nn=!1,Tn=!0,qn=!1;const Wt=_e,Le=[],Ue=[],ie=[],de=[],Be=[],nt=[],At=[],Je=[],Lt=[],Mt=[],Xt=[],wn="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,kt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&wn,Mn=()=>Xt,vn=(se,xe)=>{const Nt=xe.findIndex(on=>on.c===se);Nt>-1&&xe.splice(Nt,1)},Oe=(se,xe)=>((null!=xe&&xe.oneTimeCallback?Ue:Le).push({c:se,o:xe}),gn),cn=()=>{kt&&(Xt.forEach(se=>{se.cancel()}),Xt.length=0)},qt=()=>{nt.forEach(se=>{null!=se&&se.parentNode&&se.parentNode.removeChild(se)}),nt.length=0},Jn=()=>void 0!==ze?ze:lt?lt.getFill():"both",Tr=()=>void 0!==Ft?Ft:void 0!==qe?qe:lt?lt.getDirection():"normal",On=()=>Qe?"linear":void 0!==Pe?Pe:lt?lt.getEasing():"linear",Pi=()=>rt?0:void 0!==Se?Se:void 0!==Ge?Ge:lt?lt.getDuration():0,Qn=()=>void 0!==ye?ye:lt?lt.getIterations():1,lr=()=>void 0!==gt?gt:void 0!==Me?Me:lt?lt.getDelay():0,Fn=()=>{0!==Ne&&(Ne--,0===Ne&&((()=>{Lt.forEach(yn=>yn()),Mt.forEach(yn=>yn());const se=Vt?1:0,xe=Tt,Nt=Ie,on=Te;de.forEach(yn=>{const he=yn.classList;xe.forEach($e=>he.add($e)),Nt.forEach($e=>he.remove($e));for(const $e in on)on.hasOwnProperty($e)&&ve(yn,$e,on[$e])}),Se=void 0,Ft=void 0,gt=void 0,Le.forEach(yn=>yn.c(se,gn)),Ue.forEach(yn=>yn.c(se,gn)),Ue.length=0,Tn=!0,Vt&&(nn=!0),Vt=!0})(),lt&&lt.animationFinish()))},Sr=()=>{(()=>{At.forEach(on=>on()),Je.forEach(on=>on());const se=ut,xe=vt,Nt=xt;de.forEach(on=>{const yn=on.classList;se.forEach(he=>yn.add(he)),xe.forEach(he=>yn.remove(he));for(const he in Nt)Nt.hasOwnProperty(he)&&ve(on,he,Nt[he])})})(),We.length>0&&kt&&(de.forEach(se=>{const xe=se.animate(We,{id:Wt,delay:lr(),duration:Pi(),easing:On(),iterations:Qn(),fill:Jn(),direction:Tr()});xe.pause(),Xt.push(xe)}),Xt.length>0&&(Xt[0].onfinish=()=>{Fn()})),st=!0},yt=se=>{se=Math.min(Math.max(se,0),.9999),kt&&Xt.forEach(xe=>{xe.currentTime=xe.effect.getComputedTiming().delay+Pi()*se,xe.pause()})},Cr=se=>{Xt.forEach(xe=>{xe.effect.updateTiming({delay:lr(),duration:Pi(),easing:On(),iterations:Qn(),fill:Jn(),direction:Tr()})}),void 0!==se&&yt(se)},Nn=(se=!1,xe=!0,Nt)=>(se&&Be.forEach(on=>{on.update(se,xe,Nt)}),kt&&Cr(Nt),gn),oi=()=>{st&&(kt?Xt.forEach(se=>{se.pause()}):de.forEach(se=>{ve(se,"animation-play-state","paused")}),qn=!0)},xr=se=>new Promise(xe=>{null!=se&&se.sync&&(rt=!0,Oe(()=>rt=!1,{oneTimeCallback:!0})),st||Sr(),nn&&(kt&&(yt(0),Cr()),nn=!1),Tn&&(Ne=Be.length+1,Tn=!1);const Nt=()=>{vn(on,Ue),xe()},on=()=>{vn(Nt,ie),xe()};Oe(on,{oneTimeCallback:!0}),(se=>{ie.push({c:se,o:{oneTimeCallback:!0}})})(Nt),Be.forEach(yn=>{yn.play()}),kt?(Xt.forEach(se=>{se.play()}),(0===We.length||0===de.length)&&Fn()):Fn(),qn=!1}),q=(se,xe)=>{const Nt=We[0];return void 0===Nt||void 0!==Nt.offset&&0!==Nt.offset?We=[{offset:0,[se]:xe},...We]:Nt[se]=xe,gn};return gn={parentAnimation:lt,elements:de,childAnimations:Be,id:Wt,animationFinish:Fn,from:q,to:(se,xe)=>{const Nt=We[We.length-1];return void 0===Nt||void 0!==Nt.offset&&1!==Nt.offset?We=[...We,{offset:1,[se]:xe}]:Nt[se]=xe,gn},fromTo:(se,xe,Nt)=>q(se,xe).to(se,Nt),parent:se=>(lt=se,gn),play:xr,pause:()=>(Be.forEach(se=>{se.pause()}),oi(),gn),stop:()=>{Be.forEach(se=>{se.stop()}),st&&(cn(),st=!1),Qe=!1,rt=!1,Tn=!0,Ft=void 0,Se=void 0,gt=void 0,Ne=0,nn=!1,Vt=!0,qn=!1,ie.forEach(se=>se.c(0,gn)),ie.length=0},destroy:se=>(Be.forEach(xe=>{xe.destroy(se)}),(se=>{cn(),se&&qt()})(se),de.length=0,Be.length=0,We.length=0,Le.length=0,Ue.length=0,st=!1,Tn=!0,gn),keyframes:se=>{const xe=We!==se;return We=se,xe&&(se=>{kt&&Mn().forEach(xe=>{const Nt=xe.effect;if(Nt.setKeyframes)Nt.setKeyframes(se);else{const on=new KeyframeEffect(Nt.target,se,Nt.getTiming());xe.effect=on}})})(We),gn},addAnimation:se=>{if(null!=se)if(Array.isArray(se))for(const xe of se)xe.parent(gn),Be.push(xe);else se.parent(gn),Be.push(se);return gn},addElement:se=>{if(null!=se)if(1===se.nodeType)de.push(se);else if(se.length>=0)for(let xe=0;xe<se.length;xe++)de.push(se[xe]);else console.error("Invalid addElement value");return gn},update:Nn,fill:se=>(ze=se,Nn(!0),gn),direction:se=>(qe=se,Nn(!0),gn),iterations:se=>(ye=se,Nn(!0),gn),duration:se=>(!kt&&0===se&&(se=1),Ge=se,Nn(!0),gn),easing:se=>(Pe=se,Nn(!0),gn),delay:se=>(Me=se,Nn(!0),gn),getWebAnimations:Mn,getKeyframes:()=>We,getFill:Jn,getDirection:Tr,getDelay:lr,getIterations:Qn,getEasing:On,getDuration:Pi,afterAddRead:se=>(Lt.push(se),gn),afterAddWrite:se=>(Mt.push(se),gn),afterClearStyles:(se=[])=>{for(const xe of se)Te[xe]="";return gn},afterStyles:(se={})=>(Te=se,gn),afterRemoveClass:se=>(Ie=X(Ie,se),gn),afterAddClass:se=>(Tt=X(Tt,se),gn),beforeAddRead:se=>(At.push(se),gn),beforeAddWrite:se=>(Je.push(se),gn),beforeClearStyles:(se=[])=>{for(const xe of se)xt[xe]="";return gn},beforeStyles:(se={})=>(xt=se,gn),beforeRemoveClass:se=>(vt=X(vt,se),gn),beforeAddClass:se=>(ut=X(ut,se),gn),onFinish:Oe,isRunning:()=>0!==Ne&&!qn,progressStart:(se=!1,xe)=>(Be.forEach(Nt=>{Nt.progressStart(se,xe)}),oi(),Qe=se,st||Sr(),Nn(!1,!0,xe),gn),progressStep:se=>(Be.forEach(xe=>{xe.progressStep(se)}),yt(se),gn),progressEnd:(se,xe,Nt)=>(Qe=!1,Be.forEach(on=>{on.progressEnd(se,xe,Nt)}),void 0!==Nt&&(Se=Nt),nn=!1,Vt=!0,0===se?(Ft="reverse"===Tr()?"normal":"reverse","reverse"===Ft&&(Vt=!1),kt?(Nn(),yt(1-xe)):(gt=(1-xe)*Pi()*-1,Nn(!1,!1))):1===se&&(kt?(Nn(),yt(xe)):(gt=xe*Pi()*-1,Nn(!1,!1))),void 0!==se&&!lt&&xr(),gn)}}},464:(Rn,at,x)=>{"use strict";x.d(at,{E:()=>Pe,a:()=>c,s:()=>Me});const c=ye=>{try{if(ye instanceof _e)return ye.value;if(!ve()||"string"!=typeof ye||""===ye)return ye;if(ye.includes("onload="))return"";const ze=document.createDocumentFragment(),qe=document.createElement("div");ze.appendChild(qe),qe.innerHTML=ye,ee.forEach(st=>{const lt=ze.querySelectorAll(st);for(let xt=lt.length-1;xt>=0;xt--){const Tt=lt[xt];Tt.parentNode?Tt.parentNode.removeChild(Tt):ze.removeChild(Tt);const Ie=L(Tt);for(let Te=0;Te<Ie.length;Te++)h(Ie[Te])}});const We=L(ze);for(let st=0;st<We.length;st++)h(We[st]);const ut=document.createElement("div");ut.appendChild(ze);const vt=ut.querySelector("div");return null!==vt?vt.innerHTML:ut.innerHTML}catch(ze){return console.error(ze),""}},h=ye=>{if(ye.nodeType&&1!==ye.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ye.attributes instanceof NamedNodeMap))return void ye.remove();for(let qe=ye.attributes.length-1;qe>=0;qe--){const We=ye.attributes.item(qe),ut=We.name;if(!X.includes(ut.toLowerCase())){ye.removeAttribute(ut);continue}const vt=We.value,st=ye[ut];(null!=vt&&vt.toLowerCase().includes("javascript:")||null!=st&&st.toLowerCase().includes("javascript:"))&&ye.removeAttribute(ut)}const ze=L(ye);for(let qe=0;qe<ze.length;qe++)h(ze[qe])},L=ye=>null!=ye.children?ye.children:ye.childNodes,ve=()=>{var ye;const ze=window,qe=null===(ye=null==ze?void 0:ze.Ionic)||void 0===ye?void 0:ye.config;return!qe||(qe.get?qe.get("sanitizerEnabled",!0):!0===qe.sanitizerEnabled||void 0===qe.sanitizerEnabled)},X=["class","id","href","src","name","slot"],ee=["script","style","iframe","meta","link","object","embed"];class _e{constructor(ze){this.value=ze}}const Me=ye=>{const ze=window,qe=ze.Ionic;if(!qe||!qe.config||"Object"===qe.config.constructor.name)return ze.Ionic=ze.Ionic||{},ze.Ionic.config=Object.assign(Object.assign({},ze.Ionic.config),ye),ze.Ionic.config},Pe=!1},8621:(Rn,at,x)=>{"use strict";x.d(at,{C:()=>X,a:()=>L,d:()=>ve});var c=x(467),h=x(4920);const L=function(){var ee=(0,c.A)(function*(_e,Me,Ge,Pe,ye,ze){var qe;if(_e)return _e.attachViewToDom(Me,Ge,ye,Pe);if(!(ze||"string"==typeof Ge||Ge instanceof HTMLElement))throw new Error("framework delegate is missing");const We="string"==typeof Ge?null===(qe=Me.ownerDocument)||void 0===qe?void 0:qe.createElement(Ge):Ge;return Pe&&Pe.forEach(ut=>We.classList.add(ut)),ye&&Object.assign(We,ye),Me.appendChild(We),yield new Promise(ut=>(0,h.c)(We,ut)),We});return function(Me,Ge,Pe,ye,ze,qe){return ee.apply(this,arguments)}}(),ve=(ee,_e)=>{if(_e){if(ee)return ee.removeViewFromDom(_e.parentElement,_e);_e.remove()}return Promise.resolve()},X=()=>{let ee,_e;return{attachViewToDom:function(){var Pe=(0,c.A)(function*(ye,ze,qe={},We=[]){var ut,vt;let st;if(ee=ye,ze){const xt="string"==typeof ze?null===(ut=ee.ownerDocument)||void 0===ut?void 0:ut.createElement(ze):ze;We.forEach(Tt=>xt.classList.add(Tt)),Object.assign(xt,qe),ee.appendChild(xt),st=xt,yield new Promise(Tt=>(0,h.c)(xt,Tt))}else if(ee.children.length>0&&("ION-MODAL"===ee.tagName||"ION-POPOVER"===ee.tagName)&&!(st=ee.children[0]).classList.contains("ion-delegate-host")){const Tt=null===(vt=ee.ownerDocument)||void 0===vt?void 0:vt.createElement("div");Tt.classList.add("ion-delegate-host"),We.forEach(Ie=>Tt.classList.add(Ie)),Tt.append(...ee.children),ee.appendChild(Tt),st=Tt}const lt=document.querySelector("ion-app")||document.body;return _e=document.createComment("ionic teleport"),ee.parentNode.insertBefore(_e,ee),lt.appendChild(ee),null!=st?st:ee});return function(ze,qe){return Pe.apply(this,arguments)}}(),removeViewFromDom:()=>(ee&&_e&&(_e.parentNode.insertBefore(ee,_e),_e.remove()),Promise.resolve())}}},1970:(Rn,at,x)=>{"use strict";x.d(at,{B:()=>ve,G:()=>X});class h{constructor(_e,Me,Ge,Pe,ye){this.id=Me,this.name=Ge,this.disableScroll=ye,this.priority=1e6*Pe+Me,this.ctrl=_e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const _e=this.ctrl.capture(this.name,this.id,this.priority);return _e&&this.disableScroll&&this.ctrl.disableScroll(this.id),_e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(_e,Me,Ge,Pe){this.id=Me,this.disable=Ge,this.disableScroll=Pe,this.ctrl=_e}block(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.disableGesture(_e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const _e of this.disable)this.ctrl.enableGesture(_e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ve="backdrop-no-scroll",X=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(_e){var Me;return new h(this,this.newID(),_e.name,null!==(Me=_e.priority)&&void 0!==Me?Me:0,!!_e.disableScroll)}createBlocker(_e={}){return new L(this,this.newID(),_e.disable,!!_e.disableScroll)}start(_e,Me,Ge){return this.canStart(_e)?(this.requestedStart.set(Me,Ge),!0):(this.requestedStart.delete(Me),!1)}capture(_e,Me,Ge){if(!this.start(_e,Me,Ge))return!1;const Pe=this.requestedStart;let ye=-1e4;if(Pe.forEach(ze=>{ye=Math.max(ye,ze)}),ye===Ge){this.capturedId=Me,Pe.clear();const ze=new CustomEvent("ionGestureCaptured",{detail:{gestureName:_e}});return document.dispatchEvent(ze),!0}return Pe.delete(Me),!1}release(_e){this.requestedStart.delete(_e),this.capturedId===_e&&(this.capturedId=void 0)}disableGesture(_e,Me){let Ge=this.disabledGestures.get(_e);void 0===Ge&&(Ge=new Set,this.disabledGestures.set(_e,Ge)),Ge.add(Me)}enableGesture(_e,Me){const Ge=this.disabledGestures.get(_e);void 0!==Ge&&Ge.delete(Me)}disableScroll(_e){this.disabledScroll.add(_e),1===this.disabledScroll.size&&document.body.classList.add(ve)}enableScroll(_e){this.disabledScroll.delete(_e),0===this.disabledScroll.size&&document.body.classList.remove(ve)}canStart(_e){return!(void 0!==this.capturedId||this.isDisabled(_e))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(_e){const Me=this.disabledGestures.get(_e);return!!(Me&&Me.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Rn,at,x)=>{"use strict";x.r(at),x.d(at,{MENU_BACK_BUTTON_PRIORITY:()=>Ge,OVERLAY_BACK_BUTTON_PRIORITY:()=>Me,blockHardwareBackButton:()=>ee,shouldUseCloseWatcher:()=>X,startHardwareBackButton:()=>_e});var c=x(467),h=x(8476),L=x(9483);x(4261);const X=()=>L.c.get("experimentalCloseWatcher",!1)&&void 0!==h.w&&"CloseWatcher"in h.w,ee=()=>{document.addEventListener("backbutton",()=>{})},_e=()=>{const Pe=document;let ye=!1;const ze=()=>{if(ye)return;let qe=0,We=[];const ut=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(lt,xt){We.push({priority:lt,handler:xt,id:qe++})}}});Pe.dispatchEvent(ut);const vt=function(){var lt=(0,c.A)(function*(xt){try{if(null!=xt&&xt.handler){const Tt=xt.handler(st);null!=Tt&&(yield Tt)}}catch(Tt){console.error(Tt)}});return function(Tt){return lt.apply(this,arguments)}}(),st=()=>{if(We.length>0){let lt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};We.forEach(xt=>{xt.priority>=lt.priority&&(lt=xt)}),ye=!0,We=We.filter(xt=>xt.id!==lt.id),vt(lt).then(()=>ye=!1)}};st()};if(X()){let qe;const We=()=>{null==qe||qe.destroy(),qe=new h.w.CloseWatcher,qe.onclose=()=>{ze(),We()}};We()}else Pe.addEventListener("backbutton",ze)},Me=100,Ge=99},4920:(Rn,at,x)=>{"use strict";x.d(at,{a:()=>Me,b:()=>Ge,c:()=>L,d:()=>We,e:()=>xt,f:()=>qe,g:()=>Pe,h:()=>X,i:()=>_e,j:()=>ut,k:()=>ve,l:()=>ze,m:()=>vt,n:()=>lt,o:()=>Tt,p:()=>st,r:()=>ye,s:()=>Ie,t:()=>c});const c=(Te,Ne=0)=>new Promise(Qe=>{h(Te,Ne,Qe)}),h=(Te,Ne=0,Qe)=>{let rt,Ft;const Se={passive:!0},Vt=()=>{rt&&rt()},nn=Tn=>{(void 0===Tn||Te===Tn.target)&&(Vt(),Qe(Tn))};return Te&&(Te.addEventListener("webkitTransitionEnd",nn,Se),Te.addEventListener("transitionend",nn,Se),Ft=setTimeout(nn,Ne+500),rt=()=>{void 0!==Ft&&(clearTimeout(Ft),Ft=void 0),Te.removeEventListener("webkitTransitionEnd",nn,Se),Te.removeEventListener("transitionend",nn,Se)}),Vt},L=(Te,Ne)=>{Te.componentOnReady?Te.componentOnReady().then(Qe=>Ne(Qe)):ye(()=>Ne(Te))},ve=Te=>void 0!==Te.componentOnReady,X=(Te,Ne=[])=>{const Qe={};return Ne.forEach(rt=>{Te.hasAttribute(rt)&&(null!==Te.getAttribute(rt)&&(Qe[rt]=Te.getAttribute(rt)),Te.removeAttribute(rt))}),Qe},ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],_e=(Te,Ne)=>{let Qe=ee;return Ne&&Ne.length>0&&(Qe=Qe.filter(rt=>!Ne.includes(rt))),X(Te,Qe)},Me=(Te,Ne,Qe,rt)=>{var Ft;if(typeof window<"u"){const Se=window,gt=null===(Ft=null==Se?void 0:Se.Ionic)||void 0===Ft?void 0:Ft.config;if(gt){const Vt=gt.get("_ael");if(Vt)return Vt(Te,Ne,Qe,rt);if(gt._ael)return gt._ael(Te,Ne,Qe,rt)}}return Te.addEventListener(Ne,Qe,rt)},Ge=(Te,Ne,Qe,rt)=>{var Ft;if(typeof window<"u"){const Se=window,gt=null===(Ft=null==Se?void 0:Se.Ionic)||void 0===Ft?void 0:Ft.config;if(gt){const Vt=gt.get("_rel");if(Vt)return Vt(Te,Ne,Qe,rt);if(gt._rel)return gt._rel(Te,Ne,Qe,rt)}}return Te.removeEventListener(Ne,Qe,rt)},Pe=(Te,Ne=Te)=>Te.shadowRoot||Ne,ye=Te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Te):"function"==typeof requestAnimationFrame?requestAnimationFrame(Te):setTimeout(Te),ze=Te=>!!Te.shadowRoot&&!!Te.attachShadow,qe=Te=>{if(Te.focus(),Te.classList.contains("ion-focusable")){const Ne=Te.closest("ion-app");Ne&&Ne.setFocus([Te])}},We=(Te,Ne,Qe,rt,Ft)=>{if(Te||ze(Ne)){let Se=Ne.querySelector("input.aux-input");Se||(Se=Ne.ownerDocument.createElement("input"),Se.type="hidden",Se.classList.add("aux-input"),Ne.appendChild(Se)),Se.disabled=Ft,Se.name=Qe,Se.value=rt||""}},ut=(Te,Ne,Qe)=>Math.max(Te,Math.min(Ne,Qe)),vt=(Te,Ne)=>{if(!Te){const Qe="ASSERT: "+Ne;throw console.error(Qe),new Error(Qe)}},st=Te=>{if(Te){const Ne=Te.changedTouches;if(Ne&&Ne.length>0){const Qe=Ne[0];return{x:Qe.clientX,y:Qe.clientY}}if(void 0!==Te.pageX)return{x:Te.pageX,y:Te.pageY}}return{x:0,y:0}},lt=Te=>{const Ne="rtl"===document.dir;switch(Te){case"start":return Ne;case"end":return!Ne;default:throw new Error(`"${Te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},xt=(Te,Ne)=>{const Qe=Te._original||Te;return{_original:Te,emit:Tt(Qe.emit.bind(Qe),Ne)}},Tt=(Te,Ne=0)=>{let Qe;return(...rt)=>{clearTimeout(Qe),Qe=setTimeout(Te,Ne,...rt)}},Ie=(Te,Ne)=>{if(null!=Te||(Te={}),null!=Ne||(Ne={}),Te===Ne)return!0;const Qe=Object.keys(Te);if(Qe.length!==Object.keys(Ne).length)return!1;for(const rt of Qe)if(!(rt in Ne)||Te[rt]!==Ne[rt])return!1;return!0}},4261:(Rn,at,x)=>{"use strict";x.d(at,{B:()=>ee,a:()=>Tn,b:()=>yo,c:()=>Jn,d:()=>Qn,e:()=>Lt,f:()=>zn,g:()=>Tr,h:()=>ir,i:()=>Pi,j:()=>fr,k:()=>Xt,r:()=>Ge,w:()=>Mt});var c=x(467);var ve=Object.defineProperty,ee={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},_e=new WeakMap,Me=T=>_e.get(T),Ge=(T,V)=>_e.set(V.$lazyInstance$=T,V),ye=(T,V)=>V in T,ze=(T,V)=>(0,console.error)(T,V),qe=new Map,ut=new Map,vt=[],Ie="s-id",rt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ft="http://www.w3.org/1999/xlink",Se=typeof window<"u"?window:{},gt=Se.document||{head:{}},nn={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,V,Ve,Ye)=>T.addEventListener(V,Ve,Ye),rel:(T,V,Ve,Ye)=>T.removeEventListener(V,Ve,Ye),ce:(T,V)=>new CustomEvent(T,V)},Tn=T=>{Object.assign(nn,T)},qn=(()=>{let T=!1;try{gt.addEventListener("e",null,Object.defineProperty({},"passive",{get(){T=!0}}))}catch{}return T})(),Le=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ue=!1,ie=[],de=[],Be=(T,V)=>Ve=>{T.push(Ve),Ue||(Ue=!0,V&&4&nn.$flags$?Je(At):nn.raf(At))},nt=T=>{for(let V=0;V<T.length;V++)try{T[V](performance.now())}catch(Ve){ze(Ve)}T.length=0},At=()=>{nt(ie),nt(de),(Ue=ie.length>0)&&nn.raf(At)},Je=T=>Promise.resolve(void 0).then(T),Lt=Be(ie,!1),Mt=Be(de,!0),Xt=T=>{const V=new URL(T,nn.$resourcesUrl$);return V.origin!==Se.location.origin?V.href:V.pathname},wn={},bn=T=>"object"==(T=typeof T)||"function"===T;function Qt(T){var V,Ve,Ye;return null!=(Ye=null==(Ve=null==(V=T.head)?void 0:V.querySelector('meta[name="csp-nonce"]'))?void 0:Ve.getAttribute("content"))?Ye:void 0}((T,V)=>{for(var Ve in V)ve(T,Ve,{get:V[Ve],enumerable:!0})})({},{err:()=>it,map:()=>Oe,ok:()=>vn,unwrap:()=>Ke,unwrapErr:()=>cn});var vn=T=>({isOk:!0,isErr:!1,value:T}),it=T=>({isOk:!1,isErr:!0,value:T});function Oe(T,V){if(T.isOk){const Ve=V(T.value);return Ve instanceof Promise?Ve.then(Ye=>vn(Ye)):vn(Ve)}if(T.isErr)return it(T.value);throw"should never get here"}var Ke=T=>{if(T.isOk)return T.value;throw T.value},cn=T=>{if(T.isErr)return T.value;throw T.value},ir=(T,V,...Ve)=>{let Ye=null,bt=null,It=null,dn=!1,Ut=!1;const sn=[],pn=Xn=>{for(let er=0;er<Xn.length;er++)Ye=Xn[er],Array.isArray(Ye)?pn(Ye):null!=Ye&&"boolean"!=typeof Ye&&((dn="function"!=typeof T&&!bn(Ye))&&(Ye=String(Ye)),dn&&Ut?sn[sn.length-1].$text$+=Ye:sn.push(dn?Un(null,Ye):Ye),Ut=dn)};if(pn(Ve),V){V.key&&(bt=V.key),V.name&&(It=V.name);{const Xn=V.className||V.class;Xn&&(V.class="object"!=typeof Xn?Xn:Object.keys(Xn).filter(er=>Xn[er]).join(" "))}}if("function"==typeof T)return T(null===V?{}:V,sn,_r);const $n=Un(T,null);return $n.$attrs$=V,sn.length>0&&($n.$children$=sn),$n.$key$=bt,$n.$name$=It,$n},Un=(T,V)=>({$flags$:0,$tag$:T,$text$:V,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),zn={},_r={forEach:(T,V)=>T.map(cr).forEach(V),map:(T,V)=>T.map(cr).map(V).map(sr)},cr=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),sr=T=>{if("function"==typeof T.vtag){const Ve={...T.vattrs};return T.vkey&&(Ve.key=T.vkey),T.vname&&(Ve.name=T.vname),ir(T.vtag,Ve,...T.vchildren||[])}const V=Un(T.vtag,T.vtext);return V.$attrs$=T.vattrs,V.$children$=T.vchildren,V.$key$=T.vkey,V.$name$=T.vname,V},hi=(T,V,Ve,Ye,bt,It,dn)=>{let Ut,sn,pn,$n;if(1===It.nodeType){if(Ut=It.getAttribute("c-id"),Ut&&(sn=Ut.split("."),(sn[0]===dn||"0"===sn[0])&&(pn={$flags$:0,$hostId$:sn[0],$nodeId$:sn[1],$depth$:sn[2],$index$:sn[3],$tag$:It.tagName.toLowerCase(),$elm$:It,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},V.push(pn),It.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[pn.$index$]=pn,T=pn,Ye&&"0"===pn.$depth$&&(Ye[pn.$index$]=pn.$elm$))),It.shadowRoot)for($n=It.shadowRoot.childNodes.length-1;$n>=0;$n--)hi(T,V,Ve,Ye,bt,It.shadowRoot.childNodes[$n],dn);for($n=It.childNodes.length-1;$n>=0;$n--)hi(T,V,Ve,Ye,bt,It.childNodes[$n],dn)}else if(8===It.nodeType)sn=It.nodeValue.split("."),(sn[1]===dn||"0"===sn[1])&&(Ut=sn[0],pn={$flags$:0,$hostId$:sn[1],$nodeId$:sn[2],$depth$:sn[3],$index$:sn[4],$elm$:It,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ut?(pn.$elm$=It.nextSibling,pn.$elm$&&3===pn.$elm$.nodeType&&(pn.$text$=pn.$elm$.textContent,V.push(pn),It.remove(),T.$children$||(T.$children$=[]),T.$children$[pn.$index$]=pn,Ye&&"0"===pn.$depth$&&(Ye[pn.$index$]=pn.$elm$))):pn.$hostId$===dn&&("s"===Ut?(pn.$tag$="slot",It["s-sn"]=sn[5]?pn.$name$=sn[5]:"",It["s-sr"]=!0,Ye&&(pn.$elm$=gt.createElement(pn.$tag$),pn.$name$&&pn.$elm$.setAttribute("name",pn.$name$),It.parentNode.insertBefore(pn.$elm$,It),It.remove(),"0"===pn.$depth$&&(Ye[pn.$index$]=pn.$elm$)),Ve.push(pn),T.$children$||(T.$children$=[]),T.$children$[pn.$index$]=pn):"r"===Ut&&(Ye?It.remove():(bt["s-cr"]=It,It["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Xn=Un(null,It.textContent);Xn.$elm$=It,Xn.$index$="0",T.$children$=[Xn]}},jn=(T,V)=>{if(1===T.nodeType){let Ve=0;if(T.shadowRoot)for(;Ve<T.shadowRoot.childNodes.length;Ve++)jn(T.shadowRoot.childNodes[Ve],V);for(Ve=0;Ve<T.childNodes.length;Ve++)jn(T.childNodes[Ve],V)}else if(8===T.nodeType){const Ve=T.nodeValue.split(".");"o"===Ve[0]&&(V.set(Ve[1]+"."+Ve[2],T),T.nodeValue="",T["s-en"]=Ve[3])}},Jn=T=>vt.push(T),Tr=T=>Me(T).$modeName$,Pi=T=>Me(T).$hostElement$,Qn=(T,V,Ve)=>{const Ye=Pi(T);return{emit:bt=>lr(Ye,V,{bubbles:!!(4&Ve),composed:!!(2&Ve),cancelable:!!(1&Ve),detail:bt})}},lr=(T,V,Ve)=>{const Ye=nn.ce(V,Ve);return T.dispatchEvent(Ye),Ye},Ar=new WeakMap,Gt=(T,V,Ve)=>{var Ye;const bt=Yt(V,Ve),It=ut.get(bt);if(T=11===T.nodeType?T:gt,It)if("string"==typeof It){let Ut,dn=Ar.get(T=T.head||T);if(dn||Ar.set(T,dn=new Set),!dn.has(bt)){if(T.host&&(Ut=T.querySelector(`[sty-id="${bt}"]`)))Ut.innerHTML=It;else{Ut=gt.createElement("style"),Ut.innerHTML=It;const sn=null!=(Ye=nn.$nonce$)?Ye:Qt(gt);null!=sn&&Ut.setAttribute("nonce",sn),(!(1&V.$flags$)||1&V.$flags$&&"HEAD"!==T.nodeName)&&T.insertBefore(Ut,T.querySelector("link"))}4&V.$flags$&&(Ut.innerHTML+=rt),dn&&dn.add(bt)}}else T.adoptedStyleSheets.includes(It)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,It]);return bt},Yt=(T,V)=>"sc-"+(V&&32&T.$flags$?T.$tagName$+"-"+V:T.$tagName$),_t=(T,V,Ve,Ye,bt,It)=>{if(Ve!==Ye){let dn=ye(T,V),Ut=V.toLowerCase();if("class"===V){const sn=T.classList,pn=_n(Ve),$n=_n(Ye);sn.remove(...pn.filter(Xn=>Xn&&!$n.includes(Xn))),sn.add(...$n.filter(Xn=>Xn&&!pn.includes(Xn)))}else if("style"===V){for(const sn in Ve)(!Ye||null==Ye[sn])&&(sn.includes("-")?T.style.removeProperty(sn):T.style[sn]="");for(const sn in Ye)(!Ve||Ye[sn]!==Ve[sn])&&(sn.includes("-")?T.style.setProperty(sn,Ye[sn]):T.style[sn]=Ye[sn])}else if("key"!==V)if("ref"===V)Ye&&Ye(T);else if(dn||"o"!==V[0]||"n"!==V[1]){const sn=bn(Ye);if((dn||sn&&null!==Ye)&&!bt)try{if(T.tagName.includes("-"))T[V]=Ye;else{const $n=null==Ye?"":Ye;"list"===V?dn=!1:(null==Ve||T[V]!=$n)&&(T[V]=$n)}}catch{}let pn=!1;Ut!==(Ut=Ut.replace(/^xlink\:?/,""))&&(V=Ut,pn=!0),null==Ye||!1===Ye?(!1!==Ye||""===T.getAttribute(V))&&(pn?T.removeAttributeNS(Ft,V):T.removeAttribute(V)):(!dn||4&It||bt)&&!sn&&(Ye=!0===Ye?"":Ye,pn?T.setAttributeNS(Ft,V,Ye):T.setAttribute(V,Ye))}else if(V="-"===V[2]?V.slice(3):ye(Se,Ut)?Ut.slice(2):Ut[2]+V.slice(3),Ve||Ye){const sn=V.endsWith(oe);V=V.replace(Q,""),Ve&&nn.rel(T,V,Ve,sn),Ye&&nn.ael(T,V,Ye,sn)}}},Et=/\s/,_n=T=>T?T.split(Et):[],oe="Capture",Q=new RegExp(oe+"$"),le=(T,V,Ve)=>{const Ye=11===V.$elm$.nodeType&&V.$elm$.host?V.$elm$.host:V.$elm$,bt=T&&T.$attrs$||wn,It=V.$attrs$||wn;for(const dn of Xe(Object.keys(bt)))dn in It||_t(Ye,dn,bt[dn],void 0,Ve,V.$flags$);for(const dn of Xe(Object.keys(It)))_t(Ye,dn,bt[dn],It[dn],Ve,V.$flags$)};function Xe(T){return T.includes("ref")?[...T.filter(V=>"ref"!==V),"ref"]:T}var tt,ln,Fn,nr=!1,Sr=!1,yt=!1,Cr=!1,Nn=(T,V,Ve,Ye)=>{var bt;const It=V.$children$[Ve];let Ut,sn,pn,dn=0;if(nr||(yt=!0,"slot"===It.$tag$&&(tt&&Ye.classList.add(tt+"-s"),It.$flags$|=It.$children$?2:1)),null!==It.$text$)Ut=It.$elm$=gt.createTextNode(It.$text$);else if(1&It.$flags$)Ut=It.$elm$=gt.createTextNode("");else{if(Cr||(Cr="svg"===It.$tag$),Ut=It.$elm$=gt.createElementNS(Cr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!nr&&2&It.$flags$?"slot-fb":It.$tag$),Cr&&"foreignObject"===It.$tag$&&(Cr=!1),le(null,It,Cr),!!Ut.getRootNode().querySelector("body")&&(T=>null!=T)(tt)&&Ut["s-si"]!==tt&&Ut.classList.add(Ut["s-si"]=tt),on(Ut,Ye),It.$children$)for(dn=0;dn<It.$children$.length;++dn)sn=Nn(T,It,dn,Ut),sn&&Ut.appendChild(sn);"svg"===It.$tag$?Cr=!1:"foreignObject"===Ut.tagName&&(Cr=!0)}return Ut["s-hn"]=Fn,3&It.$flags$&&(Ut["s-sr"]=!0,Ut["s-cr"]=ln,Ut["s-sn"]=It.$name$||"",Ut["s-rf"]=null==(bt=It.$attrs$)?void 0:bt.ref,pn=T&&T.$children$&&T.$children$[Ve],pn&&pn.$tag$===It.$tag$&&T.$elm$&&Nr(T.$elm$)),Ut},Nr=T=>{nn.$flags$|=1;const V=T.closest(Fn.toLowerCase());if(null!=V){const Ve=Array.from(V.childNodes).find(bt=>bt["s-cr"]),Ye=Array.from(T.childNodes);for(const bt of Ve?Ye.reverse():Ye)null!=bt["s-sh"]&&(xe(V,bt,null!=Ve?Ve:null),bt["s-sh"]=void 0,yt=!0)}nn.$flags$&=-2},Jr=(T,V)=>{nn.$flags$|=1;const Ve=Array.from(T.childNodes);if(T["s-sr"]){let Ye=T;for(;Ye=Ye.nextSibling;)Ye&&Ye["s-sn"]===T["s-sn"]&&Ye["s-sh"]===Fn&&Ve.push(Ye)}for(let Ye=Ve.length-1;Ye>=0;Ye--){const bt=Ve[Ye];bt["s-hn"]!==Fn&&bt["s-ol"]&&(xe(eo(bt),bt,Vi(bt)),bt["s-ol"].remove(),bt["s-ol"]=void 0,bt["s-sh"]=void 0,yt=!0),V&&Jr(bt,V)}nn.$flags$&=-2},tr=(T,V,Ve,Ye,bt,It)=>{let Ut,dn=T["s-cr"]&&T["s-cr"].parentNode||T;for(dn.shadowRoot&&dn.tagName===Fn&&(dn=dn.shadowRoot);bt<=It;++bt)Ye[bt]&&(Ut=Nn(null,Ve,bt,T),Ut&&(Ye[bt].$elm$=Ut,xe(dn,Ut,Vi(V))))},oi=(T,V,Ve)=>{for(let Ye=V;Ye<=Ve;++Ye){const bt=T[Ye];if(bt){const It=bt.$elm$;se(bt),It&&(Sr=!0,It["s-ol"]?It["s-ol"].remove():Jr(It,!0),It.remove())}}},ki=(T,V,Ve=!1)=>!(T.$tag$!==V.$tag$||("slot"===T.$tag$?"$nodeId$"in T&&Ve&&8!==T.$elm$.nodeType||T.$name$!==V.$name$:!Ve&&T.$key$!==V.$key$)),Vi=T=>T&&T["s-ol"]||T,eo=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,xr=(T,V,Ve=!1)=>{const Ye=V.$elm$=T.$elm$,bt=T.$children$,It=V.$children$,dn=V.$tag$,Ut=V.$text$;let sn;null===Ut?(Cr="svg"===dn||"foreignObject"!==dn&&Cr,"slot"!==dn||nr?le(T,V,Cr):T.$name$!==V.$name$&&(V.$elm$["s-sn"]=V.$name$||"",Nr(V.$elm$.parentElement)),null!==bt&&null!==It?((T,V,Ve,Ye,bt=!1)=>{let yi,Ii,It=0,dn=0,Ut=0,sn=0,pn=V.length-1,$n=V[0],Xn=V[pn],er=Ye.length-1,ur=Ye[0],Ur=Ye[er];for(;It<=pn&&dn<=er;)if(null==$n)$n=V[++It];else if(null==Xn)Xn=V[--pn];else if(null==ur)ur=Ye[++dn];else if(null==Ur)Ur=Ye[--er];else if(ki($n,ur,bt))xr($n,ur,bt),$n=V[++It],ur=Ye[++dn];else if(ki(Xn,Ur,bt))xr(Xn,Ur,bt),Xn=V[--pn],Ur=Ye[--er];else if(ki($n,Ur,bt))("slot"===$n.$tag$||"slot"===Ur.$tag$)&&Jr($n.$elm$.parentNode,!1),xr($n,Ur,bt),xe(T,$n.$elm$,Xn.$elm$.nextSibling),$n=V[++It],Ur=Ye[--er];else if(ki(Xn,ur,bt))("slot"===$n.$tag$||"slot"===Ur.$tag$)&&Jr(Xn.$elm$.parentNode,!1),xr(Xn,ur,bt),xe(T,Xn.$elm$,$n.$elm$),Xn=V[--pn],ur=Ye[++dn];else{for(Ut=-1,sn=It;sn<=pn;++sn)if(V[sn]&&null!==V[sn].$key$&&V[sn].$key$===ur.$key$){Ut=sn;break}Ut>=0?(Ii=V[Ut],Ii.$tag$!==ur.$tag$?yi=Nn(V&&V[dn],Ve,Ut,T):(xr(Ii,ur,bt),V[Ut]=void 0,yi=Ii.$elm$),ur=Ye[++dn]):(yi=Nn(V&&V[dn],Ve,dn,T),ur=Ye[++dn]),yi&&xe(eo($n.$elm$),yi,Vi($n.$elm$))}It>pn?tr(T,null==Ye[er+1]?null:Ye[er+1].$elm$,Ve,Ye,dn,er):dn>er&&oi(V,It,pn)})(Ye,bt,V,It,Ve):null!==It?(null!==T.$text$&&(Ye.textContent=""),tr(Ye,null,V,It,0,It.length-1)):!Ve&&null!==bt&&oi(bt,0,bt.length-1),Cr&&"svg"===dn&&(Cr=!1)):(sn=Ye["s-cr"])?sn.parentNode.textContent=Ut:T.$text$!==Ut&&(Ye.data=Ut)},pe=T=>{const V=T.childNodes;for(const Ve of V)if(1===Ve.nodeType){if(Ve["s-sr"]){const Ye=Ve["s-sn"];Ve.hidden=!1;for(const bt of V)if(bt!==Ve)if(bt["s-hn"]!==Ve["s-hn"]||""!==Ye){if(1===bt.nodeType&&(Ye===bt.getAttribute("slot")||Ye===bt["s-sn"])||3===bt.nodeType&&Ye===bt["s-sn"]){Ve.hidden=!0;break}}else if(1===bt.nodeType||3===bt.nodeType&&""!==bt.textContent.trim()){Ve.hidden=!0;break}}pe(Ve)}},q=[],Re=T=>{let V,Ve,Ye;for(const bt of T.childNodes){if(bt["s-sr"]&&(V=bt["s-cr"])&&V.parentNode){Ve=V.parentNode.childNodes;const It=bt["s-sn"];for(Ye=Ve.length-1;Ye>=0;Ye--)if(V=Ve[Ye],!(V["s-cn"]||V["s-nr"]||V["s-hn"]===bt["s-hn"]||V["s-sh"]&&V["s-sh"]===bt["s-hn"]))if(ne(V,It)){let dn=q.find(Ut=>Ut.$nodeToRelocate$===V);Sr=!0,V["s-sn"]=V["s-sn"]||It,dn?(dn.$nodeToRelocate$["s-sh"]=bt["s-hn"],dn.$slotRefNode$=bt):(V["s-sh"]=bt["s-hn"],q.push({$slotRefNode$:bt,$nodeToRelocate$:V})),V["s-sr"]&&q.map(Ut=>{ne(Ut.$nodeToRelocate$,V["s-sn"])&&(dn=q.find(sn=>sn.$nodeToRelocate$===V),dn&&!Ut.$slotRefNode$&&(Ut.$slotRefNode$=dn.$slotRefNode$))})}else q.some(dn=>dn.$nodeToRelocate$===V)||q.push({$nodeToRelocate$:V})}1===bt.nodeType&&Re(bt)}},ne=(T,V)=>1===T.nodeType?null===T.getAttribute("slot")&&""===V||T.getAttribute("slot")===V:T["s-sn"]===V||""===V,se=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(se)},xe=(T,V,Ve)=>{const Ye=null==T?void 0:T.insertBefore(V,Ve);return on(V,T),Ye},Nt=T=>{const V=[];return T&&V.push(...T["s-scs"]||[],T["s-si"],T["s-sc"],...Nt(T.parentElement)),V},on=(T,V,Ve=!1)=>{var Ye;if(T&&V&&1===T.nodeType){const bt=new Set(Nt(V).filter(Boolean));if(bt.size&&(null==(Ye=T.classList)||Ye.add(...T["s-scs"]=[...bt]),T["s-ol"]||Ve))for(const It of Array.from(T.childNodes))on(It,T,!0)}},he=(T,V)=>{V&&!T.$onRenderResolve$&&V["s-p"]&&V["s-p"].push(new Promise(Ve=>T.$onRenderResolve$=Ve))},$e=(T,V)=>{if(T.$flags$|=16,!(4&T.$flags$))return he(T,T.$ancestorComponent$),Mt(()=>pt(T,V));T.$flags$|=512},pt=(T,V)=>{const bt=T.$lazyInstance$;if(!bt)throw new Error(`Can't render component <${T.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let It;return V&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([dn,Ut])=>Vr(bt,dn,Ut)),T.$queuedListeners$=void 0),It=Vr(bt,"componentWillLoad")),It=St(It,()=>Vr(bt,"componentWillRender")),St(It,()=>In(T,bt,V))},St=(T,V)=>zt(T)?T.then(V).catch(Ve=>{console.error(Ve),V()}):V(),zt=T=>T instanceof Promise||T&&T.then&&"function"==typeof T.then,In=function(){var T=(0,c.A)(function*(V,Ve,Ye){var bt;const It=V.$hostElement$,Ut=It["s-rc"];Ye&&(T=>{const V=T.$cmpMeta$,Ve=T.$hostElement$,Ye=V.$flags$,It=Gt(Ve.shadowRoot?Ve.shadowRoot:Ve.getRootNode(),V,T.$modeName$);10&Ye&&2&Ye&&(Ve["s-sc"]=It,Ve.classList.add(It+"-h"),2&Ye&&Ve.classList.add(It+"-s"))})(V);Bn(V,Ve,It,Ye),Ut&&(Ut.map(pn=>pn()),It["s-rc"]=void 0);{const pn=null!=(bt=It["s-p"])?bt:[],$n=()=>Gn(V);0===pn.length?$n():(Promise.all(pn).then($n),V.$flags$|=4,pn.length=0)}});return function(Ve,Ye,bt){return T.apply(this,arguments)}}(),Bn=(T,V,Ve,Ye)=>{try{V=V.render&&V.render(),T.$flags$&=-17,T.$flags$|=2,((T,V,Ve=!1)=>{var Ye,bt,It,dn,Ut;const sn=T.$hostElement$,pn=T.$cmpMeta$,$n=T.$vnode$||Un(null,null),Xn=(T=>T&&T.$tag$===zn)(V)?V:ir(null,null,V);if(Fn=sn.tagName,pn.$attrsToReflect$&&(Xn.$attrs$=Xn.$attrs$||{},pn.$attrsToReflect$.map(([er,ur])=>Xn.$attrs$[ur]=sn[er])),Ve&&Xn.$attrs$)for(const er of Object.keys(Xn.$attrs$))sn.hasAttribute(er)&&!["key","ref","style","class"].includes(er)&&(Xn.$attrs$[er]=sn[er]);if(Xn.$tag$=null,Xn.$flags$|=4,T.$vnode$=Xn,Xn.$elm$=$n.$elm$=sn.shadowRoot||sn,tt=sn["s-sc"],nr=!!(1&pn.$flags$),ln=sn["s-cr"],Sr=!1,xr($n,Xn,Ve),nn.$flags$|=1,yt){Re(Xn.$elm$);for(const er of q){const ur=er.$nodeToRelocate$;if(!ur["s-ol"]){const Ur=gt.createTextNode("");Ur["s-nr"]=ur,xe(ur.parentNode,ur["s-ol"]=Ur,ur)}}for(const er of q){const ur=er.$nodeToRelocate$,Ur=er.$slotRefNode$;if(Ur){const yi=Ur.parentNode;let Ii=Ur.nextSibling;if(Ii&&1===Ii.nodeType){let mi=null==(Ye=ur["s-ol"])?void 0:Ye.previousSibling;for(;mi;){let gi=null!=(bt=mi["s-nr"])?bt:null;if(gi&&gi["s-sn"]===ur["s-sn"]&&yi===gi.parentNode){for(gi=gi.nextSibling;gi===ur||null!=gi&&gi["s-sr"];)gi=null==gi?void 0:gi.nextSibling;if(!gi||!gi["s-nr"]){Ii=gi;break}}mi=mi.previousSibling}}(!Ii&&yi!==ur.parentNode||ur.nextSibling!==Ii)&&ur!==Ii&&(xe(yi,ur,Ii),1===ur.nodeType&&(ur.hidden=null!=(It=ur["s-ih"])&&It)),ur&&"function"==typeof Ur["s-rf"]&&Ur["s-rf"](ur)}else 1===ur.nodeType&&(Ve&&(ur["s-ih"]=null!=(dn=ur.hidden)&&dn),ur.hidden=!0)}}if(Sr&&pe(Xn.$elm$),nn.$flags$&=-2,q.length=0,2&pn.$flags$)for(const er of Xn.$elm$.childNodes)er["s-hn"]!==Fn&&!er["s-sh"]&&(Ve&&null==er["s-ih"]&&(er["s-ih"]=null!=(Ut=er.hidden)&&Ut),er.hidden=!0);ln=void 0})(T,V,Ye)}catch(bt){ze(bt,T.$hostElement$)}return null},Gn=T=>{const Ve=T.$hostElement$,bt=T.$lazyInstance$,It=T.$ancestorComponent$;Vr(bt,"componentDidRender"),64&T.$flags$?Vr(bt,"componentDidUpdate"):(T.$flags$|=64,Ai(Ve),Vr(bt,"componentDidLoad"),T.$onReadyResolve$(Ve),It||ar()),T.$onInstanceResolve$(Ve),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&Je(()=>$e(T,!1)),T.$flags$&=-517},fr=T=>{{const V=Me(T),Ve=V.$hostElement$.isConnected;return Ve&&2==(18&V.$flags$)&&$e(V,!1),Ve}},ar=T=>{Ai(gt.documentElement),Je(()=>lr(Se,"appload",{detail:{namespace:"ionic"}}))},Vr=(T,V,Ve)=>{if(T&&T[V])try{return T[V](Ve)}catch(Ye){ze(Ye)}},Ai=T=>T.classList.add("hydrated"),Zr=(T,V,Ve)=>{var Ye,bt;const It=T.prototype;if(V.$members$||V.$watchers$||T.watchers){T.watchers&&!V.$watchers$&&(V.$watchers$=T.watchers);const dn=Object.entries(null!=(Ye=V.$members$)?Ye:{});if(dn.map(([Ut,[sn]])=>{31&sn||2&Ve&&32&sn?Object.defineProperty(It,Ut,{get(){return((T,V)=>Me(this).$instanceValues$.get(V))(0,Ut)},set(pn){((T,V,Ve,Ye)=>{const bt=Me(T);if(!bt)throw new Error(`Couldn't find host element for "${Ye.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const It=bt.$hostElement$,dn=bt.$instanceValues$.get(V),Ut=bt.$flags$,sn=bt.$lazyInstance$;Ve=((T,V)=>null==T||bn(T)?T:4&V?"false"!==T&&(""===T||!!T):2&V?parseFloat(T):1&V?String(T):T)(Ve,Ye.$members$[V][0]);const pn=Number.isNaN(dn)&&Number.isNaN(Ve);if((!(8&Ut)||void 0===dn)&&Ve!==dn&&!pn&&(bt.$instanceValues$.set(V,Ve),sn)){if(Ye.$watchers$&&128&Ut){const Xn=Ye.$watchers$[V];Xn&&Xn.map(er=>{try{sn[er](Ve,dn,V)}catch(ur){ze(ur,It)}})}2==(18&Ut)&&$e(bt,!1)}})(this,Ut,pn,V)},configurable:!0,enumerable:!0}):1&Ve&&64&sn&&Object.defineProperty(It,Ut,{value(...pn){var $n;const Xn=Me(this);return null==($n=null==Xn?void 0:Xn.$onInstancePromise$)?void 0:$n.then(()=>{var er;return null==(er=Xn.$lazyInstance$)?void 0:er[Ut](...pn)})}})}),1&Ve){const Ut=new Map;It.attributeChangedCallback=function(sn,pn,$n){nn.jmp(()=>{var Xn;const er=Ut.get(sn);if(this.hasOwnProperty(er))$n=this[er],delete this[er];else{if(It.hasOwnProperty(er)&&"number"==typeof this[er]&&this[er]==$n)return;if(null==er){const ur=Me(this),Ur=null==ur?void 0:ur.$flags$;if(Ur&&!(8&Ur)&&128&Ur&&$n!==pn){const yi=ur.$lazyInstance$,Ii=null==(Xn=V.$watchers$)?void 0:Xn[sn];null==Ii||Ii.forEach(mi=>{null!=yi[mi]&&yi[mi].call(yi,$n,pn,sn)})}return}}this[er]=(null!==$n||"boolean"!=typeof this[er])&&$n})},T.observedAttributes=Array.from(new Set([...Object.keys(null!=(bt=V.$watchers$)?bt:{}),...dn.filter(([sn,pn])=>15&pn[0]).map(([sn,pn])=>{var $n;const Xn=pn[1]||sn;return Ut.set(Xn,sn),512&pn[0]&&(null==($n=V.$attrsToReflect$)||$n.push([sn,Xn])),Xn})]))}}return T},_i=function(){var T=(0,c.A)(function*(V,Ve,Ye,bt){let It;if(!(32&Ve.$flags$)){if(Ve.$flags$|=32,Ye.$lazyBundleId$){const pn=(T=>{const Ye=T.$tagName$.replace(/-/g,"_"),bt=T.$lazyBundleId$;if(!bt)return;const It=qe.get(bt);return It?It[Ye]:x(8996)(`./${bt}.entry.js`).then(dn=>(qe.set(bt,dn),dn[Ye]),ze)})(Ye);if(pn&&"then"in pn){const Xn=()=>{};It=yield pn,Xn()}else It=pn;if(!It)throw new Error(`Constructor for "${Ye.$tagName$}#${Ve.$modeName$}" was not found`);It.isProxied||(Ye.$watchers$=It.watchers,Zr(It,Ye,2),It.isProxied=!0);const $n=()=>{};Ve.$flags$|=8;try{new It(Ve)}catch(Xn){ze(Xn)}Ve.$flags$&=-9,Ve.$flags$|=128,$n(),Hr(Ve.$lazyInstance$)}else It=V.constructor,customElements.whenDefined(V.localName).then(()=>Ve.$flags$|=128);if(It&&It.style){let pn;"string"==typeof It.style?pn=It.style:"string"!=typeof It.style&&(Ve.$modeName$=(T=>vt.map(V=>V(T)).find(V=>!!V))(V),Ve.$modeName$&&(pn=It.style[Ve.$modeName$]));const $n=Yt(Ye,Ve.$modeName$);if(!ut.has($n)){const Xn=()=>{};((T,V,Ve)=>{let Ye=ut.get(T);Le&&Ve?(Ye=Ye||new CSSStyleSheet,"string"==typeof Ye?Ye=V:Ye.replaceSync(V)):Ye=V,ut.set(T,Ye)})($n,pn,!!(1&Ye.$flags$)),Xn()}}}const dn=Ve.$ancestorComponent$,Ut=()=>$e(Ve,!0);dn&&dn["s-rc"]?dn["s-rc"].push(Ut):Ut()});return function(Ve,Ye,bt,It){return T.apply(this,arguments)}}(),Hr=T=>{Vr(T,"connectedCallback")},Ci=T=>{const V=T["s-cr"]=gt.createComment("");V["s-cn"]=!0,xe(T,V,T.firstChild)},Zn=T=>{Vr(T,"disconnectedCallback")},wi=function(){var T=(0,c.A)(function*(V){if(!(1&nn.$flags$)){const Ve=Me(V);Ve.$rmListeners$&&(Ve.$rmListeners$.map(Ye=>Ye()),Ve.$rmListeners$=void 0),null!=Ve&&Ve.$lazyInstance$?Zn(Ve.$lazyInstance$):null!=Ve&&Ve.$onReadyPromise$&&Ve.$onReadyPromise$.then(()=>Zn(Ve.$lazyInstance$))}});return function(Ve){return T.apply(this,arguments)}}(),wr=T=>{const V=T.cloneNode;T.cloneNode=function(Ve){const Ye=this,bt=Ye.shadowRoot&&true,It=V.call(Ye,!!bt&&Ve);if(!bt&&Ve){let Ut,sn,dn=0;const pn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;dn<Ye.childNodes.length;dn++)Ut=Ye.childNodes[dn]["s-nr"],sn=pn.every($n=>!Ye.childNodes[dn][$n]),Ut&&(It.__appendChild?It.__appendChild(Ut.cloneNode(!0)):It.appendChild(Ut.cloneNode(!0))),sn&&It.appendChild(Ye.childNodes[dn].cloneNode(!0))}return It}},vo=T=>{T.__appendChild=T.appendChild,T.appendChild=function(V){const Ve=V["s-sn"]=Bi(V),Ye=ui(this.childNodes,Ve,this.tagName);if(Ye){const bt=Co(Ye,Ve),It=bt[bt.length-1],dn=xe(It.parentNode,V,It.nextSibling);return pe(this),dn}return this.__appendChild(V)}},uo=T=>{T.__removeChild=T.removeChild,T.removeChild=function(V){if(V&&typeof V["s-sn"]<"u"){const Ve=ui(this.childNodes,V["s-sn"],this.tagName);if(Ve){const bt=Co(Ve,V["s-sn"]).find(It=>It===V);if(bt)return bt.remove(),void pe(this)}}return this.__removeChild(V)}},co=T=>{const V=T.prepend;T.prepend=function(...Ve){Ve.forEach(Ye=>{"string"==typeof Ye&&(Ye=this.ownerDocument.createTextNode(Ye));const bt=Ye["s-sn"]=Bi(Ye),It=ui(this.childNodes,bt,this.tagName);if(It){const dn=document.createTextNode("");dn["s-nr"]=Ye,It["s-cr"].parentNode.__appendChild(dn),Ye["s-ol"]=dn;const sn=Co(It,bt)[0];return xe(sn.parentNode,Ye,sn.nextSibling)}return 1===Ye.nodeType&&Ye.getAttribute("slot")&&(Ye.hidden=!0),V.call(this,Ye)})}},Di=T=>{T.append=function(...V){V.forEach(Ve=>{"string"==typeof Ve&&(Ve=this.ownerDocument.createTextNode(Ve)),this.appendChild(Ve)})}},_o=T=>{const V=T.insertAdjacentHTML;T.insertAdjacentHTML=function(Ve,Ye){if("afterbegin"!==Ve&&"beforeend"!==Ve)return V.call(this,Ve,Ye);const bt=this.ownerDocument.createElement("_");let It;if(bt.innerHTML=Ye,"afterbegin"===Ve)for(;It=bt.firstChild;)this.prepend(It);else if("beforeend"===Ve)for(;It=bt.firstChild;)this.append(It)}},Qi=T=>{T.insertAdjacentText=function(V,Ve){this.insertAdjacentHTML(V,Ve)}},kr=T=>{const V=T.insertAdjacentElement;T.insertAdjacentElement=function(Ve,Ye){return"afterbegin"!==Ve&&"beforeend"!==Ve?V.call(this,Ve,Ye):"afterbegin"===Ve?(this.prepend(Ye),Ye):("beforeend"===Ve&&this.append(Ye),Ye)}},Mo=T=>{const V=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(T,"__textContent",V),Object.defineProperty(T,"textContent",{get(){return" "+Ui(this.childNodes).map(bt=>{var It,dn;const Ut=[];let sn=bt.nextSibling;for(;sn&&sn["s-sn"]===bt["s-sn"];)(3===sn.nodeType||1===sn.nodeType)&&Ut.push(null!=(dn=null==(It=sn.textContent)?void 0:It.trim())?dn:""),sn=sn.nextSibling;return Ut.filter(pn=>""!==pn).join(" ")}).filter(bt=>""!==bt).join(" ")+" "},set(Ve){Ui(this.childNodes).forEach(bt=>{let It=bt.nextSibling;for(;It&&It["s-sn"]===bt["s-sn"];){const dn=It;It=It.nextSibling,dn.remove()}if(""===bt["s-sn"]){const dn=this.ownerDocument.createTextNode(Ve);dn["s-sn"]="",xe(bt.parentElement,dn,bt.nextSibling)}else bt.remove()})}})},ii=(T,V)=>{class Ve extends Array{item(bt){return this[bt]}}if(8&V.$flags$){const Ye=T.__lookupGetter__("childNodes");Object.defineProperty(T,"children",{get(){return this.childNodes.map(bt=>1===bt.nodeType)}}),Object.defineProperty(T,"childElementCount",{get:()=>T.children.length}),Object.defineProperty(T,"childNodes",{get(){const bt=Ye.call(this);if(!(1&nn.$flags$)&&2&Me(this).$flags$){const It=new Ve;for(let dn=0;dn<bt.length;dn++){const Ut=bt[dn]["s-nr"];Ut&&It.push(Ut)}return It}return Ve.from(bt)}})}},Ui=T=>{const V=[];for(const Ve of Array.from(T))Ve["s-sr"]&&V.push(Ve),V.push(...Ui(Ve.childNodes));return V},Bi=T=>T["s-sn"]||1===T.nodeType&&T.getAttribute("slot")||"",ui=(T,V,Ve)=>{let bt,Ye=0;for(;Ye<T.length;Ye++)if(bt=T[Ye],bt["s-sr"]&&bt["s-sn"]===V&&bt["s-hn"]===Ve||(bt=ui(bt.childNodes,V,Ve),bt))return bt;return null},Co=(T,V)=>{const Ve=[T];for(;(T=T.nextSibling)&&T["s-sn"]===V;)Ve.push(T);return Ve},yo=(T,V={})=>{var Ve;const bt=[],It=V.exclude||[],dn=Se.customElements,Ut=gt.head,sn=Ut.querySelector("meta[charset]"),pn=gt.createElement("style"),$n=[];let Xn,er=!0;Object.assign(nn,V),nn.$resourcesUrl$=new URL(V.resourcesUrl||"./",gt.baseURI).href,nn.$flags$|=2;let ur=!1;if(T.map(Ur=>{Ur[1].map(yi=>{var Ii;const mi={$flags$:yi[0],$tagName$:yi[1],$members$:yi[2],$listeners$:yi[3]};4&mi.$flags$&&(ur=!0),mi.$members$=yi[2],mi.$listeners$=yi[3],mi.$attrsToReflect$=[],mi.$watchers$=null!=(Ii=yi[4])?Ii:{};const gi=mi.$tagName$,oo=class extends HTMLElement{constructor(Ji){if(super(Ji),this.hasRegisteredEventListeners=!1,((T,V)=>{const Ve={$flags$:0,$hostElement$:T,$cmpMeta$:V,$instanceValues$:new Map};Ve.$onInstancePromise$=new Promise(Ye=>Ve.$onInstanceResolve$=Ye),Ve.$onReadyPromise$=new Promise(Ye=>Ve.$onReadyResolve$=Ye),T["s-p"]=[],T["s-rc"]=[],_e.set(T,Ve)})(Ji=this,mi),1&mi.$flags$)if(Ji.shadowRoot){if("open"!==Ji.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${mi.$tagName$}! Mode is set to ${Ji.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Ji.attachShadow({mode:"open",delegatesFocus:!!(16&mi.$flags$)})}connectedCallback(){const Ji=Me(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ci(this,Ji,mi.$listeners$)),Xn&&(clearTimeout(Xn),Xn=null),er?$n.push(this):nn.jmp(()=>(T=>{if(!(1&nn.$flags$)){const V=Me(T),Ve=V.$cmpMeta$,Ye=()=>{};if(1&V.$flags$)ci(T,V,Ve.$listeners$),null!=V&&V.$lazyInstance$?Hr(V.$lazyInstance$):null!=V&&V.$onReadyPromise$&&V.$onReadyPromise$.then(()=>Hr(V.$lazyInstance$));else{let bt;if(V.$flags$|=1,bt=T.getAttribute(Ie),bt){if(1&Ve.$flags$){const It=Gt(T.shadowRoot,Ve,T.getAttribute("s-mode"));T.classList.remove(It+"-h",It+"-s")}((T,V,Ve,Ye)=>{const It=T.shadowRoot,dn=[],sn=It?[]:null,pn=Ye.$vnode$=Un(V,null);nn.$orgLocNodes$||jn(gt.body,nn.$orgLocNodes$=new Map),T[Ie]=Ve,T.removeAttribute(Ie),hi(pn,dn,[],sn,T,T,Ve),dn.map($n=>{const Xn=$n.$hostId$+"."+$n.$nodeId$,er=nn.$orgLocNodes$.get(Xn),ur=$n.$elm$;er&&""===er["s-en"]&&er.parentNode.insertBefore(ur,er.nextSibling),It||(ur["s-hn"]=V,er&&(ur["s-ol"]=er,ur["s-ol"]["s-nr"]=ur)),nn.$orgLocNodes$.delete(Xn)}),It&&sn.map($n=>{$n&&It.appendChild($n)})})(T,Ve.$tagName$,bt,V)}bt||12&Ve.$flags$&&Ci(T);{let It=T;for(;It=It.parentNode||It.host;)if(1===It.nodeType&&It.hasAttribute("s-id")&&It["s-p"]||It["s-p"]){he(V,V.$ancestorComponent$=It);break}}Ve.$members$&&Object.entries(Ve.$members$).map(([It,[dn]])=>{if(31&dn&&T.hasOwnProperty(It)){const Ut=T[It];delete T[It],T[It]=Ut}}),_i(T,V,Ve)}Ye()}})(this))}disconnectedCallback(){nn.jmp(()=>wi(this))}componentOnReady(){return Me(this).$onReadyPromise$}};2&mi.$flags$&&((T,V)=>{wr(T),vo(T),Di(T),co(T),kr(T),_o(T),Qi(T),Mo(T),ii(T,V),uo(T)})(oo.prototype,mi),mi.$lazyBundleId$=Ur[0],!It.includes(gi)&&!dn.get(gi)&&(bt.push(gi),dn.define(gi,Zr(oo,mi,1)))})}),bt.length>0&&(ur&&(pn.textContent+=rt),pn.textContent+=bt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",pn.innerHTML.length)){pn.setAttribute("data-styles","");const Ur=null!=(Ve=nn.$nonce$)?Ve:Qt(gt);null!=Ur&&pn.setAttribute("nonce",Ur),Ut.insertBefore(pn,sn?sn.nextSibling:Ut.firstChild)}er=!1,$n.length?$n.map(Ur=>Ur.connectedCallback()):nn.jmp(()=>Xn=setTimeout(ar,30))},ci=(T,V,Ve,Ye)=>{Ve&&Ve.map(([bt,It,dn])=>{const Ut=Z(T,bt),sn=M(V,dn),pn=fe(bt);nn.ael(Ut,It,sn,pn),(V.$rmListeners$=V.$rmListeners$||[]).push(()=>nn.rel(Ut,It,sn,pn))})},M=(T,V)=>Ve=>{var Ye;try{256&T.$flags$?null==(Ye=T.$lazyInstance$)||Ye[V](Ve):(T.$queuedListeners$=T.$queuedListeners$||[]).push([V,Ve])}catch(bt){ze(bt)}},Z=(T,V)=>4&V?gt:8&V?Se:16&V?gt.body:T,fe=T=>qn?{passive:!!(1&T),capture:!!(2&T)}:!!(2&T)},8607:(Rn,at,x)=>{"use strict";x.r(at),x.d(at,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ge});var c=x(1970);const h=(qe,We,ut,vt)=>{const st=L(qe)?{capture:!!vt.capture,passive:!!vt.passive}:!!vt.capture;let lt,xt;return qe.__zone_symbol__addEventListener?(lt="__zone_symbol__addEventListener",xt="__zone_symbol__removeEventListener"):(lt="addEventListener",xt="removeEventListener"),qe[lt](We,ut,st),()=>{qe[xt](We,ut,st)}},L=qe=>{if(void 0===ve)try{const We=Object.defineProperty({},"passive",{get:()=>{ve=!0}});qe.addEventListener("optsTest",()=>{},We)}catch{ve=!1}return!!ve};let ve;const _e=qe=>qe instanceof Document?qe:qe.ownerDocument,Ge=qe=>{let We=!1,ut=!1,vt=!0,st=!1;const lt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},qe),xt=lt.canStart,Tt=lt.onWillStart,Ie=lt.onStart,Te=lt.onEnd,Ne=lt.notCaptured,Qe=lt.onMove,rt=lt.threshold,Ft=lt.passive,Se=lt.blurOnStart,gt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Vt=((qe,We,ut)=>{const vt=ut*(Math.PI/180),st="x"===qe,lt=Math.cos(vt),xt=We*We;let Tt=0,Ie=0,Te=!1,Ne=0;return{start(Qe,rt){Tt=Qe,Ie=rt,Ne=0,Te=!0},detect(Qe,rt){if(!Te)return!1;const Ft=Qe-Tt,Se=rt-Ie,gt=Ft*Ft+Se*Se;if(gt<xt)return!1;const Vt=Math.sqrt(gt),nn=(st?Ft:Se)/Vt;return Ne=nn>lt?1:nn<-lt?-1:0,Te=!1,!0},isGesture:()=>0!==Ne,getDirection:()=>Ne}})(lt.direction,lt.threshold,lt.maxAngle),nn=c.G.createGesture({name:qe.gestureName,priority:qe.gesturePriority,disableScroll:qe.disableScroll}),qn=()=>{We&&(st=!1,Qe&&Qe(gt))},Wt=()=>!!nn.capture()&&(We=!0,vt=!1,gt.startX=gt.currentX,gt.startY=gt.currentY,gt.startTime=gt.currentTime,Tt?Tt(gt).then(Ue):Ue(),!0),Ue=()=>{Se&&(()=>{if(typeof document<"u"){const At=document.activeElement;null!=At&&At.blur&&At.blur()}})(),Ie&&Ie(gt),vt=!0},ie=()=>{We=!1,ut=!1,st=!1,vt=!0,nn.release()},de=At=>{const Je=We,Lt=vt;if(ie(),Lt){if(Pe(gt,At),Je)return void(Te&&Te(gt));Ne&&Ne(gt)}},Be=((qe,We,ut,vt,st)=>{let lt,xt,Tt,Ie,Te,Ne,Qe,rt=0;const Ft=Le=>{rt=Date.now()+2e3,We(Le)&&(!xt&&ut&&(xt=h(qe,"touchmove",ut,st)),Tt||(Tt=h(Le.target,"touchend",gt,st)),Ie||(Ie=h(Le.target,"touchcancel",gt,st)))},Se=Le=>{rt>Date.now()||We(Le)&&(!Ne&&ut&&(Ne=h(_e(qe),"mousemove",ut,st)),Qe||(Qe=h(_e(qe),"mouseup",Vt,st)))},gt=Le=>{nn(),vt&&vt(Le)},Vt=Le=>{Tn(),vt&&vt(Le)},nn=()=>{xt&&xt(),Tt&&Tt(),Ie&&Ie(),xt=Tt=Ie=void 0},Tn=()=>{Ne&&Ne(),Qe&&Qe(),Ne=Qe=void 0},gn=()=>{nn(),Tn()},qn=(Le=!0)=>{Le?(lt||(lt=h(qe,"touchstart",Ft,st)),Te||(Te=h(qe,"mousedown",Se,st))):(lt&&lt(),Te&&Te(),lt=Te=void 0,gn())};return{enable:qn,stop:gn,destroy:()=>{qn(!1),vt=ut=We=void 0}}})(lt.el,At=>{const Je=ze(At);return!(ut||!vt||(ye(At,gt),gt.startX=gt.currentX,gt.startY=gt.currentY,gt.startTime=gt.currentTime=Je,gt.velocityX=gt.velocityY=gt.deltaX=gt.deltaY=0,gt.event=At,xt&&!1===xt(gt))||(nn.release(),!nn.start()))&&(ut=!0,0===rt?Wt():(Vt.start(gt.startX,gt.startY),!0))},At=>{We?!st&&vt&&(st=!0,Pe(gt,At),requestAnimationFrame(qn)):(Pe(gt,At),Vt.detect(gt.currentX,gt.currentY)&&(!Vt.isGesture()||!Wt())&&nt())},de,{capture:!1,passive:Ft}),nt=()=>{ie(),Be.stop(),Ne&&Ne(gt)};return{enable(At=!0){At||(We&&de(void 0),ie()),Be.enable(At)},destroy(){nn.destroy(),Be.destroy()}}},Pe=(qe,We)=>{if(!We)return;const ut=qe.currentX,vt=qe.currentY,st=qe.currentTime;ye(We,qe);const lt=qe.currentX,xt=qe.currentY,Ie=(qe.currentTime=ze(We))-st;if(Ie>0&&Ie<100){const Ne=(xt-vt)/Ie;qe.velocityX=(lt-ut)/Ie*.7+.3*qe.velocityX,qe.velocityY=.7*Ne+.3*qe.velocityY}qe.deltaX=lt-qe.startX,qe.deltaY=xt-qe.startY,qe.event=We},ye=(qe,We)=>{let ut=0,vt=0;if(qe){const st=qe.changedTouches;if(st&&st.length>0){const lt=st[0];ut=lt.clientX,vt=lt.clientY}else void 0!==qe.pageX&&(ut=qe.pageX,vt=qe.pageY)}We.currentX=ut,We.currentY=vt},ze=qe=>qe.timeStamp||Date.now()},3604:(Rn,at,x)=>{"use strict";x.d(at,{b:()=>Me,c:()=>Ge,d:()=>Pe,e:()=>gn,g:()=>Le,l:()=>nn,s:()=>qn,t:()=>lt,w:()=>Tn});var c=x(467),h=x(9483),L=x(4261),ve=x(4929),X=x(4920);const Me="ionViewWillLeave",Ge="ionViewDidLeave",Pe="ionViewWillUnload",ye=Ue=>{Ue.tabIndex=-1,Ue.focus()},ze=Ue=>null!==Ue.offsetParent,We="ion-last-focus",st_saveViewFocus=de=>{if(h.c.get("focusManagerPriority",!1)){const nt=document.activeElement;null!==nt&&null!=de&&de.contains(nt)&&nt.setAttribute(We,"true")}},st_setViewFocus=de=>{const Be=h.c.get("focusManagerPriority",!1);if(Array.isArray(Be)&&!de.contains(document.activeElement)){const nt=de.querySelector(`[${We}]`);if(nt&&ze(nt))return void ye(nt);for(const At of Be)switch(At){case"content":const Je=de.querySelector('main, [role="main"]');if(Je&&ze(Je))return void ye(Je);break;case"heading":const Lt=de.querySelector('h1, [role="heading"][aria-level="1"]');if(Lt&&ze(Lt))return void ye(Lt);break;case"banner":const Mt=de.querySelector('header, [role="banner"]');if(Mt&&ze(Mt))return void ye(Mt);break;default:(0,ve.p)(`Unrecognized focus manager priority value ${At}`)}ye(de)}},lt=Ue=>new Promise((ie,de)=>{(0,L.w)(()=>{xt(Ue),Tt(Ue).then(Be=>{Be.animation&&Be.animation.destroy(),Ie(Ue),ie(Be)},Be=>{Ie(Ue),de(Be)})})}),xt=Ue=>{const ie=Ue.enteringEl,de=Ue.leavingEl;st_saveViewFocus(de),Wt(ie,de,Ue.direction),Ue.showGoBack?ie.classList.add("can-go-back"):ie.classList.remove("can-go-back"),qn(ie,!1),ie.style.setProperty("pointer-events","none"),de&&(qn(de,!1),de.style.setProperty("pointer-events","none"))},Tt=function(){var Ue=(0,c.A)(function*(ie){const de=yield Te(ie);return de&&L.B.isBrowser?Ne(de,ie):Qe(ie)});return function(de){return Ue.apply(this,arguments)}}(),Ie=Ue=>{const ie=Ue.enteringEl,de=Ue.leavingEl;ie.classList.remove("ion-page-invisible"),ie.style.removeProperty("pointer-events"),void 0!==de&&(de.classList.remove("ion-page-invisible"),de.style.removeProperty("pointer-events")),st_setViewFocus(ie)},Te=function(){var Ue=(0,c.A)(function*(ie){return ie.leavingEl&&ie.animated&&0!==ie.duration?ie.animationBuilder?ie.animationBuilder:"ios"===ie.mode?(yield Promise.resolve().then(x.bind(x,5022))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,3615))).mdTransitionAnimation:void 0});return function(de){return Ue.apply(this,arguments)}}(),Ne=function(){var Ue=(0,c.A)(function*(ie,de){yield rt(de,!0);const Be=ie(de.baseEl,de);gt(de.enteringEl,de.leavingEl);const nt=yield Se(Be,de);return de.progressCallback&&de.progressCallback(void 0),nt&&Vt(de.enteringEl,de.leavingEl),{hasCompleted:nt,animation:Be}});return function(de,Be){return Ue.apply(this,arguments)}}(),Qe=function(){var Ue=(0,c.A)(function*(ie){const de=ie.enteringEl,Be=ie.leavingEl,nt=h.c.get("focusManagerPriority",!1);return yield rt(ie,nt),gt(de,Be),Vt(de,Be),{hasCompleted:!0}});return function(de){return Ue.apply(this,arguments)}}(),rt=function(){var Ue=(0,c.A)(function*(ie,de){(void 0!==ie.deepWait?ie.deepWait:de)&&(yield Promise.all([gn(ie.enteringEl),gn(ie.leavingEl)])),yield Ft(ie.viewIsReady,ie.enteringEl)});return function(de,Be){return Ue.apply(this,arguments)}}(),Ft=function(){var Ue=(0,c.A)(function*(ie,de){ie&&(yield ie(de))});return function(de,Be){return Ue.apply(this,arguments)}}(),Se=(Ue,ie)=>{const de=ie.progressCallback,Be=new Promise(nt=>{Ue.onFinish(At=>nt(1===At))});return de?(Ue.progressStart(!0),de(Ue)):Ue.play(),Be},gt=(Ue,ie)=>{nn(ie,Me),nn(Ue,"ionViewWillEnter")},Vt=(Ue,ie)=>{nn(Ue,"ionViewDidEnter"),nn(ie,Ge)},nn=(Ue,ie)=>{if(Ue){const de=new CustomEvent(ie,{bubbles:!1,cancelable:!1});Ue.dispatchEvent(de)}},Tn=()=>new Promise(Ue=>(0,X.r)(()=>(0,X.r)(()=>Ue()))),gn=function(){var Ue=(0,c.A)(function*(ie){const de=ie;if(de){if(null!=de.componentOnReady){if(null!=(yield de.componentOnReady()))return}else if(null!=de.__registerHost)return void(yield new Promise(nt=>(0,X.r)(nt)));yield Promise.all(Array.from(de.children).map(gn))}});return function(de){return Ue.apply(this,arguments)}}(),qn=(Ue,ie)=>{ie?(Ue.setAttribute("aria-hidden","true"),Ue.classList.add("ion-page-hidden")):(Ue.hidden=!1,Ue.removeAttribute("aria-hidden"),Ue.classList.remove("ion-page-hidden"))},Wt=(Ue,ie,de)=>{void 0!==Ue&&(Ue.style.zIndex="back"===de?"99":"101"),void 0!==ie&&(ie.style.zIndex="100")},Le=Ue=>Ue.classList.contains("ion-page")?Ue:Ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ue},4929:(Rn,at,x)=>{"use strict";x.d(at,{a:()=>h,b:()=>L,p:()=>c});const c=(ve,...X)=>console.warn(`[Ionic Warning]: ${ve}`,...X),h=(ve,...X)=>console.error(`[Ionic Error]: ${ve}`,...X),L=(ve,...X)=>console.error(`<${ve.tagName.toLowerCase()}> must be used inside ${X.join(" or ")}.`)},8476:(Rn,at,x)=>{"use strict";x.d(at,{d:()=>h,w:()=>c});const c=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},9568:(Rn,at,x)=>{"use strict";x.d(at,{m:()=>qe});var c=x(467),h=x(8476),L=x(7192),ve=x(4929),X=x(4920),ee=x(9483),_e=x(9986);const Me=We=>(0,_e.c)().duration(We?400:300),Ge=We=>{let ut,vt;const st=We.width+8,lt=(0,_e.c)(),xt=(0,_e.c)();We.isEndSide?(ut=st+"px",vt="0px"):(ut=-st+"px",vt="0px"),lt.addElement(We.menuInnerEl).fromTo("transform",`translateX(${ut})`,`translateX(${vt})`);const Ie="ios"===(0,ee.b)(We),Te=Ie?.2:.25;return xt.addElement(We.backdropEl).fromTo("opacity",.01,Te),Me(Ie).addAnimation([lt,xt])},Pe=We=>{let ut,vt;const st=(0,ee.b)(We),lt=We.width;We.isEndSide?(ut=-lt+"px",vt=lt+"px"):(ut=lt+"px",vt=-lt+"px");const xt=(0,_e.c)().addElement(We.menuInnerEl).fromTo("transform",`translateX(${vt})`,"translateX(0px)"),Tt=(0,_e.c)().addElement(We.contentEl).fromTo("transform","translateX(0px)",`translateX(${ut})`),Ie=(0,_e.c)().addElement(We.backdropEl).fromTo("opacity",.01,.32);return Me("ios"===st).addAnimation([xt,Tt,Ie])},ye=We=>{const ut=(0,ee.b)(We),vt=We.width*(We.isEndSide?-1:1)+"px",st=(0,_e.c)().addElement(We.contentEl).fromTo("transform","translateX(0px)",`translateX(${vt})`);return Me("ios"===ut).addAnimation(st)},qe=(()=>{const We=new Map,ut=[],vt=function(){var ie=(0,c.A)(function*(de){const Be=yield Ne(de,!0);return!!Be&&Be.open()});return function(Be){return ie.apply(this,arguments)}}(),st=function(){var ie=(0,c.A)(function*(de){const Be=yield void 0!==de?Ne(de,!0):Qe();return void 0!==Be&&Be.close()});return function(Be){return ie.apply(this,arguments)}}(),lt=function(){var ie=(0,c.A)(function*(de){const Be=yield Ne(de,!0);return!!Be&&Be.toggle()});return function(Be){return ie.apply(this,arguments)}}(),xt=function(){var ie=(0,c.A)(function*(de,Be){const nt=yield Ne(Be);return nt&&(nt.disabled=!de),nt});return function(Be,nt){return ie.apply(this,arguments)}}(),Tt=function(){var ie=(0,c.A)(function*(de,Be){const nt=yield Ne(Be);return nt&&(nt.swipeGesture=de),nt});return function(Be,nt){return ie.apply(this,arguments)}}(),Ie=function(){var ie=(0,c.A)(function*(de){if(null!=de){const Be=yield Ne(de);return void 0!==Be&&Be.isOpen()}return void 0!==(yield Qe())});return function(Be){return ie.apply(this,arguments)}}(),Te=function(){var ie=(0,c.A)(function*(de){const Be=yield Ne(de);return!!Be&&!Be.disabled});return function(Be){return ie.apply(this,arguments)}}(),Ne=function(){var ie=(0,c.A)(function*(de,Be=!1){if(yield Ue(),"start"===de||"end"===de){const At=ut.filter(Lt=>Lt.side===de&&!Lt.disabled);if(At.length>=1)return At.length>1&&Be&&(0,ve.p)(`menuController queried for a menu on the "${de}" side, but ${At.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,At.map(Lt=>Lt.el)),At[0].el;const Je=ut.filter(Lt=>Lt.side===de);if(Je.length>=1)return Je.length>1&&Be&&(0,ve.p)(`menuController queried for a menu on the "${de}" side, but ${Je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Je.map(Lt=>Lt.el)),Je[0].el}else if(null!=de)return Le(At=>At.menuId===de);return Le(At=>!At.disabled)||(ut.length>0?ut[0].el:void 0)});return function(Be){return ie.apply(this,arguments)}}(),Qe=function(){var ie=(0,c.A)(function*(){return yield Ue(),gn()});return function(){return ie.apply(this,arguments)}}(),rt=function(){var ie=(0,c.A)(function*(){return yield Ue(),qn()});return function(){return ie.apply(this,arguments)}}(),Ft=function(){var ie=(0,c.A)(function*(){return yield Ue(),Wt()});return function(){return ie.apply(this,arguments)}}(),Se=(ie,de)=>{We.set(ie,de)},nn=function(){var ie=(0,c.A)(function*(de,Be,nt){if(Wt())return!1;if(Be){const At=yield Qe();At&&de.el!==At&&(yield At.setOpen(!1,!1))}return de._setOpen(Be,nt)});return function(Be,nt,At){return ie.apply(this,arguments)}}(),gn=()=>Le(ie=>ie._isOpen),qn=()=>ut.map(ie=>ie.el),Wt=()=>ut.some(ie=>ie.isAnimating),Le=ie=>{const de=ut.find(ie);if(void 0!==de)return de.el},Ue=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ie=>new Promise(de=>(0,X.c)(ie,de))));return Se("reveal",ye),Se("push",Pe),Se("overlay",Ge),null==h.d||h.d.addEventListener("ionBackButton",ie=>{const de=gn();de&&ie.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>de.close())}),{registerAnimation:Se,get:Ne,getMenus:rt,getOpen:Qe,isEnabled:Te,swipeGesture:Tt,isAnimating:Ft,isOpen:Ie,enable:xt,toggle:lt,close:st,open:vt,_getOpenSync:gn,_createAnimation:(ie,de)=>{const Be=We.get(ie);if(!Be)throw new Error("animation not registered");return Be(de)},_register:ie=>{ut.indexOf(ie)<0&&ut.push(ie)},_unregister:ie=>{const de=ut.indexOf(ie);de>-1&&ut.splice(de,1)},_setOpen:nn}})()},9483:(Rn,at,x)=>{"use strict";x.d(at,{a:()=>ye,b:()=>qn,c:()=>L,i:()=>Wt});var c=x(4261);class h{constructor(){this.m=new Map}reset(Ue){this.m=new Map(Object.entries(Ue))}get(Ue,ie){const de=this.m.get(Ue);return void 0!==de?de:ie}getBoolean(Ue,ie=!1){const de=this.m.get(Ue);return void 0===de?ie:"string"==typeof de?"true"===de:!!de}getNumber(Ue,ie){const de=parseFloat(this.m.get(Ue));return isNaN(de)?void 0!==ie?ie:NaN:de}set(Ue,ie){this.m.set(Ue,ie)}}const L=new h,Ge="ionic-persist-config",ye=(Le,Ue)=>("string"==typeof Le&&(Ue=Le,Le=void 0),(Le=>ze(Le))(Le).includes(Ue)),ze=(Le=window)=>{if(typeof Le>"u")return[];Le.Ionic=Le.Ionic||{};let Ue=Le.Ionic.platforms;return null==Ue&&(Ue=Le.Ionic.platforms=qe(Le),Ue.forEach(ie=>Le.document.documentElement.classList.add(`plt-${ie}`))),Ue},qe=Le=>{const Ue=L.get("platform");return Object.keys(Tn).filter(ie=>{const de=null==Ue?void 0:Ue[ie];return"function"==typeof de?de(Le):Tn[ie](Le)})},ut=Le=>!!(Vt(Le,/iPad/i)||Vt(Le,/Macintosh/i)&&Te(Le)),lt=Le=>Vt(Le,/android|sink/i),Te=Le=>nn(Le,"(any-pointer:coarse)"),Qe=Le=>rt(Le)||Ft(Le),rt=Le=>!!(Le.cordova||Le.phonegap||Le.PhoneGap),Ft=Le=>{const Ue=Le.Capacitor;return!(null==Ue||!Ue.isNative)},Vt=(Le,Ue)=>Ue.test(Le.navigator.userAgent),nn=(Le,Ue)=>{var ie;return null===(ie=Le.matchMedia)||void 0===ie?void 0:ie.call(Le,Ue).matches},Tn={ipad:ut,iphone:Le=>Vt(Le,/iPhone/i),ios:Le=>Vt(Le,/iPhone|iPod/i)||ut(Le),android:lt,phablet:Le=>{const Ue=Le.innerWidth,ie=Le.innerHeight,de=Math.min(Ue,ie),Be=Math.max(Ue,ie);return de>390&&de<520&&Be>620&&Be<800},tablet:Le=>{const Ue=Le.innerWidth,ie=Le.innerHeight,de=Math.min(Ue,ie),Be=Math.max(Ue,ie);return ut(Le)||(Le=>lt(Le)&&!Vt(Le,/mobile/i))(Le)||de>460&&de<820&&Be>780&&Be<1400},cordova:rt,capacitor:Ft,electron:Le=>Vt(Le,/electron/i),pwa:Le=>{var Ue;return!!(null!==(Ue=Le.matchMedia)&&void 0!==Ue&&Ue.call(Le,"(display-mode: standalone)").matches||Le.navigator.standalone)},mobile:Te,mobileweb:Le=>Te(Le)&&!Qe(Le),desktop:Le=>!Te(Le),hybrid:Qe};let gn;const qn=Le=>Le&&(0,c.g)(Le)||gn,Wt=(Le={})=>{if(typeof window>"u")return;const Ue=window.document,ie=window,de=ie.Ionic=ie.Ionic||{},Be={};Le._ael&&(Be.ael=Le._ael),Le._rel&&(Be.rel=Le._rel),Le._ce&&(Be.ce=Le._ce),(0,c.a)(Be);const nt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Le=>{try{const Ue=Le.sessionStorage.getItem(Ge);return null!==Ue?JSON.parse(Ue):{}}catch{return{}}})(ie)),{persistConfig:!1}),de.config),(Le=>{const Ue={};return Le.location.search.slice(1).split("&").map(ie=>ie.split("=")).map(([ie,de])=>{try{return[decodeURIComponent(ie),decodeURIComponent(de)]}catch{return["",""]}}).filter(([ie])=>((Le,Ue)=>Le.substr(0,Ue.length)===Ue)(ie,"ionic:")).map(([ie,de])=>[ie.slice(6),de]).forEach(([ie,de])=>{Ue[ie]=de}),Ue})(ie)),Le);L.reset(nt),L.getBoolean("persistConfig")&&((Le,Ue)=>{try{Le.sessionStorage.setItem(Ge,JSON.stringify(Ue))}catch{return}})(ie,nt),ze(ie),de.config=L,de.mode=gn=L.get("mode",Ue.documentElement.getAttribute("mode")||(ye(ie,"ios")?"ios":"md")),L.set("mode",gn),Ue.documentElement.setAttribute("mode",gn),Ue.documentElement.classList.add(gn),L.getBoolean("_testing")&&L.set("animated",!1);const At=Lt=>{var Mt;return null===(Mt=Lt.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},Je=Lt=>["ios","md"].includes(Lt);(0,c.c)(Lt=>{for(;Lt;){const Mt=Lt.mode||Lt.getAttribute("mode");if(Mt){if(Je(Mt))return Mt;At(Lt)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}Lt=Lt.parentElement}return gn})}},5022:(Rn,at,x)=>{"use strict";x.r(at),x.d(at,{iosTransitionAnimation:()=>We,shadow:()=>Me});var c=x(9986),h=x(3604);x(8476),x(9483),x(4261);const _e=vt=>document.querySelector(`${vt}.ion-cloned-element`),Me=vt=>vt.shadowRoot||vt,Ge=vt=>{const st="ION-TABS"===vt.tagName?vt:vt.querySelector("ion-tabs"),lt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=st){const xt=st.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=xt?xt.querySelector(lt):null}return vt.querySelector(lt)},Pe=(vt,st)=>{const lt="ION-TABS"===vt.tagName?vt:vt.querySelector("ion-tabs");let xt=[];if(null!=lt){const Tt=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Tt&&(xt=Tt.querySelectorAll("ion-buttons"))}else xt=vt.querySelectorAll("ion-buttons");for(const Tt of xt){const Ie=Tt.closest("ion-header"),Te=Ie&&!Ie.classList.contains("header-collapse-condense-inactive"),Ne=Tt.querySelector("ion-back-button"),Qe=Tt.classList.contains("buttons-collapse");if(null!==Ne&&("start"===Tt.slot||""===Tt.slot)&&(Qe&&Te&&st||!Qe))return Ne}return null},ze=(vt,st,lt,xt,Tt,Ie,Te,Ne,Qe)=>{var rt,Ft;const Se=st?`calc(100% - ${Tt.right+4}px)`:Tt.left-4+"px",gt=st?"right":"left",Vt=st?"left":"right",nn=st?"right":"left";let Tn=1,gn=1,qn=`scale(${gn})`;const Wt="scale(1)";if(Ie&&Te){const Ke=(null===(rt=Ie.textContent)||void 0===rt?void 0:rt.trim())===(null===(Ft=Ne.textContent)||void 0===Ft?void 0:Ft.trim());Tn=Qe.width/Te.width,gn=(Qe.height-ut)/Te.height,qn=Ke?`scale(${Tn}, ${gn})`:`scale(${gn})`}const Ue=Me(xt).querySelector("ion-icon").getBoundingClientRect(),ie=st?Ue.width/2-(Ue.right-Tt.right)+"px":Tt.left-Ue.width/2+"px",de=st?`-${window.innerWidth-Tt.right}px`:`${Tt.left}px`,Be=`${Qe.top}px`,nt=`${Tt.top}px`,Lt=lt?[{offset:0,transform:`translate3d(${de}, ${nt}, 0)`},{offset:1,transform:`translate3d(${ie}, ${Be}, 0)`}]:[{offset:0,transform:`translate3d(${ie}, ${Be}, 0)`},{offset:1,transform:`translate3d(${de}, ${nt}, 0)`}],wn=lt?[{offset:0,opacity:1,transform:Wt},{offset:1,opacity:0,transform:qn}]:[{offset:0,opacity:0,transform:qn},{offset:1,opacity:1,transform:Wt}],en=lt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],bn=(0,c.c)(),Qt=(0,c.c)(),Dt=(0,c.c)(),vn=_e("ion-back-button"),it=Me(vn).querySelector(".button-text"),Oe=Me(vn).querySelector("ion-icon");vn.text=xt.text,vn.mode=xt.mode,vn.icon=xt.icon,vn.color=xt.color,vn.disabled=xt.disabled,vn.style.setProperty("display","block"),vn.style.setProperty("position","fixed"),Qt.addElement(Oe),bn.addElement(it),Dt.addElement(vn),Dt.beforeStyles({position:"absolute",top:"0px",[nn]:"0px"}).beforeAddWrite(()=>{xt.style.setProperty("display","none"),vn.style.setProperty(gt,Se)}).afterAddWrite(()=>{xt.style.setProperty("display",""),vn.style.setProperty("display","none"),vn.style.removeProperty(gt)}).keyframes(Lt),bn.beforeStyles({"transform-origin":`${gt} top`}).keyframes(wn),Qt.beforeStyles({"transform-origin":`${Vt} center`}).keyframes(en),vt.addAnimation([bn,Qt,Dt])},qe=(vt,st,lt,xt,Tt,Ie,Te,Ne,Qe)=>{var rt,Ft;const Se=st?"right":"left",gt=st?`calc(100% - ${Tt.right}px)`:`${Tt.left}px`,nn=`${Tt.top}px`;let gn=st?`-${window.innerWidth-Te.right-8}px`:`${Te.x+8}px`,qn=.5;const Wt="scale(1)";let Le=`scale(${qn})`;if(Ne&&Qe){gn=st?`-${window.innerWidth-Qe.right-8}px`:Qe.x-8+"px";const Mt=(null===(rt=Ne.textContent)||void 0===rt?void 0:rt.trim())===(null===(Ft=xt.textContent)||void 0===Ft?void 0:Ft.trim());qn=Qe.height/(Ie.height-ut),Le=Mt?`scale(${Qe.width/Ie.width}, ${qn})`:`scale(${qn})`}const de=Te.top+Te.height/2-Tt.height*qn/2+"px",At=lt?[{offset:0,opacity:0,transform:`translate3d(${gn}, ${de}, 0) ${Le}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${nn}, 0) ${Wt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${nn}, 0) ${Wt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${gn}, ${de}, 0) ${Le}`}],Je=_e("ion-title"),Lt=(0,c.c)();Je.innerText=xt.innerText,Je.size=xt.size,Je.color=xt.color,Lt.addElement(Je),Lt.beforeStyles({"transform-origin":`${Se} top`,height:`${Tt.height}px`,display:"",position:"relative",[Se]:gt}).beforeAddWrite(()=>{xt.style.setProperty("opacity","0")}).afterAddWrite(()=>{xt.style.setProperty("opacity",""),Je.style.setProperty("display","none")}).keyframes(At),vt.addAnimation(Lt)},We=(vt,st)=>{var lt;try{const xt="cubic-bezier(0.32,0.72,0,1)",Tt="opacity",Ie="transform",Te="0%",Qe="rtl"===vt.ownerDocument.dir,rt=Qe?"-99.5%":"99.5%",Ft=Qe?"33%":"-33%",Se=st.enteringEl,gt=st.leavingEl,Vt="back"===st.direction,nn=Se.querySelector(":scope > ion-content"),Tn=Se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),gn=Se.querySelectorAll(":scope > ion-header > ion-toolbar"),qn=(0,c.c)(),Wt=(0,c.c)();if(qn.addElement(Se).duration((null!==(lt=st.duration)&&void 0!==lt?lt:0)||540).easing(st.easing||xt).fill("both").beforeRemoveClass("ion-page-invisible"),gt&&null!=vt){const de=(0,c.c)();de.addElement(vt),qn.addAnimation(de)}if(nn||0!==gn.length||0!==Tn.length?(Wt.addElement(nn),Wt.addElement(Tn)):Wt.addElement(Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qn.addAnimation(Wt),Vt?Wt.beforeClearStyles([Tt]).fromTo("transform",`translateX(${Ft})`,`translateX(${Te})`).fromTo(Tt,.8,1):Wt.beforeClearStyles([Tt]).fromTo("transform",`translateX(${rt})`,`translateX(${Te})`),nn){const de=Me(nn).querySelector(".transition-effect");if(de){const Be=de.querySelector(".transition-cover"),nt=de.querySelector(".transition-shadow"),At=(0,c.c)(),Je=(0,c.c)(),Lt=(0,c.c)();At.addElement(de).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Je.addElement(Be).beforeClearStyles([Tt]).fromTo(Tt,0,.1),Lt.addElement(nt).beforeClearStyles([Tt]).fromTo(Tt,.03,.7),At.addAnimation([Je,Lt]),Wt.addAnimation([At])}}const Le=Se.querySelector("ion-header.header-collapse-condense"),{forward:Ue,backward:ie}=((vt,st,lt,xt,Tt)=>{const Ie=Pe(xt,lt),Te=Ge(Tt),Ne=Ge(xt),Qe=Pe(Tt,lt),rt=null!==Ie&&null!==Te&&!lt,Ft=null!==Ne&&null!==Qe&&lt;if(rt){const Se=Te.getBoundingClientRect(),gt=Ie.getBoundingClientRect(),Vt=Me(Ie).querySelector(".button-text"),nn=null==Vt?void 0:Vt.getBoundingClientRect(),gn=Me(Te).querySelector(".toolbar-title").getBoundingClientRect();qe(vt,st,lt,Te,Se,gn,gt,Vt,nn),ze(vt,st,lt,Ie,gt,Vt,nn,Te,gn)}else if(Ft){const Se=Ne.getBoundingClientRect(),gt=Qe.getBoundingClientRect(),Vt=Me(Qe).querySelector(".button-text"),nn=null==Vt?void 0:Vt.getBoundingClientRect(),gn=Me(Ne).querySelector(".toolbar-title").getBoundingClientRect();qe(vt,st,lt,Ne,Se,gn,gt,Vt,nn),ze(vt,st,lt,Qe,gt,Vt,nn,Ne,gn)}return{forward:rt,backward:Ft}})(qn,Qe,Vt,Se,gt);if(gn.forEach(de=>{const Be=(0,c.c)();Be.addElement(de),qn.addAnimation(Be);const nt=(0,c.c)();nt.addElement(de.querySelector("ion-title"));const At=(0,c.c)(),Je=Array.from(de.querySelectorAll("ion-buttons,[menuToggle]")),Lt=de.closest("ion-header"),Mt=null==Lt?void 0:Lt.classList.contains("header-collapse-condense-inactive");let Xt;Xt=Je.filter(Vt?bn=>{const Qt=bn.classList.contains("buttons-collapse");return Qt&&!Mt||!Qt}:bn=>!bn.classList.contains("buttons-collapse")),At.addElement(Xt);const wn=(0,c.c)();wn.addElement(de.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const kt=(0,c.c)();kt.addElement(Me(de).querySelector(".toolbar-background"));const Mn=(0,c.c)(),en=de.querySelector("ion-back-button");if(en&&Mn.addElement(en),Be.addAnimation([nt,At,wn,kt,Mn]),At.fromTo(Tt,.01,1),wn.fromTo(Tt,.01,1),Vt)Mt||nt.fromTo("transform",`translateX(${Ft})`,`translateX(${Te})`).fromTo(Tt,.01,1),wn.fromTo("transform",`translateX(${Ft})`,`translateX(${Te})`),Mn.fromTo(Tt,.01,1);else if(Le||nt.fromTo("transform",`translateX(${rt})`,`translateX(${Te})`).fromTo(Tt,.01,1),wn.fromTo("transform",`translateX(${rt})`,`translateX(${Te})`),kt.beforeClearStyles([Tt,"transform"]),(null==Lt?void 0:Lt.translucent)?kt.fromTo("transform",Qe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):kt.fromTo(Tt,.01,"var(--opacity)"),Ue||Mn.fromTo(Tt,.01,1),en&&!Ue){const Qt=(0,c.c)();Qt.addElement(Me(en).querySelector(".button-text")).fromTo("transform",Qe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Be.addAnimation(Qt)}}),gt){const de=(0,c.c)(),Be=gt.querySelector(":scope > ion-content"),nt=gt.querySelectorAll(":scope > ion-header > ion-toolbar"),At=gt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Be||0!==nt.length||0!==At.length?(de.addElement(Be),de.addElement(At)):de.addElement(gt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qn.addAnimation(de),Vt){de.beforeClearStyles([Tt]).fromTo("transform",`translateX(${Te})`,Qe?"translateX(-100%)":"translateX(100%)");const Je=(0,h.g)(gt);qn.afterAddWrite(()=>{"normal"===qn.getDirection()&&Je.style.setProperty("display","none")})}else de.fromTo("transform",`translateX(${Te})`,`translateX(${Ft})`).fromTo(Tt,1,.8);if(Be){const Je=Me(Be).querySelector(".transition-effect");if(Je){const Lt=Je.querySelector(".transition-cover"),Mt=Je.querySelector(".transition-shadow"),Xt=(0,c.c)(),wn=(0,c.c)(),kt=(0,c.c)();Xt.addElement(Je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),wn.addElement(Lt).beforeClearStyles([Tt]).fromTo(Tt,.1,0),kt.addElement(Mt).beforeClearStyles([Tt]).fromTo(Tt,.7,.03),Xt.addAnimation([wn,kt]),de.addAnimation([Xt])}}nt.forEach(Je=>{const Lt=(0,c.c)();Lt.addElement(Je);const Mt=(0,c.c)();Mt.addElement(Je.querySelector("ion-title"));const Xt=(0,c.c)(),wn=Je.querySelectorAll("ion-buttons,[menuToggle]"),kt=Je.closest("ion-header"),Mn=null==kt?void 0:kt.classList.contains("header-collapse-condense-inactive"),en=Array.from(wn).filter(Oe=>{const Ke=Oe.classList.contains("buttons-collapse");return Ke&&!Mn||!Ke});Xt.addElement(en);const bn=(0,c.c)(),Qt=Je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Qt.length>0&&bn.addElement(Qt);const Dt=(0,c.c)();Dt.addElement(Me(Je).querySelector(".toolbar-background"));const vn=(0,c.c)(),it=Je.querySelector("ion-back-button");if(it&&vn.addElement(it),Lt.addAnimation([Mt,Xt,bn,vn,Dt]),qn.addAnimation(Lt),vn.fromTo(Tt,.99,0),Xt.fromTo(Tt,.99,0),bn.fromTo(Tt,.99,0),Vt){if(Mn||Mt.fromTo("transform",`translateX(${Te})`,Qe?"translateX(-100%)":"translateX(100%)").fromTo(Tt,.99,0),bn.fromTo("transform",`translateX(${Te})`,Qe?"translateX(-100%)":"translateX(100%)"),Dt.beforeClearStyles([Tt,"transform"]),(null==kt?void 0:kt.translucent)?Dt.fromTo("transform","translateX(0px)",Qe?"translateX(-100%)":"translateX(100%)"):Dt.fromTo(Tt,"var(--opacity)",0),it&&!ie){const Ke=(0,c.c)();Ke.addElement(Me(it).querySelector(".button-text")).fromTo("transform",`translateX(${Te})`,`translateX(${(Qe?-124:124)+"px"})`),Lt.addAnimation(Ke)}}else Mn||Mt.fromTo("transform",`translateX(${Te})`,`translateX(${Ft})`).fromTo(Tt,.99,0).afterClearStyles([Ie,Tt]),bn.fromTo("transform",`translateX(${Te})`,`translateX(${Ft})`).afterClearStyles([Ie,Tt]),vn.afterClearStyles([Tt]),Mt.afterClearStyles([Tt]),Xt.afterClearStyles([Tt])})}return qn}catch(xt){throw xt}},ut=10},3615:(Rn,at,x)=>{"use strict";x.r(at),x.d(at,{mdTransitionAnimation:()=>ee});var c=x(9986),h=x(3604);x(8476),x(9483),x(4261);const ee=(_e,Me)=>{var Ge,Pe,ye;const We="back"===Me.direction,vt=Me.leavingEl,st=(0,h.g)(Me.enteringEl),lt=st.querySelector("ion-toolbar"),xt=(0,c.c)();if(xt.addElement(st).fill("both").beforeRemoveClass("ion-page-invisible"),We?xt.duration((null!==(Ge=Me.duration)&&void 0!==Ge?Ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):xt.duration((null!==(Pe=Me.duration)&&void 0!==Pe?Pe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),lt){const Tt=(0,c.c)();Tt.addElement(lt),xt.addAnimation(Tt)}if(vt&&We){xt.duration((null!==(ye=Me.duration)&&void 0!==ye?ye:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Tt=(0,c.c)();Tt.addElement((0,h.g)(vt)).onFinish(Ie=>{1===Ie&&Tt.elements.length>0&&Tt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),xt.addAnimation(Tt)}return xt}},9440:(Rn,at,x)=>{"use strict";x.d(at,{B:()=>wn,F:()=>vn,G:()=>kt,O:()=>Mn,a:()=>st,b:()=>lt,c:()=>Te,d:()=>en,e:()=>bn,f:()=>Ue,g:()=>de,h:()=>At,i:()=>Lt,j:()=>Qe,k:()=>rt,l:()=>xt,m:()=>Tt,n:()=>Pe,o:()=>Wt,q:()=>ye,s:()=>Xt});var c=x(467),h=x(8476),L=x(4920),ve=x(7192),X=x(9483),ee=x(8621),_e=x(1970),Me=x(4929);const Ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Pe=(it,Oe)=>{const Ke=it.querySelector(Ge);ze(Ke,null!=Oe?Oe:it)},ye=(it,Oe)=>{const Ke=Array.from(it.querySelectorAll(Ge));ze(Ke.length>0?Ke[Ke.length-1]:null,null!=Oe?Oe:it)},ze=(it,Oe)=>{let Ke=it;const cn=null==it?void 0:it.shadowRoot;cn&&(Ke=cn.querySelector(Ge)||it),Ke?(0,L.f)(Ke):Oe.focus()};let qe=0,We=0;const ut=new WeakMap,vt=it=>({create:Oe=>Ft(it,Oe),dismiss:(Oe,Ke,cn)=>Tn(document,Oe,Ke,it,cn),getTop:()=>(0,c.A)(function*(){return Wt(document,it)})()}),st=vt("ion-alert"),lt=vt("ion-action-sheet"),xt=vt("ion-loading"),Tt=vt("ion-modal"),Te=vt("ion-popover"),Qe=it=>{typeof document<"u"&&nn(document);const Oe=qe++;it.overlayIndex=Oe},rt=it=>(it.hasAttribute("id")||(it.id="ion-overlay-"+ ++We),it.id),Ft=(it,Oe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(it).then(()=>{const Ke=document.createElement(it);return Ke.classList.add("overlay-hidden"),Object.assign(Ke,Object.assign(Object.assign({},Oe),{hasController:!0})),Be(document).appendChild(Ke),new Promise(cn=>(0,L.c)(Ke,cn))}):Promise.resolve(),gt=(it,Oe)=>{let Ke=it;const cn=null==it?void 0:it.shadowRoot;cn&&(Ke=cn.querySelector(Ge)||it),Ke?(0,L.f)(Ke):Oe.focus()},nn=it=>{0===qe&&(qe=1,it.addEventListener("focus",Oe=>{((it,Oe)=>{const Ke=Wt(Oe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),cn=it.target;Ke&&cn&&!Ke.classList.contains(vn)&&(Ke.shadowRoot?(()=>{if(Ke.contains(cn))Ke.lastFocus=cn;else if("ION-TOAST"===cn.tagName)gt(Ke.lastFocus,Ke);else{const ir=Ke.lastFocus;Pe(Ke),ir===Oe.activeElement&&ye(Ke),Ke.lastFocus=Oe.activeElement}})():(()=>{if(Ke===cn)Ke.lastFocus=void 0;else if("ION-TOAST"===cn.tagName)gt(Ke.lastFocus,Ke);else{const ir=(0,L.g)(Ke);if(!ir.contains(cn))return;const Un=ir.querySelector(".ion-overlay-wrapper");if(!Un)return;if(Un.contains(cn)||cn===ir.querySelector("ion-backdrop"))Ke.lastFocus=cn;else{const zn=Ke.lastFocus;Pe(Un,Ke),zn===Oe.activeElement&&ye(Un,Ke),Ke.lastFocus=Oe.activeElement}}})())})(Oe,it)},!0),it.addEventListener("ionBackButton",Oe=>{const Ke=Wt(it);null!=Ke&&Ke.backdropDismiss&&Oe.detail.register(ve.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ke.dismiss(void 0,wn)})}),(0,ve.shouldUseCloseWatcher)()||it.addEventListener("keydown",Oe=>{if("Escape"===Oe.key){const Ke=Wt(it);null!=Ke&&Ke.backdropDismiss&&Ke.dismiss(void 0,wn)}}))},Tn=(it,Oe,Ke,cn,qt)=>{const or=Wt(it,cn,qt);return or?or.dismiss(Oe,Ke):Promise.reject("overlay does not exist")},qn=(it,Oe)=>((it,Oe)=>(void 0===Oe&&(Oe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(it.querySelectorAll(Oe)).filter(Ke=>Ke.overlayIndex>0)))(it,Oe).filter(Ke=>!(it=>it.classList.contains("overlay-hidden"))(Ke)),Wt=(it,Oe,Ke)=>{const cn=qn(it,Oe);return void 0===Ke?cn[cn.length-1]:cn.find(qt=>qt.id===Ke)},Le=(it=!1)=>{const Ke=Be(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ke&&(it?Ke.setAttribute("aria-hidden","true"):Ke.removeAttribute("aria-hidden"))},Ue=function(){var it=(0,c.A)(function*(Oe,Ke,cn,qt,or){var ir,Un;if(Oe.presented)return;Le(!0),document.body.classList.add(_e.B),Qt(Oe.el),Oe.presented=!0,Oe.willPresent.emit(),null===(ir=Oe.willPresentShorthand)||void 0===ir||ir.emit();const zn=(0,X.b)(Oe),Er=Oe.enterAnimation?Oe.enterAnimation:X.c.get(Ke,"ios"===zn?cn:qt);(yield nt(Oe,Er,Oe.el,or))&&(Oe.didPresent.emit(),null===(Un=Oe.didPresentShorthand)||void 0===Un||Un.emit()),"ION-TOAST"!==Oe.el.tagName&&ie(Oe.el),Oe.keyboardClose&&(null===document.activeElement||!Oe.el.contains(document.activeElement))&&Oe.el.focus(),Oe.el.removeAttribute("aria-hidden")});return function(Ke,cn,qt,or,ir){return it.apply(this,arguments)}}(),ie=function(){var it=(0,c.A)(function*(Oe){let Ke=document.activeElement;if(!Ke)return;const cn=null==Ke?void 0:Ke.shadowRoot;cn&&(Ke=cn.querySelector(Ge)||Ke),yield Oe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ke.focus()});return function(Ke){return it.apply(this,arguments)}}(),de=function(){var it=(0,c.A)(function*(Oe,Ke,cn,qt,or,ir,Un){var zn,Er;if(!Oe.presented)return!1;void 0!==h.d&&1===qn(h.d).length&&(Le(!1),document.body.classList.remove(_e.B)),Oe.presented=!1;try{Oe.el.style.setProperty("pointer-events","none"),Oe.willDismiss.emit({data:Ke,role:cn}),null===(zn=Oe.willDismissShorthand)||void 0===zn||zn.emit({data:Ke,role:cn});const cr=(0,X.b)(Oe),sr=Oe.leaveAnimation?Oe.leaveAnimation:X.c.get(qt,"ios"===cr?or:ir);cn!==kt&&(yield nt(Oe,sr,Oe.el,Un)),Oe.didDismiss.emit({data:Ke,role:cn}),null===(Er=Oe.didDismissShorthand)||void 0===Er||Er.emit({data:Ke,role:cn}),(ut.get(Oe)||[]).forEach(hi=>hi.destroy()),ut.delete(Oe),Oe.el.classList.add("overlay-hidden"),Oe.el.style.removeProperty("pointer-events"),void 0!==Oe.el.lastFocus&&(Oe.el.lastFocus=void 0)}catch(cr){console.error(cr)}return Oe.el.remove(),Dt(),!0});return function(Ke,cn,qt,or,ir,Un,zn){return it.apply(this,arguments)}}(),Be=it=>it.querySelector("ion-app")||it.body,nt=function(){var it=(0,c.A)(function*(Oe,Ke,cn,qt){cn.classList.remove("overlay-hidden");const ir=Ke(Oe.el,qt);(!Oe.animated||!X.c.getBoolean("animated",!0))&&ir.duration(0),Oe.keyboardClose&&ir.beforeAddWrite(()=>{const zn=cn.ownerDocument.activeElement;null!=zn&&zn.matches("input,ion-input, ion-textarea")&&zn.blur()});const Un=ut.get(Oe)||[];return ut.set(Oe,[...Un,ir]),yield ir.play(),!0});return function(Ke,cn,qt,or){return it.apply(this,arguments)}}(),At=(it,Oe)=>{let Ke;const cn=new Promise(qt=>Ke=qt);return Je(it,Oe,qt=>{Ke(qt.detail)}),cn},Je=(it,Oe,Ke)=>{const cn=qt=>{(0,L.b)(it,Oe,cn),Ke(qt)};(0,L.a)(it,Oe,cn)},Lt=it=>"cancel"===it||it===wn,Mt=it=>it(),Xt=(it,Oe)=>{if("function"==typeof it)return X.c.get("_zoneGate",Mt)(()=>{try{return it(Oe)}catch(cn){throw cn}})},wn="backdrop",kt="gesture",Mn=39,en=it=>{let Ke,Oe=!1;const cn=(0,ee.C)(),qt=(Un=!1)=>{if(Ke&&!Un)return{delegate:Ke,inline:Oe};const{el:zn,hasController:Er,delegate:_r}=it;return Oe=null!==zn.parentNode&&!Er,Ke=Oe?_r||cn:_r,{inline:Oe,delegate:Ke}};return{attachViewToDom:function(){var Un=(0,c.A)(function*(zn){const{delegate:Er}=qt(!0);if(Er)return yield Er.attachViewToDom(it.el,zn);const{hasController:_r}=it;if(_r&&void 0!==zn)throw new Error("framework delegate is missing");return null});return function(Er){return Un.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Un}=qt();Un&&void 0!==it.el&&Un.removeViewFromDom(it.el.parentElement,it.el)}}},bn=()=>{let it;const Oe=()=>{it&&(it(),it=void 0)};return{addClickListener:(cn,qt)=>{Oe();const or=void 0!==qt?document.getElementById(qt):null;or?it=((Un,zn)=>{const Er=()=>{zn.present()};return Un.addEventListener("click",Er),()=>{Un.removeEventListener("click",Er)}})(or,cn):(0,Me.p)(`A trigger element with the ID "${qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,cn)},removeClickListener:Oe}},Qt=it=>{var Oe;if(void 0===h.d)return;const Ke=qn(h.d);for(let cn=Ke.length-1;cn>=0;cn--){const qt=Ke[cn],or=null!==(Oe=Ke[cn+1])&&void 0!==Oe?Oe:it;(or.hasAttribute("aria-hidden")||"ION-TOAST"!==or.tagName)&&qt.setAttribute("aria-hidden","true")}},Dt=()=>{if(void 0===h.d)return;const it=qn(h.d);for(let Oe=it.length-1;Oe>=0;Oe--){const Ke=it[Oe];if(Ke.removeAttribute("aria-hidden"),"ION-TOAST"!==Ke.tagName)break}},vn="ion-disable-focus-trap"},5709:(Rn,at,x)=>{"use strict";x.d(at,{u:()=>st});var c=x(4412),h=x(8455),L=x(7673),ve=x(6354),X=x(5558),ee=x(8141),_e=x(6697);class Me{localId(xt,Tt,Ie,Te,Ne,Qe,rt){throw new Error("Method not implemented.")}constructor(xt,Tt,Ie,Te,Ne,Qe,rt){this.id=xt,this.firstName=Tt,this.lastName=Ie,this.email=Te,this._token=Ne,this.tokenExpirationDate=Qe,this.role=rt}get token(){return!this.tokenExpirationDate||this.tokenExpirationDate<=new Date?null:this._token}get tokenDuration(){return this.token?this.tokenExpirationDate.getTime()-(new Date).getTime():0}}var Ge=x(5504),We=(x(7852),x(1076),x(8041),x(1362),x(4438)),ut=x(1182),vt=x(8079);let st=(()=>{var lt;class xt{constructor(Ie,Te){this.afAuth=Ie,this.firestore=Te,this._user=new c.t(null)}get userIsAuthenticated(){return this._user.asObservable().pipe((0,ve.T)(Ie=>!!Ie&&!!Ie.token))}get userId(){return this._user.asObservable().pipe((0,ve.T)(Ie=>Ie?Ie.id:null))}get token(){return this._user.asObservable().pipe((0,ve.T)(Ie=>Ie?Ie.token:null))}get user(){return this._user.asObservable()}signup(Ie,Te,Ne,Qe){return(0,h.H)(this.afAuth.createUserWithEmailAndPassword(Ie,Te)).pipe((0,X.n)(rt=>{if(!rt.user)throw new Error("User registration failed");const Ft=rt.user.uid,Se={firstName:Ne,lastName:Qe,email:Ie,userId:Ft,role:"user"};return(0,h.H)(this.firestore.collection("users").doc(Ft).set(Se)).pipe((0,X.n)(()=>(0,h.H)(rt.user.getIdToken())),(0,ve.T)(gt=>{if(!gt)throw new Error("Token retrieval failed");const Vt=new Date((new Date).getTime()+36e5),nn=new Me(Ft,Ne,Qe,Ie,gt,Vt,"user");return this._user.next(nn),this.storeAuthData(Ft,gt,Vt.toISOString(),Ie,Ne,Qe,"user"),nn}))}))}login(Ie,Te){return(0,h.H)(this.afAuth.signInWithEmailAndPassword(Ie,Te)).pipe((0,X.n)(Ne=>{if(!Ne.user)throw new Error("Login failed");const Qe=Ne.user.uid;return(0,h.H)(Ne.user.getIdToken()).pipe((0,X.n)(rt=>{if(!rt)throw new Error("Token retrieval failed");const Ft=new Date((new Date).getTime()+36e5);return this.firestore.collection("users").doc(Qe).get().pipe((0,ve.T)(Se=>{if(Se.exists){const gt=Se.data(),Vt=new Me(Qe,gt.firstName,gt.lastName,gt.email,rt,Ft,gt.role||"user");return this._user.next(Vt),this.storeAuthData(Qe,rt,Ft.toISOString(),gt.email,gt.firstName,gt.lastName,gt.role||"user"),Vt}throw new Error("User data not found in Firestore")}))}))}))}loginWithGoogle(){const Ie=new Ge.X;return(0,h.H)(this.afAuth.signInWithPopup(Ie)).pipe((0,X.n)(Te=>{const Ne=Te.user;if(!Ne)throw new Error("User not found");const Qe=Ne.uid;return(0,h.H)(Ne.getIdToken()).pipe((0,X.n)(rt=>{if(!rt)throw new Error("Token retrieval failed");const Ft=new Date((new Date).getTime()+36e5),Se=Ne.displayName||"",[gt,Vt]=Se.split(" ")||["FirstName","LastName"],nn={email:Ne.email,firstName:gt,lastName:Vt,userId:Qe,role:"user"};return(0,h.H)(this.firestore.collection("users").doc(Qe).set(nn)).pipe((0,ve.T)(()=>{const Tn=new Me(Qe,gt,Vt,Ne.email,rt,Ft,"user");return this._user.next(Tn),this.storeAuthData(Tn.id,rt,Ft.toISOString(),Tn.email,gt,Vt,"user"),Tn}))}))}))}autoLogin(){const Ie=localStorage.getItem("authData");if(!Ie)return(0,L.of)(!1);const Te=JSON.parse(Ie),Ne=new Date(Te.tokenExpirationDate);if(Ne<=new Date)return(0,L.of)(!1);const Qe=new Me(Te.userId,Te.firstName,Te.lastName,Te.email,Te.token,Ne,Te.role);return this._user.next(Qe),this.autoLogout(Qe.tokenDuration),(0,L.of)(!0)}logout(){this.activeLogoutTimer&&clearTimeout(this.activeLogoutTimer),this._user.next(null),localStorage.removeItem("authData"),this.afAuth.signOut()}updateAccountDetails(Ie,Te,Ne,Qe){return(0,h.H)(this.firestore.collection("users").doc(Ie).update({firstName:Te,lastName:Ne,email:Qe})).pipe((0,ee.M)(()=>{this._user.pipe((0,_e.s)(1)).subscribe(rt=>{if(rt){const Ft=new Me(rt.id,Te,Ne,Qe,rt.token,rt.tokenExpirationDate,rt.role);this._user.next(Ft)}})}))}storeAuthData(Ie,Te,Ne,Qe,rt,Ft,Se){const gt=JSON.stringify({userId:Ie,token:Te,tokenExpirationDate:Ne,email:Qe,firstName:rt,lastName:Ft,role:Se});localStorage.setItem("authData",gt)}autoLogout(Ie){this.activeLogoutTimer&&clearTimeout(this.activeLogoutTimer),this.activeLogoutTimer=setTimeout(()=>{this.logout()},Ie)}ngOnDestroy(){this.activeLogoutTimer&&clearTimeout(this.activeLogoutTimer)}}return(lt=xt).\u0275fac=function(Ie){return new(Ie||lt)(We.KVO(ut.DS),We.KVO(vt.Qe))},lt.\u0275prov=We.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"}),xt})()},1346:(Rn,at,x)=>{"use strict";x.d(at,{w:()=>fs});var c=x(467);class L extends Error{constructor(G,b="FunctionsError",A){super(G),this.name=b,this.context=A}}class ve extends L{constructor(G){super("Failed to send a request to the Edge Function","FunctionsFetchError",G)}}class X extends L{constructor(G){super("Relay Error invoking the Edge Function","FunctionsRelayError",G)}}class ee extends L{constructor(G){super("Edge Function returned a non-2xx status code","FunctionsHttpError",G)}}var _e=function(ae){return ae.Any="any",ae.ApNortheast1="ap-northeast-1",ae.ApNortheast2="ap-northeast-2",ae.ApSouth1="ap-south-1",ae.ApSoutheast1="ap-southeast-1",ae.ApSoutheast2="ap-southeast-2",ae.CaCentral1="ca-central-1",ae.EuCentral1="eu-central-1",ae.EuWest1="eu-west-1",ae.EuWest2="eu-west-2",ae.EuWest3="eu-west-3",ae.SaEast1="sa-east-1",ae.UsEast1="us-east-1",ae.UsWest1="us-west-1",ae.UsWest2="us-west-2",ae}(_e||{});class Ge{constructor(G,{headers:b={},customFetch:A,region:j=_e.Any}={}){this.url=G,this.headers=b,this.region=j,this.fetch=(ae=>{let G;return G=ae||(typeof fetch>"u"?(...b)=>Promise.resolve().then(x.bind(x,5286)).then(({default:A})=>A(...b)):fetch),(...b)=>G(...b)})(A)}setAuth(G){this.headers.Authorization=`Bearer ${G}`}invoke(G,b={}){var A;return function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:j,method:ue,body:be}=b;let wt,ke={},{region:ct}=b;ct||(ct=this.region),ct&&"any"!==ct&&(ke["x-region"]=ct),be&&(j&&!Object.prototype.hasOwnProperty.call(j,"Content-Type")||!j)&&(typeof Blob<"u"&&be instanceof Blob||be instanceof ArrayBuffer?(ke["Content-Type"]="application/octet-stream",wt=be):"string"==typeof be?(ke["Content-Type"]="text/plain",wt=be):typeof FormData<"u"&&be instanceof FormData?wt=be:(ke["Content-Type"]="application/json",wt=JSON.stringify(be)));const ht=yield this.fetch(`${this.url}/${G}`,{method:ue||"POST",headers:Object.assign(Object.assign(Object.assign({},ke),this.headers),j),body:wt}).catch(br=>{throw new ve(br)}),Dn=ht.headers.get("x-relay-error");if(Dn&&"true"===Dn)throw new X(ht);if(!ht.ok)throw new ee(ht);let mr,Hn=(null!==(A=ht.headers.get("Content-Type"))&&void 0!==A?A:"text/plain").split(";")[0].trim();return mr="application/json"===Hn?yield ht.json():"application/octet-stream"===Hn?yield ht.blob():"text/event-stream"===Hn?ht:"multipart/form-data"===Hn?yield ht.formData():yield ht.text(),{data:mr,error:null}}catch(j){return{data:null,error:j}}})}}var Pe=x(4060);const{PostgrestClient:ye}=Pe,lt={"X-Client-Info":"realtime-js/2.10.2"};var Te=function(ae){return ae[ae.connecting=0]="connecting",ae[ae.open=1]="open",ae[ae.closing=2]="closing",ae[ae.closed=3]="closed",ae}(Te||{}),Ne=function(ae){return ae.closed="closed",ae.errored="errored",ae.joined="joined",ae.joining="joining",ae.leaving="leaving",ae}(Ne||{}),Qe=function(ae){return ae.close="phx_close",ae.error="phx_error",ae.join="phx_join",ae.reply="phx_reply",ae.leave="phx_leave",ae.access_token="access_token",ae}(Qe||{}),rt=function(ae){return ae.websocket="websocket",ae}(rt||{}),Ft=function(ae){return ae.Connecting="connecting",ae.Open="open",ae.Closing="closing",ae.Closed="closed",ae}(Ft||{});class Se{constructor(){this.HEADER_LENGTH=1}decode(G,b){return G.constructor===ArrayBuffer?b(this._binaryDecode(G)):b("string"==typeof G?JSON.parse(G):{})}_binaryDecode(G){const b=new DataView(G),A=new TextDecoder;return this._decodeBroadcast(G,b,A)}_decodeBroadcast(G,b,A){const j=b.getUint8(1),ue=b.getUint8(2);let be=this.HEADER_LENGTH+2;const ke=A.decode(G.slice(be,be+j));be+=j;const ct=A.decode(G.slice(be,be+ue));return be+=ue,{ref:null,topic:ke,event:ct,payload:JSON.parse(A.decode(G.slice(be,G.byteLength)))}}}class gt{constructor(G,b){this.callback=G,this.timerCalc=b,this.timer=void 0,this.tries=0,this.callback=G,this.timerCalc=b}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt=function(ae){return ae.abstime="abstime",ae.bool="bool",ae.date="date",ae.daterange="daterange",ae.float4="float4",ae.float8="float8",ae.int2="int2",ae.int4="int4",ae.int4range="int4range",ae.int8="int8",ae.int8range="int8range",ae.json="json",ae.jsonb="jsonb",ae.money="money",ae.numeric="numeric",ae.oid="oid",ae.reltime="reltime",ae.text="text",ae.time="time",ae.timestamp="timestamp",ae.timestamptz="timestamptz",ae.timetz="timetz",ae.tsrange="tsrange",ae.tstzrange="tstzrange",ae}(Vt||{});const nn=(ae,G,b={})=>{var A;const j=null!==(A=b.skipTypes)&&void 0!==A?A:[];return Object.keys(G).reduce((ue,be)=>(ue[be]=Tn(be,ae,G,j),ue),{})},Tn=(ae,G,b,A)=>{const j=G.find(ke=>ke.name===ae),ue=null==j?void 0:j.type,be=b[ae];return ue&&!A.includes(ue)?gn(ue,be):qn(be)},gn=(ae,G)=>{if("_"===ae.charAt(0)){const b=ae.slice(1,ae.length);return ie(G,b)}switch(ae){case Vt.bool:return Wt(G);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return Le(G);case Vt.json:case Vt.jsonb:return Ue(G);case Vt.timestamp:return de(G);default:return qn(G)}},qn=ae=>ae,Wt=ae=>{switch(ae){case"t":return!0;case"f":return!1;default:return ae}},Le=ae=>{if("string"==typeof ae){const G=parseFloat(ae);if(!Number.isNaN(G))return G}return ae},Ue=ae=>{if("string"==typeof ae)try{return JSON.parse(ae)}catch(G){return console.log(`JSON parse error: ${G}`),ae}return ae},ie=(ae,G)=>{if("string"!=typeof ae)return ae;const b=ae.length-1;if("{"===ae[0]&&"}"===ae[b]){let ue;const be=ae.slice(1,b);try{ue=JSON.parse("["+be+"]")}catch{ue=be?be.split(","):[]}return ue.map(ke=>gn(G,ke))}return ae},de=ae=>"string"==typeof ae?ae.replace(" ","T"):ae,Be=ae=>{let G=ae;return G=G.replace(/^ws/i,"http"),G=G.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),G.replace(/\/+$/,"")};class nt{constructor(G,b,A={},j=1e4){this.channel=G,this.event=b,this.payload=A,this.timeout=j,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(G){this.timeout=G,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(G){this.payload=Object.assign(Object.assign({},this.payload),G)}receive(G,b){var A;return this._hasReceived(G)&&b(null===(A=this.receivedResp)||void 0===A?void 0:A.response),this.recHooks.push({status:G,callback:b}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},b=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=b,this._matchReceive(b)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(G,b){this.refEvent&&this.channel._trigger(this.refEvent,{status:G,response:b})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:G,response:b}){this.recHooks.filter(A=>A.status===G).forEach(A=>A.callback(b))}_hasReceived(G){return this.receivedResp&&this.receivedResp.status===G}}class Je{constructor(G,b){this.channel=G,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const A=(null==b?void 0:b.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(A.state,{},j=>{const{onJoin:ue,onLeave:be,onSync:ke}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Je.syncState(this.state,j,ue,be),this.pendingDiffs.forEach(ct=>{this.state=Je.syncDiff(this.state,ct,ue,be)}),this.pendingDiffs=[],ke()}),this.channel._on(A.diff,{},j=>{const{onJoin:ue,onLeave:be,onSync:ke}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(j):(this.state=Je.syncDiff(this.state,j,ue,be),ke())}),this.onJoin((j,ue,be)=>{this.channel._trigger("presence",{event:"join",key:j,currentPresences:ue,newPresences:be})}),this.onLeave((j,ue,be)=>{this.channel._trigger("presence",{event:"leave",key:j,currentPresences:ue,leftPresences:be})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(G,b,A,j){const ue=this.cloneDeep(G),be=this.transformState(b),ke={},ct={};return this.map(ue,(wt,ht)=>{be[wt]||(ct[wt]=ht)}),this.map(be,(wt,ht)=>{const Dn=ue[wt];if(Dn){const Hn=ht.map(Br=>Br.presence_ref),mr=Dn.map(Br=>Br.presence_ref),br=ht.filter(Br=>mr.indexOf(Br.presence_ref)<0),Mi=Dn.filter(Br=>Hn.indexOf(Br.presence_ref)<0);br.length>0&&(ke[wt]=br),Mi.length>0&&(ct[wt]=Mi)}else ke[wt]=ht}),this.syncDiff(ue,{joins:ke,leaves:ct},A,j)}static syncDiff(G,b,A,j){const{joins:ue,leaves:be}={joins:this.transformState(b.joins),leaves:this.transformState(b.leaves)};return A||(A=()=>{}),j||(j=()=>{}),this.map(ue,(ke,ct)=>{var wt;const ht=null!==(wt=G[ke])&&void 0!==wt?wt:[];if(G[ke]=this.cloneDeep(ct),ht.length>0){const Dn=G[ke].map(mr=>mr.presence_ref),Hn=ht.filter(mr=>Dn.indexOf(mr.presence_ref)<0);G[ke].unshift(...Hn)}A(ke,ht,ct)}),this.map(be,(ke,ct)=>{let wt=G[ke];if(!wt)return;const ht=ct.map(Dn=>Dn.presence_ref);wt=wt.filter(Dn=>ht.indexOf(Dn.presence_ref)<0),G[ke]=wt,j(ke,wt,ct),0===wt.length&&delete G[ke]}),G}static map(G,b){return Object.getOwnPropertyNames(G).map(A=>b(A,G[A]))}static transformState(G){return G=this.cloneDeep(G),Object.getOwnPropertyNames(G).reduce((b,A)=>{const j=G[A];return b[A]="metas"in j?j.metas.map(ue=>(ue.presence_ref=ue.phx_ref,delete ue.phx_ref,delete ue.phx_ref_prev,ue)):j,b},{})}static cloneDeep(G){return JSON.parse(JSON.stringify(G))}onJoin(G){this.caller.onJoin=G}onLeave(G){this.caller.onLeave=G}onSync(G){this.caller.onSync=G}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}class kt{constructor(G,b={config:{}},A){this.topic=G,this.params=b,this.socket=A,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=G.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},b.config),this.timeout=this.socket.timeout,this.joinPush=new nt(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new gt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(j=>j.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(j=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,j),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(j,ue)=>{this._trigger(this._replyEventName(ue),j)}),this.presence=new Je(this),this.broadcastEndpointURL=Be(this.socket.endPoint)+"/api/broadcast"}subscribe(G,b=this.timeout){var A,j;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:ue,presence:be,private:ke}}=this.params;this._onError(ht=>G&&G("CHANNEL_ERROR",ht)),this._onClose(()=>G&&G("CLOSED"));const ct={},wt={broadcast:ue,presence:be,postgres_changes:null!==(j=null===(A=this.bindings.postgres_changes)||void 0===A?void 0:A.map(ht=>ht.filter))&&void 0!==j?j:[],private:ke};this.socket.accessToken&&(ct.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:wt},ct)),this.joinedOnce=!0,this._rejoin(b),this.joinPush.receive("ok",({postgres_changes:ht})=>{var Dn;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==ht){const Hn=this.bindings.postgres_changes,mr=null!==(Dn=null==Hn?void 0:Hn.length)&&void 0!==Dn?Dn:0,br=[];for(let Mi=0;Mi<mr;Mi++){const Br=Hn[Mi],{filter:{event:jo,schema:Oo,table:K,filter:O}}=Br,ce=ht&&ht[Mi];if(!ce||ce.event!==jo||ce.schema!==Oo||ce.table!==K||ce.filter!==O)return this.unsubscribe(),void(G&&G("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));br.push(Object.assign(Object.assign({},Br),{id:ce.id}))}return this.bindings.postgres_changes=br,void(G&&G("SUBSCRIBED"))}G&&G("SUBSCRIBED")}).receive("error",ht=>{G&&G("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(ht).join(", ")||"error")))}).receive("timeout",()=>{G&&G("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(G,b={}){var A=this;return(0,c.A)(function*(){return yield A.send({type:"presence",event:"track",payload:G},b.timeout||A.timeout)})()}untrack(G={}){var b=this;return(0,c.A)(function*(){return yield b.send({type:"presence",event:"untrack"},G)})()}on(G,b,A){return this._on(G,b,A)}send(G,b={}){var A=this;return(0,c.A)(function*(){var j,ue;if(A._canPush()||"broadcast"!==G.type)return new Promise(be=>{var ke,ct,wt;const ht=A._push(G.type,G,b.timeout||A.timeout);"broadcast"===G.type&&!(null!==(wt=null===(ct=null===(ke=A.params)||void 0===ke?void 0:ke.config)||void 0===ct?void 0:ct.broadcast)&&void 0!==wt&&wt.ack)&&be("ok"),ht.receive("ok",()=>be("ok")),ht.receive("error",()=>be("error")),ht.receive("timeout",()=>be("timed out"))});{const{event:be,payload:ke}=G,ct={method:"POST",headers:{Authorization:A.socket.accessToken?`Bearer ${A.socket.accessToken}`:"",apikey:A.socket.apiKey?A.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:A.subTopic,event:be,payload:ke}]})};try{const wt=yield A._fetchWithTimeout(A.broadcastEndpointURL,ct,null!==(j=b.timeout)&&void 0!==j?j:A.timeout);return yield null===(ue=wt.body)||void 0===ue?void 0:ue.cancel(),wt.ok?"ok":"error"}catch(wt){return"AbortError"===wt.name?"timed out":"error"}}})()}updateJoinPayload(G){this.joinPush.updatePayload(G)}unsubscribe(G=this.timeout){this.state=Ne.leaving;const b=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(A=>{const j=new nt(this,Qe.leave,{},G);j.receive("ok",()=>{b(),A("ok")}).receive("timeout",()=>{b(),A("timed out")}).receive("error",()=>{A("error")}),j.send(),this._canPush()||j.trigger("ok",{})})}_fetchWithTimeout(G,b,A){var j=this;return(0,c.A)(function*(){const ue=new AbortController,be=setTimeout(()=>ue.abort(),A),ke=yield j.socket.fetch(G,Object.assign(Object.assign({},b),{signal:ue.signal}));return clearTimeout(be),ke})()}_push(G,b,A=this.timeout){if(!this.joinedOnce)throw`tried to push '${G}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let j=new nt(this,G,b,A);return this._canPush()?j.send():(j.startTimeout(),this.pushBuffer.push(j)),j}_onMessage(G,b,A){return b}_isMember(G){return this.topic===G}_joinRef(){return this.joinPush.ref}_trigger(G,b,A){var j,ue;const be=G.toLocaleLowerCase(),{close:ke,error:ct,leave:wt,join:ht}=Qe;if(A&&[ke,ct,wt,ht].indexOf(be)>=0&&A!==this._joinRef())return;let Hn=this._onMessage(be,b,A);if(b&&!Hn)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(be)?null===(j=this.bindings.postgres_changes)||void 0===j||j.filter(mr=>{var br,Mi,Br;return"*"===(null===(br=mr.filter)||void 0===br?void 0:br.event)||(null===(Br=null===(Mi=mr.filter)||void 0===Mi?void 0:Mi.event)||void 0===Br?void 0:Br.toLocaleLowerCase())===be}).map(mr=>mr.callback(Hn,A)):null===(ue=this.bindings[be])||void 0===ue||ue.filter(mr=>{var br,Mi,Br,jo,Oo,K;if(["broadcast","presence","postgres_changes"].includes(be)){if("id"in mr){const O=mr.id,ce=null===(br=mr.filter)||void 0===br?void 0:br.event;return O&&(null===(Mi=b.ids)||void 0===Mi?void 0:Mi.includes(O))&&("*"===ce||(null==ce?void 0:ce.toLocaleLowerCase())===(null===(Br=b.data)||void 0===Br?void 0:Br.type.toLocaleLowerCase()))}{const O=null===(Oo=null===(jo=null==mr?void 0:mr.filter)||void 0===jo?void 0:jo.event)||void 0===Oo?void 0:Oo.toLocaleLowerCase();return"*"===O||O===(null===(K=null==b?void 0:b.event)||void 0===K?void 0:K.toLocaleLowerCase())}}return mr.type.toLocaleLowerCase()===be}).map(mr=>{if("object"==typeof Hn&&"ids"in Hn){const br=Hn.data,{schema:Mi,table:Br,commit_timestamp:jo,type:Oo,errors:K}=br;Hn=Object.assign(Object.assign({},{schema:Mi,table:Br,commit_timestamp:jo,eventType:Oo,new:{},old:{},errors:K}),this._getPayloadRecords(br))}mr.callback(Hn,A)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(G){return`chan_reply_${G}`}_on(G,b,A){const j=G.toLocaleLowerCase(),ue={type:j,filter:b,callback:A};return this.bindings[j]?this.bindings[j].push(ue):this.bindings[j]=[ue],this}_off(G,b){const A=G.toLocaleLowerCase();return this.bindings[A]=this.bindings[A].filter(j=>{var ue;return!((null===(ue=j.type)||void 0===ue?void 0:ue.toLocaleLowerCase())===A&&kt.isEqual(j.filter,b))}),this}static isEqual(G,b){if(Object.keys(G).length!==Object.keys(b).length)return!1;for(const A in G)if(G[A]!==b[A])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(G){this._on(Qe.close,{},G)}_onError(G){this._on(Qe.error,{},b=>G(b))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(G=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(G))}_getPayloadRecords(G){const b={new:{},old:{}};return("INSERT"===G.type||"UPDATE"===G.type)&&(b.new=nn(G.columns,G.record)),("UPDATE"===G.type||"DELETE"===G.type)&&(b.old=nn(G.columns,G.old_record)),b}}const Mn=()=>{},en=typeof WebSocket<"u";class bn{constructor(G,b){var j,A=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=lt,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mn,this.conn=null,this.sendBuffer=[],this.serializer=new Se,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=be=>{let ke;return ke=be||(typeof fetch>"u"?(...ct)=>Promise.resolve().then(x.bind(x,5286)).then(({default:wt})=>wt(...ct)):fetch),(...ct)=>ke(...ct)},this.endPoint=`${G}/${rt.websocket}`,this.httpEndpoint=Be(G),this.transport=null!=b&&b.transport?b.transport:null,null!=b&&b.params&&(this.params=b.params),null!=b&&b.headers&&(this.headers=Object.assign(Object.assign({},this.headers),b.headers)),null!=b&&b.timeout&&(this.timeout=b.timeout),null!=b&&b.logger&&(this.logger=b.logger),null!=b&&b.heartbeatIntervalMs&&(this.heartbeatIntervalMs=b.heartbeatIntervalMs);const ue=null===(j=null==b?void 0:b.params)||void 0===j?void 0:j.apikey;ue&&(this.accessToken=ue,this.apiKey=ue),this.reconnectAfterMs=null!=b&&b.reconnectAfterMs?b.reconnectAfterMs:be=>[1e3,2e3,5e3,1e4][be-1]||1e4,this.encode=null!=b&&b.encode?b.encode:(be,ke)=>ke(JSON.stringify(be)),this.decode=null!=b&&b.decode?b.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gt((0,c.A)(function*(){A.disconnect(),A.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==b?void 0:b.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(en)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new Qt(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),x.e(3806).then(x.t.bind(x,3806,23)).then(({default:G})=>{this.conn=new G(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(G,b){this.conn&&(this.conn.onclose=function(){},G?this.conn.close(G,null!=b?b:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(G){var b=this;return(0,c.A)(function*(){const A=yield G.unsubscribe();return 0===b.channels.length&&b.disconnect(),A})()}removeAllChannels(){var G=this;return(0,c.A)(function*(){const b=yield Promise.all(G.channels.map(A=>A.unsubscribe()));return G.disconnect(),b})()}log(G,b,A){this.logger(G,b,A)}connectionState(){switch(this.conn&&this.conn.readyState){case Te.connecting:return Ft.Connecting;case Te.open:return Ft.Open;case Te.closing:return Ft.Closing;default:return Ft.Closed}}isConnected(){return this.connectionState()===Ft.Open}channel(G,b={config:{}}){const A=new kt(`realtime:${G}`,b,this);return this.channels.push(A),A}push(G){const{topic:b,event:A,payload:j,ref:ue}=G,be=()=>{this.encode(G,ke=>{var ct;null===(ct=this.conn)||void 0===ct||ct.send(ke)})};this.log("push",`${b} ${A} (${ue})`,j),this.isConnected()?be():this.sendBuffer.push(be)}setAuth(G){this.accessToken=G,this.channels.forEach(b=>{G&&b.updateJoinPayload({access_token:G}),b.joinedOnce&&b._isJoined()&&b._push(Qe.access_token,{access_token:G})})}_makeRef(){let G=this.ref+1;return this.ref=G===this.ref?0:G,this.ref.toString()}_leaveOpenTopic(G){let b=this.channels.find(A=>A.topic===G&&(A._isJoined()||A._isJoining()));b&&(this.log("transport",`leaving duplicate topic "${G}"`),b.unsubscribe())}_remove(G){this.channels=this.channels.filter(b=>b._joinRef()!==G._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=G=>this._onConnError(G),this.conn.onmessage=G=>this._onConnMessage(G),this.conn.onclose=G=>this._onConnClose(G))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(G){this.decode(G.data,b=>{let{topic:A,event:j,payload:ue,ref:be}=b;(be&&be===this.pendingHeartbeatRef||j===(null==ue?void 0:ue.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${ue.status||""} ${A} ${j} ${be&&"("+be+")"||""}`,ue),this.channels.filter(ke=>ke._isMember(A)).forEach(ke=>ke._trigger(j,ue,be)),this.stateChangeCallbacks.message.forEach(ke=>ke(b))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(G=>G())}_onConnClose(G){this.log("transport","close",G),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(b=>b(G))}_onConnError(G){this.log("transport",G.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(b=>b(G))}_triggerChanError(){this.channels.forEach(G=>G._trigger(Qe.error))}_appendParams(G,b){if(0===Object.keys(b).length)return G;const A=G.match(/\?/)?"&":"?";return`${G}${A}${new URLSearchParams(b)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(G=>G()),this.sendBuffer=[])}_sendHeartbeat(){var G;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(G=this.conn)||void 0===G||G.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Qt{constructor(G,b,A){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Te.connecting,this.send=()=>{},this.url=null,this.url=G,this.close=A.close}}class Dt extends Error{constructor(G){super(G),this.__isStorageError=!0,this.name="StorageError"}}function vn(ae){return"object"==typeof ae&&null!==ae&&"__isStorageError"in ae}class it extends Dt{constructor(G,b){super(G),this.name="StorageApiError",this.status=b}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Oe extends Dt{constructor(G,b){super(G),this.name="StorageUnknownError",this.originalError=b}}const cn=ae=>{let G;return G=ae||(typeof fetch>"u"?(...b)=>Promise.resolve().then(x.bind(x,5286)).then(({default:A})=>A(...b)):fetch),(...b)=>G(...b)},or=ae=>{if(Array.isArray(ae))return ae.map(b=>or(b));if("function"==typeof ae||ae!==Object(ae))return ae;const G={};return Object.entries(ae).forEach(([b,A])=>{const j=b.replace(/([-_][a-z])/gi,ue=>ue.toUpperCase().replace(/[-_]/g,""));G[j]=or(A)}),G};var ir=function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})};const Un=ae=>ae.msg||ae.message||ae.error_description||ae.error||JSON.stringify(ae),zn=(ae,G,b)=>ir(void 0,void 0,void 0,function*(){const A=yield function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(x.bind(x,5286))).Response:Response});ae instanceof A&&(null==b||!b.noResolveJson)?ae.json().then(j=>{G(new it(Un(j),ae.status||500))}).catch(j=>{G(new Oe(Un(j),j))}):G(new Oe(Un(ae),ae))}),Er=(ae,G,b,A)=>{const j={method:ae,headers:(null==G?void 0:G.headers)||{}};return"GET"===ae?j:(j.headers=Object.assign({"Content-Type":"application/json"},null==G?void 0:G.headers),A&&(j.body=JSON.stringify(A)),Object.assign(Object.assign({},j),b))};function _r(ae,G,b,A,j,ue){return ir(this,void 0,void 0,function*(){return new Promise((be,ke)=>{ae(b,Er(G,A,j,ue)).then(ct=>{if(!ct.ok)throw ct;return null!=A&&A.noResolveJson?ct:ct.json()}).then(ct=>be(ct)).catch(ct=>zn(ct,ke,A))})})}function cr(ae,G,b,A){return ir(this,void 0,void 0,function*(){return _r(ae,"GET",G,b,A)})}function sr(ae,G,b,A,j){return ir(this,void 0,void 0,function*(){return _r(ae,"POST",G,A,j,b)})}function Kr(ae,G,b,A,j){return ir(this,void 0,void 0,function*(){return _r(ae,"PUT",G,A,j,b)})}function jn(ae,G,b,A,j){return ir(this,void 0,void 0,function*(){return _r(ae,"DELETE",G,A,j,b)})}var Mr=function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})};const Jn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class On{constructor(G,b={},A,j){this.url=G,this.headers=b,this.bucketId=A,this.fetch=cn(j)}uploadOrUpdate(G,b,A,j){return Mr(this,void 0,void 0,function*(){try{let ue;const be=Object.assign(Object.assign({},Tr),j);let ke=Object.assign(Object.assign({},this.headers),"POST"===G&&{"x-upsert":String(be.upsert)});const ct=be.metadata;typeof Blob<"u"&&A instanceof Blob?(ue=new FormData,ue.append("cacheControl",be.cacheControl),ue.append("",A),ct&&ue.append("metadata",this.encodeMetadata(ct))):typeof FormData<"u"&&A instanceof FormData?(ue=A,ue.append("cacheControl",be.cacheControl),ct&&ue.append("metadata",this.encodeMetadata(ct))):(ue=A,ke["cache-control"]=`max-age=${be.cacheControl}`,ke["content-type"]=be.contentType,ct&&(ke["x-metadata"]=this.toBase64(this.encodeMetadata(ct)))),null!=j&&j.headers&&(ke=Object.assign(Object.assign({},ke),j.headers));const wt=this._removeEmptyFolders(b),ht=this._getFinalPath(wt),Dn=yield this.fetch(`${this.url}/object/${ht}`,Object.assign({method:G,body:ue,headers:ke},null!=be&&be.duplex?{duplex:be.duplex}:{})),Hn=yield Dn.json();return Dn.ok?{data:{path:wt,id:Hn.Id,fullPath:Hn.Key},error:null}:{data:null,error:Hn}}catch(ue){if(vn(ue))return{data:null,error:ue};throw ue}})}upload(G,b,A){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",G,b,A)})}uploadToSignedUrl(G,b,A,j){return Mr(this,void 0,void 0,function*(){const ue=this._removeEmptyFolders(G),be=this._getFinalPath(ue),ke=new URL(this.url+`/object/upload/sign/${be}`);ke.searchParams.set("token",b);try{let ct;const wt=Object.assign({upsert:Tr.upsert},j),ht=Object.assign(Object.assign({},this.headers),{"x-upsert":String(wt.upsert)});typeof Blob<"u"&&A instanceof Blob?(ct=new FormData,ct.append("cacheControl",wt.cacheControl),ct.append("",A)):typeof FormData<"u"&&A instanceof FormData?(ct=A,ct.append("cacheControl",wt.cacheControl)):(ct=A,ht["cache-control"]=`max-age=${wt.cacheControl}`,ht["content-type"]=wt.contentType);const Dn=yield this.fetch(ke.toString(),{method:"PUT",body:ct,headers:ht}),Hn=yield Dn.json();return Dn.ok?{data:{path:ue,fullPath:Hn.Key},error:null}:{data:null,error:Hn}}catch(ct){if(vn(ct))return{data:null,error:ct};throw ct}})}createSignedUploadUrl(G,b){return Mr(this,void 0,void 0,function*(){try{let A=this._getFinalPath(G);const j=Object.assign({},this.headers);null!=b&&b.upsert&&(j["x-upsert"]="true");const ue=yield sr(this.fetch,`${this.url}/object/upload/sign/${A}`,{},{headers:j}),be=new URL(this.url+ue.url),ke=be.searchParams.get("token");if(!ke)throw new Dt("No token returned by API");return{data:{signedUrl:be.toString(),path:G,token:ke},error:null}}catch(A){if(vn(A))return{data:null,error:A};throw A}})}update(G,b,A){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",G,b,A)})}move(G,b,A){return Mr(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:G,destinationKey:b,destinationBucket:null==A?void 0:A.destinationBucket},{headers:this.headers}),error:null}}catch(j){if(vn(j))return{data:null,error:j};throw j}})}copy(G,b,A){return Mr(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:G,destinationKey:b,destinationBucket:null==A?void 0:A.destinationBucket},{headers:this.headers})).Key},error:null}}catch(j){if(vn(j))return{data:null,error:j};throw j}})}createSignedUrl(G,b,A){return Mr(this,void 0,void 0,function*(){try{let j=this._getFinalPath(G),ue=yield sr(this.fetch,`${this.url}/object/sign/${j}`,Object.assign({expiresIn:b},null!=A&&A.transform?{transform:A.transform}:{}),{headers:this.headers});const be=null!=A&&A.download?`&download=${!0===A.download?"":A.download}`:"";return ue={signedUrl:encodeURI(`${this.url}${ue.signedURL}${be}`)},{data:ue,error:null}}catch(j){if(vn(j))return{data:null,error:j};throw j}})}createSignedUrls(G,b,A){return Mr(this,void 0,void 0,function*(){try{const j=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:b,paths:G},{headers:this.headers}),ue=null!=A&&A.download?`&download=${!0===A.download?"":A.download}`:"";return{data:j.map(be=>Object.assign(Object.assign({},be),{signedUrl:be.signedURL?encodeURI(`${this.url}${be.signedURL}${ue}`):null})),error:null}}catch(j){if(vn(j))return{data:null,error:j};throw j}})}download(G,b){return Mr(this,void 0,void 0,function*(){const j=typeof(null==b?void 0:b.transform)<"u"?"render/image/authenticated":"object",ue=this.transformOptsToQueryString((null==b?void 0:b.transform)||{}),be=ue?`?${ue}`:"";try{const ke=this._getFinalPath(G);return{data:yield(yield cr(this.fetch,`${this.url}/${j}/${ke}${be}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(ke){if(vn(ke))return{data:null,error:ke};throw ke}})}info(G){return Mr(this,void 0,void 0,function*(){const b=this._getFinalPath(G);try{const A=yield cr(this.fetch,`${this.url}/object/info/${b}`,{headers:this.headers});return{data:or(A),error:null}}catch(A){if(vn(A))return{data:null,error:A};throw A}})}exists(G){return Mr(this,void 0,void 0,function*(){const b=this._getFinalPath(G);try{return yield function hi(ae,G,b,A){return ir(this,void 0,void 0,function*(){return _r(ae,"HEAD",G,Object.assign(Object.assign({},b),{noResolveJson:!0}),A)})}(this.fetch,`${this.url}/object/${b}`,{headers:this.headers}),{data:!0,error:null}}catch(A){if(vn(A)&&A instanceof Oe){const j=A.originalError;if([400,404].includes(null==j?void 0:j.status))return{data:!1,error:A}}throw A}})}getPublicUrl(G,b){const A=this._getFinalPath(G),j=[],ue=null!=b&&b.download?`download=${!0===b.download?"":b.download}`:"";""!==ue&&j.push(ue);const ke=typeof(null==b?void 0:b.transform)<"u"?"render/image":"object",ct=this.transformOptsToQueryString((null==b?void 0:b.transform)||{});""!==ct&&j.push(ct);let wt=j.join("&");return""!==wt&&(wt=`?${wt}`),{data:{publicUrl:encodeURI(`${this.url}/${ke}/public/${A}${wt}`)}}}remove(G){return Mr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:G},{headers:this.headers}),error:null}}catch(b){if(vn(b))return{data:null,error:b};throw b}})}list(G,b,A){return Mr(this,void 0,void 0,function*(){try{const j=Object.assign(Object.assign(Object.assign({},Jn),b),{prefix:G||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,j,{headers:this.headers},A),error:null}}catch(j){if(vn(j))return{data:null,error:j};throw j}})}encodeMetadata(G){return JSON.stringify(G)}toBase64(G){return typeof Buffer<"u"?Buffer.from(G).toString("base64"):btoa(G)}_getFinalPath(G){return`${this.bucketId}/${G}`}_removeEmptyFolders(G){return G.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(G){const b=[];return G.width&&b.push(`width=${G.width}`),G.height&&b.push(`height=${G.height}`),G.resize&&b.push(`resize=${G.resize}`),G.format&&b.push(`format=${G.format}`),G.quality&&b.push(`quality=${G.quality}`),b.join("&")}}const Qn={"X-Client-Info":"storage-js/2.7.0"};var lr=function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})};class Ar{constructor(G,b={},A){this.url=G,this.headers=Object.assign(Object.assign({},Qn),b),this.fetch=cn(A)}listBuckets(){return lr(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(G){if(vn(G))return{data:null,error:G};throw G}})}getBucket(G){return lr(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${G}`,{headers:this.headers}),error:null}}catch(b){if(vn(b))return{data:null,error:b};throw b}})}createBucket(G,b={public:!1}){return lr(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:G,name:G,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:this.headers}),error:null}}catch(A){if(vn(A))return{data:null,error:A};throw A}})}updateBucket(G,b){return lr(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${G}`,{id:G,name:G,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:this.headers}),error:null}}catch(A){if(vn(A))return{data:null,error:A};throw A}})}emptyBucket(G){return lr(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${G}/empty`,{},{headers:this.headers}),error:null}}catch(b){if(vn(b))return{data:null,error:b};throw b}})}deleteBucket(G){return lr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${G}`,{},{headers:this.headers}),error:null}}catch(b){if(vn(b))return{data:null,error:b};throw b}})}}class Cn extends Ar{constructor(G,b={},A){super(G,b,A)}from(G){return new On(this.url,this.headers,G,this.fetch)}}let Ct="";Ct=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const _t={headers:{"X-Client-Info":`supabase-js-${Ct}/2.45.4`}},Et={schema:"public"},_n={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oe={};var Q=x(5286);const ln=(ae,G,b)=>{const A=(ae=>{let G;return G=ae||(typeof fetch>"u"?Q.default:fetch),(...b)=>G(...b)})(b),j=typeof Headers>"u"?Q.Headers:Headers;return(ue,be)=>function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})}(void 0,void 0,void 0,function*(){var ke;const ct=null!==(ke=yield G())&&void 0!==ke?ke:ae;let wt=new j(null==be?void 0:be.headers);return wt.has("apikey")||wt.set("apikey",ae),wt.has("Authorization")||wt.set("Authorization",`Bearer ${ct}`),A(ue,Object.assign(Object.assign({},be),{headers:wt}))})};const Vi="X-Supabase-Api-Version",eo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q=()=>typeof document<"u",Re={tested:!1,writable:!1},ne=()=>{if(!q())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Re.tested)return Re.writable;const ae=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(ae,ae),globalThis.localStorage.removeItem(ae),Re.tested=!0,Re.writable=!0}catch{Re.tested=!0,Re.writable=!1}return Re.writable};function se(ae){const G={},b=new URL(ae);if(b.hash&&"#"===b.hash[0])try{new URLSearchParams(b.hash.substring(1)).forEach((j,ue)=>{G[ue]=j})}catch{}return b.searchParams.forEach((A,j)=>{G[j]=A}),G}const xe=ae=>{let G;return G=ae||(typeof fetch>"u"?(...b)=>Promise.resolve().then(x.bind(x,5286)).then(({default:A})=>A(...b)):fetch),(...b)=>G(...b)},Nt=ae=>"object"==typeof ae&&null!==ae&&"status"in ae&&"ok"in ae&&"json"in ae&&"function"==typeof ae.json,on=function(){var ae=(0,c.A)(function*(G,b,A){yield G.setItem(b,JSON.stringify(A))});return function(b,A,j){return ae.apply(this,arguments)}}(),yn=function(){var ae=(0,c.A)(function*(G,b){const A=yield G.getItem(b);if(!A)return null;try{return JSON.parse(A)}catch{return A}});return function(b,A){return ae.apply(this,arguments)}}(),he=function(){var ae=(0,c.A)(function*(G,b){yield G.removeItem(b)});return function(b,A){return ae.apply(this,arguments)}}();class pt{constructor(){this.promise=new pt.promiseConstructor((G,b)=>{this.resolve=G,this.reject=b})}}function St(ae){const b=ae.split(".");if(3!==b.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(b[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function $e(ae){const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A,j,ue,be,ke,ct,wt,b="",ht=0;for(ae=ae.replace("-","+").replace("_","/");ht<ae.length;)be=G.indexOf(ae.charAt(ht++)),ke=G.indexOf(ae.charAt(ht++)),ct=G.indexOf(ae.charAt(ht++)),wt=G.indexOf(ae.charAt(ht++)),A=be<<2|ke>>4,j=(15&ke)<<4|ct>>2,ue=(3&ct)<<6|wt,b+=String.fromCharCode(A),64!=ct&&0!=j&&(b+=String.fromCharCode(j)),64!=wt&&0!=ue&&(b+=String.fromCharCode(ue));return b}(b[1]))}function In(){return(In=(0,c.A)(function*(ae){return yield new Promise(G=>{setTimeout(()=>G(null),ae)})})).apply(this,arguments)}function Gn(ae){return("0"+ae.toString(16)).substr(-2)}function Vr(){return(Vr=(0,c.A)(function*(ae){const b=(new TextEncoder).encode(ae),A=yield crypto.subtle.digest("SHA-256",b),j=new Uint8Array(A);return Array.from(j).map(ue=>String.fromCharCode(ue)).join("")})).apply(this,arguments)}function bi(){return bi=(0,c.A)(function*(ae){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),ae;const b=yield function ar(ae){return Vr.apply(this,arguments)}(ae);return function Ai(ae){return btoa(ae).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(b)}),bi.apply(this,arguments)}function Zr(ae,G){return _i.apply(this,arguments)}function _i(){return _i=(0,c.A)(function*(ae,G,b=!1){const A=function fr(){const G=new Uint32Array(56);if(typeof crypto>"u"){const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",A=b.length;let j="";for(let ue=0;ue<56;ue++)j+=b.charAt(Math.floor(Math.random()*A));return j}return crypto.getRandomValues(G),Array.from(G,Gn).join("")}();let j=A;b&&(j+="/PASSWORD_RECOVERY"),yield on(ae,`${G}-code-verifier`,j);const ue=yield function Fi(ae){return bi.apply(this,arguments)}(A);return[ue,A===ue?"plain":"s256"]}),_i.apply(this,arguments)}pt.promiseConstructor=Promise;const Hr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class Ci extends Error{constructor(G,b,A){super(G),this.__isAuthError=!0,this.name="AuthError",this.status=b,this.code=A}}function Zn(ae){return"object"==typeof ae&&null!==ae&&"__isAuthError"in ae}class wi extends Ci{constructor(G,b,A){super(G,b,A),this.name="AuthApiError",this.status=b,this.code=A}}class wr extends Ci{constructor(G,b){super(G),this.name="AuthUnknownError",this.originalError=b}}class vo extends Ci{constructor(G,b,A,j){super(G,A,j),this.name=b,this.status=A}}class uo extends vo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Di extends vo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _o extends vo{constructor(G){super(G,"AuthInvalidCredentialsError",400,void 0)}}class Qi extends vo{constructor(G,b=null){super(G,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kr extends vo{constructor(G,b=null){super(G,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mo extends vo{constructor(G,b){super(G,"AuthRetryableFetchError",b,void 0)}}function ii(ae){return Zn(ae)&&"AuthRetryableFetchError"===ae.name}class Ui extends vo{constructor(G,b,A){super(G,"AuthWeakPasswordError",b,"weak_password"),this.reasons=A}}const Co=ae=>ae.msg||ae.message||ae.error_description||ae.error||JSON.stringify(ae),yo=[502,503,504];function ci(ae){return M.apply(this,arguments)}function M(){return(M=(0,c.A)(function*(ae){var G;if(!Nt(ae))throw new Mo(Co(ae),0);if(yo.includes(ae.status))throw new Mo(Co(ae),ae.status);let b,A;try{b=yield ae.json()}catch(ue){throw new wr(Co(ue),ue)}const j=function zr(ae){const G=ae.headers.get(Vi);if(!G||!G.match(Hr))return null;try{return new Date(`${G}T00:00:00.0Z`)}catch{return null}}(ae);if(j&&j.getTime()>=eo["2024-01-01"].timestamp&&"object"==typeof b&&b&&"string"==typeof b.code?A=b.code:"object"==typeof b&&b&&"string"==typeof b.error_code&&(A=b.error_code),A){if("weak_password"===A)throw new Ui(Co(b),ae.status,(null===(G=b.weak_password)||void 0===G?void 0:G.reasons)||[]);if("session_not_found"===A)throw new uo}else if("object"==typeof b&&b&&"object"==typeof b.weak_password&&b.weak_password&&Array.isArray(b.weak_password.reasons)&&b.weak_password.reasons.length&&b.weak_password.reasons.reduce((ue,be)=>ue&&"string"==typeof be,!0))throw new Ui(Co(b),ae.status,b.weak_password.reasons);throw new wi(Co(b),ae.status||500,A)})).apply(this,arguments)}const Z=(ae,G,b,A)=>{const j={method:ae,headers:(null==G?void 0:G.headers)||{}};return"GET"===ae?j:(j.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==G?void 0:G.headers),j.body=JSON.stringify(A),Object.assign(Object.assign({},j),b))};function fe(ae,G,b,A){return N.apply(this,arguments)}function N(){return N=(0,c.A)(function*(ae,G,b,A){var j;const ue=Object.assign({},null==A?void 0:A.headers);ue[Vi]||(ue[Vi]=eo["2024-01-01"].name),null!=A&&A.jwt&&(ue.Authorization=`Bearer ${A.jwt}`);const be=null!==(j=null==A?void 0:A.query)&&void 0!==j?j:{};null!=A&&A.redirectTo&&(be.redirect_to=A.redirectTo);const ke=Object.keys(be).length?"?"+new URLSearchParams(be).toString():"",ct=yield function T(ae,G,b,A,j,ue){return V.apply(this,arguments)}(ae,G,b+ke,{headers:ue,noResolveJson:null==A?void 0:A.noResolveJson},{},null==A?void 0:A.body);return null!=A&&A.xform?null==A?void 0:A.xform(ct):{data:Object.assign({},ct),error:null}}),N.apply(this,arguments)}function V(){return(V=(0,c.A)(function*(ae,G,b,A,j,ue){const be=Z(G,A,j,ue);let ke;try{ke=yield ae(b,Object.assign({},be))}catch(ct){throw console.error(ct),new Mo(Co(ct),0)}if(ke.ok||(yield ci(ke)),null!=A&&A.noResolveJson)return ke;try{return yield ke.json()}catch(ct){yield ci(ct)}})).apply(this,arguments)}function Ve(ae){var G;let b=null;return function sn(ae){return ae.access_token&&ae.refresh_token&&ae.expires_in}(ae)&&(b=Object.assign({},ae),ae.expires_at||(b.expires_at=function xr(ae){return Math.round(Date.now()/1e3)+ae}(ae.expires_in))),{data:{session:b,user:null!==(G=ae.user)&&void 0!==G?G:ae},error:null}}function Ye(ae){const G=Ve(ae);return!G.error&&ae.weak_password&&"object"==typeof ae.weak_password&&Array.isArray(ae.weak_password.reasons)&&ae.weak_password.reasons.length&&ae.weak_password.message&&"string"==typeof ae.weak_password.message&&ae.weak_password.reasons.reduce((b,A)=>b&&"string"==typeof A,!0)&&(G.data.weak_password=ae.weak_password),G}function bt(ae){var G;return{data:{user:null!==(G=ae.user)&&void 0!==G?G:ae},error:null}}function It(ae){return{data:ae,error:null}}function dn(ae){const{action_link:G,email_otp:b,hashed_token:A,redirect_to:j,verification_type:ue}=ae,be=function(ae,G){var b={};for(var A in ae)Object.prototype.hasOwnProperty.call(ae,A)&&G.indexOf(A)<0&&(b[A]=ae[A]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var j=0;for(A=Object.getOwnPropertySymbols(ae);j<A.length;j++)G.indexOf(A[j])<0&&Object.prototype.propertyIsEnumerable.call(ae,A[j])&&(b[A[j]]=ae[A[j]])}return b}(ae,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:G,email_otp:b,hashed_token:A,redirect_to:j,verification_type:ue},user:Object.assign({},be)},error:null}}function Ut(ae){return ae}class $n{constructor({url:G="",headers:b={},fetch:A}){this.url=G,this.headers=b,this.fetch=xe(A),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(G,b="global"){var A=this;return(0,c.A)(function*(){try{return yield fe(A.fetch,"POST",`${A.url}/logout?scope=${b}`,{headers:A.headers,jwt:G,noResolveJson:!0}),{data:null,error:null}}catch(j){if(Zn(j))return{data:null,error:j};throw j}})()}inviteUserByEmail(G,b={}){var A=this;return(0,c.A)(function*(){try{return yield fe(A.fetch,"POST",`${A.url}/invite`,{body:{email:G,data:b.data},headers:A.headers,redirectTo:b.redirectTo,xform:bt})}catch(j){if(Zn(j))return{data:{user:null},error:j};throw j}})()}generateLink(G){var b=this;return(0,c.A)(function*(){try{const{options:A}=G,j=function(ae,G){var b={};for(var A in ae)Object.prototype.hasOwnProperty.call(ae,A)&&G.indexOf(A)<0&&(b[A]=ae[A]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var j=0;for(A=Object.getOwnPropertySymbols(ae);j<A.length;j++)G.indexOf(A[j])<0&&Object.prototype.propertyIsEnumerable.call(ae,A[j])&&(b[A[j]]=ae[A[j]])}return b}(G,["options"]),ue=Object.assign(Object.assign({},j),A);return"newEmail"in j&&(ue.new_email=null==j?void 0:j.newEmail,delete ue.newEmail),yield fe(b.fetch,"POST",`${b.url}/admin/generate_link`,{body:ue,headers:b.headers,xform:dn,redirectTo:null==A?void 0:A.redirectTo})}catch(A){if(Zn(A))return{data:{properties:null,user:null},error:A};throw A}})()}createUser(G){var b=this;return(0,c.A)(function*(){try{return yield fe(b.fetch,"POST",`${b.url}/admin/users`,{body:G,headers:b.headers,xform:bt})}catch(A){if(Zn(A))return{data:{user:null},error:A};throw A}})()}listUsers(G){var b=this;return(0,c.A)(function*(){var A,j,ue,be,ke,ct,wt;try{const ht={nextPage:null,lastPage:0,total:0},Dn=yield fe(b.fetch,"GET",`${b.url}/admin/users`,{headers:b.headers,noResolveJson:!0,query:{page:null!==(j=null===(A=null==G?void 0:G.page)||void 0===A?void 0:A.toString())&&void 0!==j?j:"",per_page:null!==(be=null===(ue=null==G?void 0:G.perPage)||void 0===ue?void 0:ue.toString())&&void 0!==be?be:""},xform:Ut});if(Dn.error)throw Dn.error;const Hn=yield Dn.json(),mr=null!==(ke=Dn.headers.get("x-total-count"))&&void 0!==ke?ke:0,br=null!==(wt=null===(ct=Dn.headers.get("link"))||void 0===ct?void 0:ct.split(","))&&void 0!==wt?wt:[];return br.length>0&&(br.forEach(Mi=>{const Br=parseInt(Mi.split(";")[0].split("=")[1].substring(0,1)),jo=JSON.parse(Mi.split(";")[1].split("=")[1]);ht[`${jo}Page`]=Br}),ht.total=parseInt(mr)),{data:Object.assign(Object.assign({},Hn),ht),error:null}}catch(ht){if(Zn(ht))return{data:{users:[]},error:ht};throw ht}})()}getUserById(G){var b=this;return(0,c.A)(function*(){try{return yield fe(b.fetch,"GET",`${b.url}/admin/users/${G}`,{headers:b.headers,xform:bt})}catch(A){if(Zn(A))return{data:{user:null},error:A};throw A}})()}updateUserById(G,b){var A=this;return(0,c.A)(function*(){try{return yield fe(A.fetch,"PUT",`${A.url}/admin/users/${G}`,{body:b,headers:A.headers,xform:bt})}catch(j){if(Zn(j))return{data:{user:null},error:j};throw j}})()}deleteUser(G,b=!1){var A=this;return(0,c.A)(function*(){try{return yield fe(A.fetch,"DELETE",`${A.url}/admin/users/${G}`,{headers:A.headers,body:{should_soft_delete:b},xform:bt})}catch(j){if(Zn(j))return{data:{user:null},error:j};throw j}})()}_listFactors(G){var b=this;return(0,c.A)(function*(){try{const{data:A,error:j}=yield fe(b.fetch,"GET",`${b.url}/admin/users/${G.userId}/factors`,{headers:b.headers,xform:ue=>({data:{factors:ue},error:null})});return{data:A,error:j}}catch(A){if(Zn(A))return{data:null,error:A};throw A}})()}_deleteFactor(G){var b=this;return(0,c.A)(function*(){try{return{data:yield fe(b.fetch,"DELETE",`${b.url}/admin/users/${G.userId}/factors/${G.id}`,{headers:b.headers}),error:null}}catch(A){if(Zn(A))return{data:null,error:A};throw A}})()}}const Xn={getItem:ae=>ne()?globalThis.localStorage.getItem(ae):null,setItem:(ae,G)=>{ne()&&globalThis.localStorage.setItem(ae,G)},removeItem:ae=>{ne()&&globalThis.localStorage.removeItem(ae)}};function er(ae={}){return{getItem:G=>ae[G]||null,setItem:(G,b)=>{ae[G]=b},removeItem:G=>{delete ae[G]}}}const Ur={debug:!!(globalThis&&ne()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class yi extends Error{constructor(G){super(G),this.isAcquireTimeout=!0}}class Ii extends yi{}function mi(ae,G,b){return gi.apply(this,arguments)}function gi(){return gi=(0,c.A)(function*(ae,G,b){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",ae,G);const A=new globalThis.AbortController;return G>0&&setTimeout(()=>{A.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",ae)},G),yield globalThis.navigator.locks.request(ae,0===G?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:A.signal},function(){var j=(0,c.A)(function*(ue){if(!ue){if(0===G)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",ae),new Ii(`Acquiring an exclusive Navigator LockManager lock "${ae}" immediately failed`);if(Ur.debug)try{const be=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(be,null,"  "))}catch(be){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",be)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield b()}Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",ae,ue.name);try{return yield b()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",ae,ue.name)}});return function(ue){return j.apply(this,arguments)}}())}),gi.apply(this,arguments)}!function ur(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const oo={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.65.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ji=3e4;function ho(ae,G,b){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.A)(function*(ae,G,b){return yield b()})).apply(this,arguments)}let rs=(()=>{class ae{constructor(b){var j,ue,A=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ae.nextInstanceID,ae.nextInstanceID+=1,this.instanceID>0&&q()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const be=Object.assign(Object.assign({},oo),b);if(this.logDebugMessages=!!be.debug,"function"==typeof be.debug&&(this.logger=be.debug),this.persistSession=be.persistSession,this.storageKey=be.storageKey,this.autoRefreshToken=be.autoRefreshToken,this.admin=new $n({url:be.url,headers:be.headers,fetch:be.fetch}),this.url=be.url,this.headers=be.headers,this.fetch=xe(be.fetch),this.lock=be.lock||ho,this.detectSessionInUrl=be.detectSessionInUrl,this.flowType=be.flowType,this.hasCustomAuthorizationHeader=be.hasCustomAuthorizationHeader,this.lock=be.lock?be.lock:q()&&null!==(j=null==globalThis?void 0:globalThis.navigator)&&void 0!==j&&j.locks?mi:ho,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?be.storage?this.storage=be.storage:ne()?this.storage=Xn:(this.memoryStorage={},this.storage=er(this.memoryStorage)):(this.memoryStorage={},this.storage=er(this.memoryStorage)),q()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(ke){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",ke)}null===(ue=this.broadcastChannel)||void 0===ue||ue.addEventListener("message",function(){var ke=(0,c.A)(function*(ct){A._debug("received broadcast notification from other tab or client",ct),yield A._notifyAllSubscribers(ct.data.event,ct.data.session,!1)});return function(ct){return ke.apply(this,arguments)}}())}this.initialize()}_debug(...b){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.65.0) ${(new Date).toISOString()}`,...b),this}initialize(){var b=this;return(0,c.A)(function*(){return b.initializePromise||(b.initializePromise=(0,c.A)(function*(){return yield b._acquireLock(-1,(0,c.A)(function*(){return yield b._initialize()}))})()),yield b.initializePromise})()}_initialize(){var b=this;return(0,c.A)(function*(){try{const A=!!q()&&(yield b._isPKCEFlow());if(b._debug("#_initialize()","begin","is PKCE flow",A),A||b.detectSessionInUrl&&b._isImplicitGrantFlow()){const{data:j,error:ue}=yield b._getSessionFromURL(A);if(ue)return b._debug("#_initialize()","error detecting session from URL",ue),"Identity is already linked"===(null==ue?void 0:ue.message)||"Identity is already linked to another user"===(null==ue?void 0:ue.message)||(yield b._removeSession()),{error:ue};const{session:be,redirectType:ke}=j;return b._debug("#_initialize()","detected session in URL",be,"redirect type",ke),yield b._saveSession(be),setTimeout((0,c.A)(function*(){"recovery"===ke?yield b._notifyAllSubscribers("PASSWORD_RECOVERY",be):yield b._notifyAllSubscribers("SIGNED_IN",be)}),0),{error:null}}return yield b._recoverAndRefresh(),{error:null}}catch(A){return Zn(A)?{error:A}:{error:new wr("Unexpected error during initialization",A)}}finally{yield b._handleVisibilityChange(),b._debug("#_initialize()","end")}})()}signInAnonymously(b){var A=this;return(0,c.A)(function*(){var j,ue,be;try{const ke=yield fe(A.fetch,"POST",`${A.url}/signup`,{headers:A.headers,body:{data:null!==(ue=null===(j=null==b?void 0:b.options)||void 0===j?void 0:j.data)&&void 0!==ue?ue:{},gotrue_meta_security:{captcha_token:null===(be=null==b?void 0:b.options)||void 0===be?void 0:be.captchaToken}},xform:Ve}),{data:ct,error:wt}=ke;if(wt||!ct)return{data:{user:null,session:null},error:wt};const ht=ct.session,Dn=ct.user;return ct.session&&(yield A._saveSession(ct.session),yield A._notifyAllSubscribers("SIGNED_IN",ht)),{data:{user:Dn,session:ht},error:null}}catch(ke){if(Zn(ke))return{data:{user:null,session:null},error:ke};throw ke}})()}signUp(b){var A=this;return(0,c.A)(function*(){var j,ue,be;try{let ke;if("email"in b){const{email:Hn,password:mr,options:br}=b;let Mi=null,Br=null;"pkce"===A.flowType&&([Mi,Br]=yield Zr(A.storage,A.storageKey)),ke=yield fe(A.fetch,"POST",`${A.url}/signup`,{headers:A.headers,redirectTo:null==br?void 0:br.emailRedirectTo,body:{email:Hn,password:mr,data:null!==(j=null==br?void 0:br.data)&&void 0!==j?j:{},gotrue_meta_security:{captcha_token:null==br?void 0:br.captchaToken},code_challenge:Mi,code_challenge_method:Br},xform:Ve})}else{if(!("phone"in b))throw new _o("You must provide either an email or phone number and a password");{const{phone:Hn,password:mr,options:br}=b;ke=yield fe(A.fetch,"POST",`${A.url}/signup`,{headers:A.headers,body:{phone:Hn,password:mr,data:null!==(ue=null==br?void 0:br.data)&&void 0!==ue?ue:{},channel:null!==(be=null==br?void 0:br.channel)&&void 0!==be?be:"sms",gotrue_meta_security:{captcha_token:null==br?void 0:br.captchaToken}},xform:Ve})}}const{data:ct,error:wt}=ke;if(wt||!ct)return{data:{user:null,session:null},error:wt};const ht=ct.session,Dn=ct.user;return ct.session&&(yield A._saveSession(ct.session),yield A._notifyAllSubscribers("SIGNED_IN",ht)),{data:{user:Dn,session:ht},error:null}}catch(ke){if(Zn(ke))return{data:{user:null,session:null},error:ke};throw ke}})()}signInWithPassword(b){var A=this;return(0,c.A)(function*(){try{let j;if("email"in b){const{email:ke,password:ct,options:wt}=b;j=yield fe(A.fetch,"POST",`${A.url}/token?grant_type=password`,{headers:A.headers,body:{email:ke,password:ct,gotrue_meta_security:{captcha_token:null==wt?void 0:wt.captchaToken}},xform:Ye})}else{if(!("phone"in b))throw new _o("You must provide either an email or phone number and a password");{const{phone:ke,password:ct,options:wt}=b;j=yield fe(A.fetch,"POST",`${A.url}/token?grant_type=password`,{headers:A.headers,body:{phone:ke,password:ct,gotrue_meta_security:{captcha_token:null==wt?void 0:wt.captchaToken}},xform:Ye})}}const{data:ue,error:be}=j;return be?{data:{user:null,session:null},error:be}:ue&&ue.session&&ue.user?(ue.session&&(yield A._saveSession(ue.session),yield A._notifyAllSubscribers("SIGNED_IN",ue.session)),{data:Object.assign({user:ue.user,session:ue.session},ue.weak_password?{weakPassword:ue.weak_password}:null),error:be}):{data:{user:null,session:null},error:new Di}}catch(j){if(Zn(j))return{data:{user:null,session:null},error:j};throw j}})()}signInWithOAuth(b){var A=this;return(0,c.A)(function*(){var j,ue,be,ke;return yield A._handleProviderSignIn(b.provider,{redirectTo:null===(j=b.options)||void 0===j?void 0:j.redirectTo,scopes:null===(ue=b.options)||void 0===ue?void 0:ue.scopes,queryParams:null===(be=b.options)||void 0===be?void 0:be.queryParams,skipBrowserRedirect:null===(ke=b.options)||void 0===ke?void 0:ke.skipBrowserRedirect})})()}exchangeCodeForSession(b){var A=this;return(0,c.A)(function*(){return yield A.initializePromise,A._acquireLock(-1,(0,c.A)(function*(){return A._exchangeCodeForSession(b)}))})()}_exchangeCodeForSession(b){var A=this;return(0,c.A)(function*(){const j=yield yn(A.storage,`${A.storageKey}-code-verifier`),[ue,be]=(null!=j?j:"").split("/");try{const{data:ke,error:ct}=yield fe(A.fetch,"POST",`${A.url}/token?grant_type=pkce`,{headers:A.headers,body:{auth_code:b,code_verifier:ue},xform:Ve});if(yield he(A.storage,`${A.storageKey}-code-verifier`),ct)throw ct;return ke&&ke.session&&ke.user?(ke.session&&(yield A._saveSession(ke.session),yield A._notifyAllSubscribers("SIGNED_IN",ke.session)),{data:Object.assign(Object.assign({},ke),{redirectType:null!=be?be:null}),error:ct}):{data:{user:null,session:null,redirectType:null},error:new Di}}catch(ke){if(Zn(ke))return{data:{user:null,session:null,redirectType:null},error:ke};throw ke}})()}signInWithIdToken(b){var A=this;return(0,c.A)(function*(){try{const{options:j,provider:ue,token:be,access_token:ke,nonce:ct}=b,wt=yield fe(A.fetch,"POST",`${A.url}/token?grant_type=id_token`,{headers:A.headers,body:{provider:ue,id_token:be,access_token:ke,nonce:ct,gotrue_meta_security:{captcha_token:null==j?void 0:j.captchaToken}},xform:Ve}),{data:ht,error:Dn}=wt;return Dn?{data:{user:null,session:null},error:Dn}:ht&&ht.session&&ht.user?(ht.session&&(yield A._saveSession(ht.session),yield A._notifyAllSubscribers("SIGNED_IN",ht.session)),{data:ht,error:Dn}):{data:{user:null,session:null},error:new Di}}catch(j){if(Zn(j))return{data:{user:null,session:null},error:j};throw j}})()}signInWithOtp(b){var A=this;return(0,c.A)(function*(){var j,ue,be,ke,ct;try{if("email"in b){const{email:wt,options:ht}=b;let Dn=null,Hn=null;"pkce"===A.flowType&&([Dn,Hn]=yield Zr(A.storage,A.storageKey));const{error:mr}=yield fe(A.fetch,"POST",`${A.url}/otp`,{headers:A.headers,body:{email:wt,data:null!==(j=null==ht?void 0:ht.data)&&void 0!==j?j:{},create_user:null===(ue=null==ht?void 0:ht.shouldCreateUser)||void 0===ue||ue,gotrue_meta_security:{captcha_token:null==ht?void 0:ht.captchaToken},code_challenge:Dn,code_challenge_method:Hn},redirectTo:null==ht?void 0:ht.emailRedirectTo});return{data:{user:null,session:null},error:mr}}if("phone"in b){const{phone:wt,options:ht}=b,{data:Dn,error:Hn}=yield fe(A.fetch,"POST",`${A.url}/otp`,{headers:A.headers,body:{phone:wt,data:null!==(be=null==ht?void 0:ht.data)&&void 0!==be?be:{},create_user:null===(ke=null==ht?void 0:ht.shouldCreateUser)||void 0===ke||ke,gotrue_meta_security:{captcha_token:null==ht?void 0:ht.captchaToken},channel:null!==(ct=null==ht?void 0:ht.channel)&&void 0!==ct?ct:"sms"}});return{data:{user:null,session:null,messageId:null==Dn?void 0:Dn.message_id},error:Hn}}throw new _o("You must provide either an email or phone number.")}catch(wt){if(Zn(wt))return{data:{user:null,session:null},error:wt};throw wt}})()}verifyOtp(b){var A=this;return(0,c.A)(function*(){var j,ue;try{let be,ke;"options"in b&&(be=null===(j=b.options)||void 0===j?void 0:j.redirectTo,ke=null===(ue=b.options)||void 0===ue?void 0:ue.captchaToken);const{data:ct,error:wt}=yield fe(A.fetch,"POST",`${A.url}/verify`,{headers:A.headers,body:Object.assign(Object.assign({},b),{gotrue_meta_security:{captcha_token:ke}}),redirectTo:be,xform:Ve});if(wt)throw wt;if(!ct)throw new Error("An error occurred on token verification.");const ht=ct.session,Dn=ct.user;return null!=ht&&ht.access_token&&(yield A._saveSession(ht),yield A._notifyAllSubscribers("recovery"==b.type?"PASSWORD_RECOVERY":"SIGNED_IN",ht)),{data:{user:Dn,session:ht},error:null}}catch(be){if(Zn(be))return{data:{user:null,session:null},error:be};throw be}})()}signInWithSSO(b){var A=this;return(0,c.A)(function*(){var j,ue,be;try{let ke=null,ct=null;return"pkce"===A.flowType&&([ke,ct]=yield Zr(A.storage,A.storageKey)),yield fe(A.fetch,"POST",`${A.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in b?{provider_id:b.providerId}:null),"domain"in b?{domain:b.domain}:null),{redirect_to:null!==(ue=null===(j=b.options)||void 0===j?void 0:j.redirectTo)&&void 0!==ue?ue:void 0}),null!==(be=null==b?void 0:b.options)&&void 0!==be&&be.captchaToken?{gotrue_meta_security:{captcha_token:b.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:ke,code_challenge_method:ct}),headers:A.headers,xform:It})}catch(ke){if(Zn(ke))return{data:null,error:ke};throw ke}})()}reauthenticate(){var b=this;return(0,c.A)(function*(){return yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){return yield b._reauthenticate()}))})()}_reauthenticate(){var b=this;return(0,c.A)(function*(){try{return yield b._useSession(function(){var A=(0,c.A)(function*(j){const{data:{session:ue},error:be}=j;if(be)throw be;if(!ue)throw new uo;const{error:ke}=yield fe(b.fetch,"GET",`${b.url}/reauthenticate`,{headers:b.headers,jwt:ue.access_token});return{data:{user:null,session:null},error:ke}});return function(j){return A.apply(this,arguments)}}())}catch(A){if(Zn(A))return{data:{user:null,session:null},error:A};throw A}})()}resend(b){var A=this;return(0,c.A)(function*(){try{const j=`${A.url}/resend`;if("email"in b){const{email:ue,type:be,options:ke}=b,{error:ct}=yield fe(A.fetch,"POST",j,{headers:A.headers,body:{email:ue,type:be,gotrue_meta_security:{captcha_token:null==ke?void 0:ke.captchaToken}},redirectTo:null==ke?void 0:ke.emailRedirectTo});return{data:{user:null,session:null},error:ct}}if("phone"in b){const{phone:ue,type:be,options:ke}=b,{data:ct,error:wt}=yield fe(A.fetch,"POST",j,{headers:A.headers,body:{phone:ue,type:be,gotrue_meta_security:{captcha_token:null==ke?void 0:ke.captchaToken}}});return{data:{user:null,session:null,messageId:null==ct?void 0:ct.message_id},error:wt}}throw new _o("You must provide either an email or phone number and a type")}catch(j){if(Zn(j))return{data:{user:null,session:null},error:j};throw j}})()}getSession(){var b=this;return(0,c.A)(function*(){return yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){return b._useSession(function(){var j=(0,c.A)(function*(ue){return ue});return function(ue){return j.apply(this,arguments)}}())}))})()}_acquireLock(b,A){var j=this;return(0,c.A)(function*(){j._debug("#_acquireLock","begin",b);try{if(j.lockAcquired){const ue=j.pendingInLock.length?j.pendingInLock[j.pendingInLock.length-1]:Promise.resolve(),be=(0,c.A)(function*(){return yield ue,yield A()})();return j.pendingInLock.push((0,c.A)(function*(){try{yield be}catch{}})()),be}return yield j.lock(`lock:${j.storageKey}`,b,(0,c.A)(function*(){j._debug("#_acquireLock","lock acquired for storage key",j.storageKey);try{j.lockAcquired=!0;const ue=A();for(j.pendingInLock.push((0,c.A)(function*(){try{yield ue}catch{}})()),yield ue;j.pendingInLock.length;){const be=[...j.pendingInLock];yield Promise.all(be),j.pendingInLock.splice(0,be.length)}return yield ue}finally{j._debug("#_acquireLock","lock released for storage key",j.storageKey),j.lockAcquired=!1}}))}finally{j._debug("#_acquireLock","end")}})()}_useSession(b){var A=this;return(0,c.A)(function*(){A._debug("#_useSession","begin");try{const j=yield A.__loadSession();return yield b(j)}finally{A._debug("#_useSession","end")}})()}__loadSession(){var b=this;return(0,c.A)(function*(){b._debug("#__loadSession()","begin"),b.lockAcquired||b._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let A=null;const j=yield yn(b.storage,b.storageKey);if(b._debug("#getSession()","session from storage",j),null!==j&&(b._isValidSession(j)?A=j:(b._debug("#getSession()","session from storage is not valid"),yield b._removeSession())),!A)return{data:{session:null},error:null};const ue=!!A.expires_at&&A.expires_at<=Date.now()/1e3;if(b._debug("#__loadSession()",`session has${ue?"":" not"} expired`,"expires_at",A.expires_at),!ue){if(b.storage.isServer){let ct=b.suppressGetSessionWarning;A=new Proxy(A,{get:(ht,Dn,Hn)=>(!ct&&"user"===Dn&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),ct=!0,b.suppressGetSessionWarning=!0),Reflect.get(ht,Dn,Hn))})}return{data:{session:A},error:null}}const{session:be,error:ke}=yield b._callRefreshToken(A.refresh_token);return ke?{data:{session:null},error:ke}:{data:{session:be},error:null}}finally{b._debug("#__loadSession()","end")}})()}getUser(b){var A=this;return(0,c.A)(function*(){return b?yield A._getUser(b):(yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){return yield A._getUser()})))})()}_getUser(b){var A=this;return(0,c.A)(function*(){try{return b?yield fe(A.fetch,"GET",`${A.url}/user`,{headers:A.headers,jwt:b,xform:bt}):yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be,ke,ct;const{data:wt,error:ht}=ue;if(ht)throw ht;return null!==(be=wt.session)&&void 0!==be&&be.access_token||A.hasCustomAuthorizationHeader?yield fe(A.fetch,"GET",`${A.url}/user`,{headers:A.headers,jwt:null!==(ct=null===(ke=wt.session)||void 0===ke?void 0:ke.access_token)&&void 0!==ct?ct:void 0,xform:bt}):{data:{user:null},error:new uo}});return function(ue){return j.apply(this,arguments)}}())}catch(j){if(Zn(j))return function co(ae){return Zn(ae)&&"AuthSessionMissingError"===ae.name}(j)&&(yield A._removeSession(),yield he(A.storage,`${A.storageKey}-code-verifier`),yield A._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:j};throw j}})()}updateUser(b,A={}){var j=this;return(0,c.A)(function*(){return yield j.initializePromise,yield j._acquireLock(-1,(0,c.A)(function*(){return yield j._updateUser(b,A)}))})()}_updateUser(b,A={}){var j=this;return(0,c.A)(function*(){try{return yield j._useSession(function(){var ue=(0,c.A)(function*(be){const{data:ke,error:ct}=be;if(ct)throw ct;if(!ke.session)throw new uo;const wt=ke.session;let ht=null,Dn=null;"pkce"===j.flowType&&null!=b.email&&([ht,Dn]=yield Zr(j.storage,j.storageKey));const{data:Hn,error:mr}=yield fe(j.fetch,"PUT",`${j.url}/user`,{headers:j.headers,redirectTo:null==A?void 0:A.emailRedirectTo,body:Object.assign(Object.assign({},b),{code_challenge:ht,code_challenge_method:Dn}),jwt:wt.access_token,xform:bt});if(mr)throw mr;return wt.user=Hn.user,yield j._saveSession(wt),yield j._notifyAllSubscribers("USER_UPDATED",wt),{data:{user:wt.user},error:null}});return function(be){return ue.apply(this,arguments)}}())}catch(ue){if(Zn(ue))return{data:{user:null},error:ue};throw ue}})()}_decodeJWT(b){return St(b)}setSession(b){var A=this;return(0,c.A)(function*(){return yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){return yield A._setSession(b)}))})()}_setSession(b){var A=this;return(0,c.A)(function*(){try{if(!b.access_token||!b.refresh_token)throw new uo;const j=Date.now()/1e3;let ue=j,be=!0,ke=null;const ct=St(b.access_token);if(ct.exp&&(ue=ct.exp,be=ue<=j),be){const{session:wt,error:ht}=yield A._callRefreshToken(b.refresh_token);if(ht)return{data:{user:null,session:null},error:ht};if(!wt)return{data:{user:null,session:null},error:null};ke=wt}else{const{data:wt,error:ht}=yield A._getUser(b.access_token);if(ht)throw ht;ke={access_token:b.access_token,refresh_token:b.refresh_token,user:wt.user,token_type:"bearer",expires_in:ue-j,expires_at:ue},yield A._saveSession(ke),yield A._notifyAllSubscribers("SIGNED_IN",ke)}return{data:{user:ke.user,session:ke},error:null}}catch(j){if(Zn(j))return{data:{session:null,user:null},error:j};throw j}})()}refreshSession(b){var A=this;return(0,c.A)(function*(){return yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){return yield A._refreshSession(b)}))})()}_refreshSession(b){var A=this;return(0,c.A)(function*(){try{return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be;if(!b){const{data:wt,error:ht}=ue;if(ht)throw ht;b=null!==(be=wt.session)&&void 0!==be?be:void 0}if(null==b||!b.refresh_token)throw new uo;const{session:ke,error:ct}=yield A._callRefreshToken(b.refresh_token);return ct?{data:{user:null,session:null},error:ct}:ke?{data:{user:ke.user,session:ke},error:null}:{data:{user:null,session:null},error:null}});return function(ue){return j.apply(this,arguments)}}())}catch(j){if(Zn(j))return{data:{user:null,session:null},error:j};throw j}})()}_getSessionFromURL(b){var A=this;return(0,c.A)(function*(){try{if(!q())throw new Qi("No browser detected.");if("implicit"===A.flowType&&!A._isImplicitGrantFlow())throw new Qi("Not a valid implicit grant flow url.");if("pkce"==A.flowType&&!b)throw new kr("Not a valid PKCE flow url.");const j=se(window.location.href);if(b){if(!j.code)throw new kr("No code detected.");const{data:O,error:ce}=yield A._exchangeCodeForSession(j.code);if(ce)throw ce;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:O.session,redirectType:null},error:null}}if(j.error||j.error_description||j.error_code)throw new Qi(j.error_description||"Error in URL with unspecified error_description",{error:j.error||"unspecified_error",code:j.error_code||"unspecified_code"});const{provider_token:ue,provider_refresh_token:be,access_token:ke,refresh_token:ct,expires_in:wt,expires_at:ht,token_type:Dn}=j;if(!(ke&&wt&&ct&&Dn))throw new Qi("No session defined in URL");const Hn=Math.round(Date.now()/1e3),mr=parseInt(wt);let br=Hn+mr;ht&&(br=parseInt(ht));const Mi=br-Hn;1e3*Mi<=Ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Mi}s, should have been closer to ${mr}s`);const Br=br-mr;Hn-Br>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Br,br,Hn):Hn-Br<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Br,br,Hn);const{data:jo,error:Oo}=yield A._getUser(ke);if(Oo)throw Oo;const K={provider_token:ue,provider_refresh_token:be,access_token:ke,expires_in:mr,expires_at:br,refresh_token:ct,token_type:Dn,user:jo.user};return window.location.hash="",A._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:K,redirectType:j.type},error:null}}catch(j){if(Zn(j))return{data:{session:null,redirectType:null},error:j};throw j}})()}_isImplicitGrantFlow(){const b=se(window.location.href);return!(!q()||!b.access_token&&!b.error_description)}_isPKCEFlow(){var b=this;return(0,c.A)(function*(){const A=se(window.location.href),j=yield yn(b.storage,`${b.storageKey}-code-verifier`);return!(!A.code||!j)})()}signOut(b={scope:"global"}){var A=this;return(0,c.A)(function*(){return yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){return yield A._signOut(b)}))})()}_signOut({scope:b}={scope:"global"}){var A=this;return(0,c.A)(function*(){return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be;const{data:ke,error:ct}=ue;if(ct)return{error:ct};const wt=null===(be=ke.session)||void 0===be?void 0:be.access_token;if(wt){const{error:ht}=yield A.admin.signOut(wt,b);if(ht&&(!function pr(ae){return Zn(ae)&&"AuthApiError"===ae.name}(ht)||404!==ht.status&&401!==ht.status&&403!==ht.status))return{error:ht}}return"others"!==b&&(yield A._removeSession(),yield he(A.storage,`${A.storageKey}-code-verifier`),yield A._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(ue){return j.apply(this,arguments)}}())})()}onAuthStateChange(b){var A=this;const j=function pe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ae){const G=16*Math.random()|0;return("x"==ae?G:3&G|8).toString(16)})}(),ue={id:j,callback:b,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",j),this.stateChangeEmitters.delete(j)}};return this._debug("#onAuthStateChange()","registered callback with id",j),this.stateChangeEmitters.set(j,ue),(0,c.A)(function*(){yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){A._emitInitialSession(j)}))})(),{data:{subscription:ue}}}_emitInitialSession(b){var A=this;return(0,c.A)(function*(){return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be,ke;try{const{data:{session:ct},error:wt}=ue;if(wt)throw wt;yield null===(be=A.stateChangeEmitters.get(b))||void 0===be?void 0:be.callback("INITIAL_SESSION",ct),A._debug("INITIAL_SESSION","callback id",b,"session",ct)}catch(ct){yield null===(ke=A.stateChangeEmitters.get(b))||void 0===ke?void 0:ke.callback("INITIAL_SESSION",null),A._debug("INITIAL_SESSION","callback id",b,"error",ct),console.error(ct)}});return function(ue){return j.apply(this,arguments)}}())})()}resetPasswordForEmail(b,A={}){var j=this;return(0,c.A)(function*(){let ue=null,be=null;"pkce"===j.flowType&&([ue,be]=yield Zr(j.storage,j.storageKey,!0));try{return yield fe(j.fetch,"POST",`${j.url}/recover`,{body:{email:b,code_challenge:ue,code_challenge_method:be,gotrue_meta_security:{captcha_token:A.captchaToken}},headers:j.headers,redirectTo:A.redirectTo})}catch(ke){if(Zn(ke))return{data:null,error:ke};throw ke}})()}getUserIdentities(){var b=this;return(0,c.A)(function*(){var A;try{const{data:j,error:ue}=yield b.getUser();if(ue)throw ue;return{data:{identities:null!==(A=j.user.identities)&&void 0!==A?A:[]},error:null}}catch(j){if(Zn(j))return{data:null,error:j};throw j}})()}linkIdentity(b){var A=this;return(0,c.A)(function*(){var j;try{const{data:ue,error:be}=yield A._useSession(function(){var ke=(0,c.A)(function*(ct){var wt,ht,Dn,Hn,mr;const{data:br,error:Mi}=ct;if(Mi)throw Mi;const Br=yield A._getUrlForProvider(`${A.url}/user/identities/authorize`,b.provider,{redirectTo:null===(wt=b.options)||void 0===wt?void 0:wt.redirectTo,scopes:null===(ht=b.options)||void 0===ht?void 0:ht.scopes,queryParams:null===(Dn=b.options)||void 0===Dn?void 0:Dn.queryParams,skipBrowserRedirect:!0});return yield fe(A.fetch,"GET",Br,{headers:A.headers,jwt:null!==(mr=null===(Hn=br.session)||void 0===Hn?void 0:Hn.access_token)&&void 0!==mr?mr:void 0})});return function(ct){return ke.apply(this,arguments)}}());if(be)throw be;return q()&&!(null!==(j=b.options)&&void 0!==j&&j.skipBrowserRedirect)&&window.location.assign(null==ue?void 0:ue.url),{data:{provider:b.provider,url:null==ue?void 0:ue.url},error:null}}catch(ue){if(Zn(ue))return{data:{provider:b.provider,url:null},error:ue};throw ue}})()}unlinkIdentity(b){var A=this;return(0,c.A)(function*(){try{return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be,ke;const{data:ct,error:wt}=ue;if(wt)throw wt;return yield fe(A.fetch,"DELETE",`${A.url}/user/identities/${b.identity_id}`,{headers:A.headers,jwt:null!==(ke=null===(be=ct.session)||void 0===be?void 0:be.access_token)&&void 0!==ke?ke:void 0})});return function(ue){return j.apply(this,arguments)}}())}catch(j){if(Zn(j))return{data:null,error:j};throw j}})()}_refreshAccessToken(b){var A=this;return(0,c.A)(function*(){const j=`#_refreshAccessToken(${b.substring(0,5)}...)`;A._debug(j,"begin");try{const ue=Date.now();return yield function Bn(ae,G){return new Promise((A,j)=>{(0,c.A)(function*(){for(let ue=0;ue<1/0;ue++)try{const be=yield ae(ue);if(!G(ue,null,be))return void A(be)}catch(be){if(!G(ue,be))return void j(be)}})()})}(function(){var be=(0,c.A)(function*(ke){return ke>0&&(yield function zt(ae){return In.apply(this,arguments)}(200*Math.pow(2,ke-1))),A._debug(j,"refreshing attempt",ke),yield fe(A.fetch,"POST",`${A.url}/token?grant_type=refresh_token`,{body:{refresh_token:b},headers:A.headers,xform:Ve})});return function(ke){return be.apply(this,arguments)}}(),(be,ke)=>{const ct=200*Math.pow(2,be);return ke&&ii(ke)&&Date.now()+ct-ue<Ji})}catch(ue){if(A._debug(j,"error",ue),Zn(ue))return{data:{session:null,user:null},error:ue};throw ue}finally{A._debug(j,"end")}})()}_isValidSession(b){return"object"==typeof b&&null!==b&&"access_token"in b&&"refresh_token"in b&&"expires_at"in b}_handleProviderSignIn(b,A){var j=this;return(0,c.A)(function*(){const ue=yield j._getUrlForProvider(`${j.url}/authorize`,b,{redirectTo:A.redirectTo,scopes:A.scopes,queryParams:A.queryParams});return j._debug("#_handleProviderSignIn()","provider",b,"options",A,"url",ue),q()&&!A.skipBrowserRedirect&&window.location.assign(ue),{data:{provider:b,url:ue},error:null}})()}_recoverAndRefresh(){var b=this;return(0,c.A)(function*(){var A;const j="#_recoverAndRefresh()";b._debug(j,"begin");try{const ue=yield yn(b.storage,b.storageKey);if(b._debug(j,"session from storage",ue),!b._isValidSession(ue))return b._debug(j,"session is not valid"),void(null!==ue&&(yield b._removeSession()));const be=Math.round(Date.now()/1e3),ke=(null!==(A=ue.expires_at)&&void 0!==A?A:1/0)<be+10;if(b._debug(j,`session has${ke?"":" not"} expired with margin of 10s`),ke){if(b.autoRefreshToken&&ue.refresh_token){const{error:ct}=yield b._callRefreshToken(ue.refresh_token);ct&&(console.error(ct),ii(ct)||(b._debug(j,"refresh failed with a non-retryable error, removing the session",ct),yield b._removeSession()))}}else yield b._notifyAllSubscribers("SIGNED_IN",ue)}catch(ue){return b._debug(j,"error",ue),void console.error(ue)}finally{b._debug(j,"end")}})()}_callRefreshToken(b){var A=this;return(0,c.A)(function*(){var j,ue;if(!b)throw new uo;if(A.refreshingDeferred)return A.refreshingDeferred.promise;const be=`#_callRefreshToken(${b.substring(0,5)}...)`;A._debug(be,"begin");try{A.refreshingDeferred=new pt;const{data:ke,error:ct}=yield A._refreshAccessToken(b);if(ct)throw ct;if(!ke.session)throw new uo;yield A._saveSession(ke.session),yield A._notifyAllSubscribers("TOKEN_REFRESHED",ke.session);const wt={session:ke.session,error:null};return A.refreshingDeferred.resolve(wt),wt}catch(ke){if(A._debug(be,"error",ke),Zn(ke)){const ct={session:null,error:ke};return ii(ke)||(yield A._removeSession(),yield A._notifyAllSubscribers("SIGNED_OUT",null)),null===(j=A.refreshingDeferred)||void 0===j||j.resolve(ct),ct}throw null===(ue=A.refreshingDeferred)||void 0===ue||ue.reject(ke),ke}finally{A.refreshingDeferred=null,A._debug(be,"end")}})()}_notifyAllSubscribers(b,A,j=!0){var ue=this;return(0,c.A)(function*(){const be=`#_notifyAllSubscribers(${b})`;ue._debug(be,"begin",A,`broadcast = ${j}`);try{ue.broadcastChannel&&j&&ue.broadcastChannel.postMessage({event:b,session:A});const ke=[],ct=Array.from(ue.stateChangeEmitters.values()).map(function(){var wt=(0,c.A)(function*(ht){try{yield ht.callback(b,A)}catch(Dn){ke.push(Dn)}});return function(ht){return wt.apply(this,arguments)}}());if(yield Promise.all(ct),ke.length>0){for(let wt=0;wt<ke.length;wt+=1)console.error(ke[wt]);throw ke[0]}}finally{ue._debug(be,"end")}})()}_saveSession(b){var A=this;return(0,c.A)(function*(){A._debug("#_saveSession()",b),A.suppressGetSessionWarning=!0,yield on(A.storage,A.storageKey,b)})()}_removeSession(){var b=this;return(0,c.A)(function*(){b._debug("#_removeSession()"),yield he(b.storage,b.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const b=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{b&&q()&&null!=window&&window.removeEventListener&&window.removeEventListener("visibilitychange",b)}catch(A){console.error("removing visibilitychange callback failed",A)}}_startAutoRefresh(){var b=this;return(0,c.A)(function*(){yield b._stopAutoRefresh(),b._debug("#_startAutoRefresh()");const A=setInterval(()=>b._autoRefreshTokenTick(),Ji);b.autoRefreshTicker=A,A&&"object"==typeof A&&"function"==typeof A.unref?A.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(A),setTimeout((0,c.A)(function*(){yield b.initializePromise,yield b._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var b=this;return(0,c.A)(function*(){b._debug("#_stopAutoRefresh()");const A=b.autoRefreshTicker;b.autoRefreshTicker=null,A&&clearInterval(A)})()}startAutoRefresh(){var b=this;return(0,c.A)(function*(){b._removeVisibilityChangedCallback(),yield b._startAutoRefresh()})()}stopAutoRefresh(){var b=this;return(0,c.A)(function*(){b._removeVisibilityChangedCallback(),yield b._stopAutoRefresh()})()}_autoRefreshTokenTick(){var b=this;return(0,c.A)(function*(){b._debug("#_autoRefreshTokenTick()","begin");try{yield b._acquireLock(0,(0,c.A)(function*(){try{const A=Date.now();try{return yield b._useSession(function(){var j=(0,c.A)(function*(ue){const{data:{session:be}}=ue;if(!be||!be.refresh_token||!be.expires_at)return void b._debug("#_autoRefreshTokenTick()","no session");const ke=Math.floor((1e3*be.expires_at-A)/Ji);b._debug("#_autoRefreshTokenTick()",`access token expires in ${ke} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),ke<=3&&(yield b._callRefreshToken(be.refresh_token))});return function(ue){return j.apply(this,arguments)}}())}catch(j){console.error("Auto refresh tick failed with error. This is likely a transient error.",j)}}finally{b._debug("#_autoRefreshTokenTick()","end")}}))}catch(A){if(!(A.isAcquireTimeout||A instanceof yi))throw A;b._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var b=this;return(0,c.A)(function*(){if(b._debug("#_handleVisibilityChange()"),!q()||null==window||!window.addEventListener)return b.autoRefreshToken&&b.startAutoRefresh(),!1;try{b.visibilityChangedCallback=(0,c.A)(function*(){return yield b._onVisibilityChanged(!1)}),null==window||window.addEventListener("visibilitychange",b.visibilityChangedCallback),yield b._onVisibilityChanged(!0)}catch(A){console.error("_handleVisibilityChange",A)}})()}_onVisibilityChanged(b){var A=this;return(0,c.A)(function*(){const j=`#_onVisibilityChanged(${b})`;A._debug(j,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(A.autoRefreshToken&&A._startAutoRefresh(),b||(yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){"visible"===document.visibilityState?yield A._recoverAndRefresh():A._debug(j,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&A.autoRefreshToken&&A._stopAutoRefresh()})()}_getUrlForProvider(b,A,j){var ue=this;return(0,c.A)(function*(){const be=[`provider=${encodeURIComponent(A)}`];if(null!=j&&j.redirectTo&&be.push(`redirect_to=${encodeURIComponent(j.redirectTo)}`),null!=j&&j.scopes&&be.push(`scopes=${encodeURIComponent(j.scopes)}`),"pkce"===ue.flowType){const[ke,ct]=yield Zr(ue.storage,ue.storageKey),wt=new URLSearchParams({code_challenge:`${encodeURIComponent(ke)}`,code_challenge_method:`${encodeURIComponent(ct)}`});be.push(wt.toString())}if(null!=j&&j.queryParams){const ke=new URLSearchParams(j.queryParams);be.push(ke.toString())}return null!=j&&j.skipBrowserRedirect&&be.push(`skip_http_redirect=${j.skipBrowserRedirect}`),`${b}?${be.join("&")}`})()}_unenroll(b){var A=this;return(0,c.A)(function*(){try{return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be;const{data:ke,error:ct}=ue;return ct?{data:null,error:ct}:yield fe(A.fetch,"DELETE",`${A.url}/factors/${b.factorId}`,{headers:A.headers,jwt:null===(be=null==ke?void 0:ke.session)||void 0===be?void 0:be.access_token})});return function(ue){return j.apply(this,arguments)}}())}catch(j){if(Zn(j))return{data:null,error:j};throw j}})()}_enroll(b){var A=this;return(0,c.A)(function*(){try{return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be,ke;const{data:ct,error:wt}=ue;if(wt)return{data:null,error:wt};const ht=Object.assign({friendly_name:b.friendlyName,factor_type:b.factorType},"phone"===b.factorType?{phone:b.phone}:{issuer:b.issuer}),{data:Dn,error:Hn}=yield fe(A.fetch,"POST",`${A.url}/factors`,{body:ht,headers:A.headers,jwt:null===(be=null==ct?void 0:ct.session)||void 0===be?void 0:be.access_token});return Hn?{data:null,error:Hn}:("phone"===b.factorType&&delete Dn.totp,"totp"===b.factorType&&!(null===(ke=null==Dn?void 0:Dn.totp)||void 0===ke)&&ke.qr_code&&(Dn.totp.qr_code=`data:image/svg+xml;utf-8,${Dn.totp.qr_code}`),{data:Dn,error:null})});return function(ue){return j.apply(this,arguments)}}())}catch(j){if(Zn(j))return{data:null,error:j};throw j}})()}_verify(b){var A=this;return(0,c.A)(function*(){return A._acquireLock(-1,(0,c.A)(function*(){try{return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be;const{data:ke,error:ct}=ue;if(ct)return{data:null,error:ct};const{data:wt,error:ht}=yield fe(A.fetch,"POST",`${A.url}/factors/${b.factorId}/verify`,{body:{code:b.code,challenge_id:b.challengeId},headers:A.headers,jwt:null===(be=null==ke?void 0:ke.session)||void 0===be?void 0:be.access_token});return ht?{data:null,error:ht}:(yield A._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+wt.expires_in},wt)),yield A._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",wt),{data:wt,error:ht})});return function(ue){return j.apply(this,arguments)}}())}catch(j){if(Zn(j))return{data:null,error:j};throw j}}))})()}_challenge(b){var A=this;return(0,c.A)(function*(){return A._acquireLock(-1,(0,c.A)(function*(){try{return yield A._useSession(function(){var j=(0,c.A)(function*(ue){var be;const{data:ke,error:ct}=ue;return ct?{data:null,error:ct}:yield fe(A.fetch,"POST",`${A.url}/factors/${b.factorId}/challenge`,{body:{channel:b.channel},headers:A.headers,jwt:null===(be=null==ke?void 0:ke.session)||void 0===be?void 0:be.access_token})});return function(ue){return j.apply(this,arguments)}}())}catch(j){if(Zn(j))return{data:null,error:j};throw j}}))})()}_challengeAndVerify(b){var A=this;return(0,c.A)(function*(){const{data:j,error:ue}=yield A._challenge({factorId:b.factorId});return ue?{data:null,error:ue}:yield A._verify({factorId:b.factorId,challengeId:j.id,code:b.code})})()}_listFactors(){var b=this;return(0,c.A)(function*(){const{data:{user:A},error:j}=yield b.getUser();if(j)return{data:null,error:j};const ue=(null==A?void 0:A.factors)||[],be=ue.filter(ct=>"totp"===ct.factor_type&&"verified"===ct.status),ke=ue.filter(ct=>"phone"===ct.factor_type&&"verified"===ct.status);return{data:{all:ue,totp:be,phone:ke},error:null}})()}_getAuthenticatorAssuranceLevel(){var b=this;return(0,c.A)(function*(){return b._acquireLock(-1,(0,c.A)(function*(){return yield b._useSession(function(){var A=(0,c.A)(function*(j){var ue,be;const{data:{session:ke},error:ct}=j;if(ct)return{data:null,error:ct};if(!ke)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const wt=b._decodeJWT(ke.access_token);let ht=null;wt.aal&&(ht=wt.aal);let Dn=ht;return(null!==(be=null===(ue=ke.user.factors)||void 0===ue?void 0:ue.filter(br=>"verified"===br.status))&&void 0!==be?be:[]).length>0&&(Dn="aal2"),{data:{currentLevel:ht,nextLevel:Dn,currentAuthenticationMethods:wt.amr||[]},error:null}});return function(j){return A.apply(this,arguments)}}())}))})()}}return ae.nextInstanceID=0,ae})();const $o=rs;class Rs extends $o{constructor(G){super(G)}}var wo=x(8455),Ps=x(4438);const ji=new class zs{constructor(G,b,A){var j,ue,be;if(this.supabaseUrl=G,this.supabaseKey=b,!G)throw new Error("supabaseUrl is required.");if(!b)throw new Error("supabaseKey is required.");const ke=function Sr(ae){return ae.replace(/\/$/,"")}(G);this.realtimeUrl=`${ke}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${ke}/auth/v1`,this.storageUrl=`${ke}/storage/v1`,this.functionsUrl=`${ke}/functions/v1`;const ct=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,ht=function Cr(ae,G){const{db:b,auth:A,realtime:j,global:ue}=ae,{db:be,auth:ke,realtime:ct,global:wt}=G,ht={db:Object.assign(Object.assign({},be),b),auth:Object.assign(Object.assign({},ke),A),realtime:Object.assign(Object.assign({},ct),j),global:Object.assign(Object.assign({},wt),ue),accessToken:()=>function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})}(this,void 0,void 0,function*(){return""})};return ae.accessToken?ht.accessToken=ae.accessToken:delete ht.accessToken,ht}(null!=A?A:{},{db:Et,realtime:oe,auth:Object.assign(Object.assign({},_n),{storageKey:ct}),global:_t});this.storageKey=null!==(j=ht.auth.storageKey)&&void 0!==j?j:"",this.headers=null!==(ue=ht.global.headers)&&void 0!==ue?ue:{},ht.accessToken?(this.accessToken=ht.accessToken,this.auth=new Proxy({},{get:(Dn,Hn)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Hn)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(be=ht.auth)&&void 0!==be?be:{},this.headers,ht.global.fetch),this.fetch=ln(b,this._getAccessToken.bind(this),ht.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},ht.realtime)),this.rest=new ye(`${ke}/rest/v1`,{headers:this.headers,schema:ht.db.schema,fetch:this.fetch}),ht.accessToken||this._listenForAuthEvents()}get functions(){return new Ge(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Cn(this.storageUrl,this.headers,this.fetch)}from(G){return this.rest.from(G)}schema(G){return this.rest.schema(G)}rpc(G,b={},A={}){return this.rest.rpc(G,b,A)}channel(G,b={config:{}}){return this.realtime.channel(G,b)}getChannels(){return this.realtime.getChannels()}removeChannel(G){return this.realtime.removeChannel(G)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var G,b;return function(ae,G,b,A){return new(b||(b=Promise))(function(ue,be){function ke(ht){try{wt(A.next(ht))}catch(Dn){be(Dn)}}function ct(ht){try{wt(A.throw(ht))}catch(Dn){be(Dn)}}function wt(ht){ht.done?ue(ht.value):function j(ue){return ue instanceof b?ue:new b(function(be){be(ue)})}(ht.value).then(ke,ct)}wt((A=A.apply(ae,G||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:A}=yield this.auth.getSession();return null!==(b=null===(G=A.session)||void 0===G?void 0:G.access_token)&&void 0!==b?b:null})}_initSupabaseAuthClient({autoRefreshToken:G,persistSession:b,detectSessionInUrl:A,storage:j,storageKey:ue,flowType:be,lock:ke,debug:ct},wt,ht){var Dn;return new Rs({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),wt),storageKey:ue,autoRefreshToken:G,persistSession:b,detectSessionInUrl:A,storage:j,flowType:be,lock:ke,debug:ct,fetch:ht,hasCustomAuthorizationHeader:null!==(Dn="Authorization"in this.headers)&&void 0!==Dn&&Dn})}_initRealtimeClient(G){return new bn(this.realtimeUrl,Object.assign(Object.assign({},G),{params:Object.assign({apikey:this.supabaseKey},null==G?void 0:G.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,A)=>{this._handleTokenChanged(b,"CLIENT",null==A?void 0:A.access_token)})}_handleTokenChanged(G,b,A){"TOKEN_REFRESHED"!==G&&"SIGNED_IN"!==G||this.changedAccessToken===A?"SIGNED_OUT"===G&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==b&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=A?A:null),this.changedAccessToken=A)}}("https://muuaktpmdgrchhrjkqcu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11dWFrdHBtZGdyY2hocmprcWN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ4NzQwMjAsImV4cCI6MjA0MDQ1MDAyMH0.UjXLTdzJTQJ-KqMGtcoSvQeYdYGcx2la7ZjKPFe53x4",undefined);let fs=(()=>{var ae;class G{getCourses(){return(0,wo.H)(this.fetchCoursesFromSupabase())}fetchCoursesFromSupabase(){var A=this;return(0,c.A)(function*(){const{data:j,error:ue}=yield ji.from("courses").select("\n        id,\n        name,\n        description,\n        questions:questions (\n          question,\n          answer\n        )\n      ");return ue?(console.error("Error fetching courses:",ue),[]):j&&0!==j.length?j.map(be=>({id:be.id,name:be.name,description:be.description,components:{practice:{questions:be.questions||[]},study:{questions:be.questions||[]},quiz:{questions:A.generateQuizQuestions(be.questions||[])}}})):(console.error("No courses found."),[])})()}generateQuizQuestions(A){return A.map(j=>{const ue=j.answer,ke=A.map(wt=>wt.answer).filter(wt=>wt!==ue).slice(0,3),ct=this.shuffleArray([ue,...ke]);return{question:j.question,options:ct,answer:ue}})}shuffleArray(A){for(let j=A.length-1;j>0;j--){const ue=Math.floor(Math.random()*(j+1));[A[j],A[ue]]=[A[ue],A[j]]}return A}addQuestionToCourse(A,j,ue){return(0,c.A)(function*(){const{data:be,error:ke}=yield ji.from("questions").insert([{course_id:A,question:j,answer:ue}]);if(ke)throw ke;console.log("Question added:",be)})()}createNewCourse(A,j){return(0,c.A)(function*(){const{data:ue,error:be}=yield ji.from("courses").insert([{name:A,description:j}]).select("id");if(be)throw be;console.log("New course added:",ue)})()}updateStreak(A){return(0,c.A)(function*(){const j=(new Date).toLocaleDateString("en-CA"),{data:ue,error:be}=yield ji.from("user_streaks").select("last_streak_update, streak, personal_best").eq("user_id",A).single();if(be&&"PGRST116"!==be.code)return console.error("Error fetching streak:",be),0;if(ue&&ue.last_streak_update===j)return console.log("Streak already updated today, no changes made"),ue.streak;let ke=1,ct=(null==ue?void 0:ue.personal_best)||0;if(ue){const ht=new Date(ue.last_streak_update).toLocaleDateString("en-CA");new Date(j).getTime()-new Date(ht).getTime()==864e5?ke=ue.streak+1:new Date(j).getTime()-new Date(ht).getTime()>864e5&&(ke=1),ke>ct&&(ct=ke)}console.log(`Updating user ${A} with streak: ${ke}, personal best: ${ct}`);const{error:wt}=yield ji.from("user_streaks").upsert({user_id:A,streak:ke,personal_best:ct,last_streak_update:j},{onConflict:"user_id"});return wt?(console.error("Error updating streak and personal best:",wt),0):(console.log(`Streak updated successfully. Current streak: ${ke}, Personal best: ${ct}`),ke)})()}getPersonalBest(A){return(0,c.A)(function*(){const{data:j,error:ue}=yield ji.from("user_streaks").select("personal_best").eq("user_id",A).single();return ue?(console.error("Error fetching personal best:",ue),0):(null==j?void 0:j.personal_best)||0})()}getStreak(A){return(0,c.A)(function*(){var j;const{data:ue,error:be}=yield ji.from("user_streaks").select("streak").eq("user_id",A).single();return be&&"PGRST116"!==be.code?(console.error("Error fetching streak:",be),0):null!==(j=null==ue?void 0:ue.streak)&&void 0!==j?j:0})()}getLeaderboard(){return(0,c.A)(function*(){return[{username:"User1",correctAnswers:15},{username:"User2",correctAnswers:20},{username:"User3",correctAnswers:12},{username:"User4",correctAnswers:18},{username:"User5",correctAnswers:25}]})()}}return(ae=G).\u0275fac=function(A){return new(A||ae)},ae.\u0275prov=Ps.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"}),G})()},8952:(Rn,at,x)=>{"use strict";var c=x(345),h=x(9384),L=x(1626),ve=x(2872),X=x(4742),ee=x(4438),_e=x(5709);let Me=(()=>{var en;class bn{constructor(Dt,vn,it){this.platform=Dt,this.authService=vn,this.router=it,this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{})}onLogout(){this.authService.logout(),this.router.navigateByUrl("/auth")}}return(en=bn).\u0275fac=function(Dt){return new(Dt||en)(ee.rXU(ve.OD),ee.rXU(_e.u),ee.rXU(h.Ix))},en.\u0275cmp=ee.VBU({type:en,selectors:[["app-root"]],decls:14,vars:0,consts:[["side","start"],["lines","none","button","",3,"click"],["name","exit","slot","start"],["main",""]],template:function(Dt,vn){1&Dt&&(ee.j41(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar")(4,"ion-title"),ee.EFF(5," StudyStack "),ee.k0s()()(),ee.j41(6,"ion-content")(7,"ion-list")(8,"ion-menu-toggle")(9,"ion-item",1),ee.bIt("click",function(){return vn.onLogout()}),ee.nrm(10,"ion-icon",2),ee.j41(11,"ion-label"),ee.EFF(12,"Logout"),ee.k0s()()()()()(),ee.nrm(13,"ion-router-outlet",3),ee.k0s())},dependencies:[X.U1,X.W9,X.eU,X.iq,X.uz,X.he,X.nf,X.oS,X.cA,X.BC,X.ai,X.Rg],encapsulation:2}),bn})();var Ge=x(7673),Pe=x(6697),ye=x(5558),ze=x(8141);let qe=(()=>{var en;class bn{constructor(Dt,vn){this.authService=Dt,this.router=vn}canLoad(Dt,vn){return this.authService.userIsAuthenticated.pipe((0,Pe.s)(1),(0,ye.n)(it=>it?(0,Ge.of)(it):this.authService.autoLogin()),(0,ze.M)(it=>{it||this.router.navigateByUrl("/auth")}))}}return(en=bn).\u0275fac=function(Dt){return new(Dt||en)(ee.KVO(_e.u),ee.KVO(h.Ix))},en.\u0275prov=ee.jDH({token:en,factory:en.\u0275fac,providedIn:"root"}),bn})();const We=[{path:"",redirectTo:"places/tabs/dashboard",pathMatch:"full"},{path:"auth",loadChildren:()=>x.e(6926).then(x.bind(x,6926)).then(en=>en.AuthPageModule)},{path:"places",loadChildren:()=>x.e(8001).then(x.bind(x,8001)).then(en=>en.PlacesPageModule),canLoad:[qe]},{path:"bookings",loadChildren:()=>Promise.all([x.e(2076),x.e(9597)]).then(x.bind(x,9597)).then(en=>en.BookingsPageModule),canLoad:[qe]},{path:"dashboard",loadChildren:()=>x.e(5997).then(x.bind(x,5997)).then(en=>en.DashboardModule),canActivate:[qe]},{path:"flashcard",loadChildren:()=>Promise.all([x.e(3955),x.e(9763)]).then(x.bind(x,9763)).then(en=>en.FlashcardPageModule)},{path:"login",loadChildren:()=>x.e(6926).then(x.bind(x,6926)).then(en=>en.AuthPageModule)},{path:"community",loadChildren:()=>x.e(6613).then(x.bind(x,6613)).then(en=>en.CommunityPageModule)},{path:"courses",loadChildren:()=>Promise.all([x.e(3955),x.e(1928)]).then(x.bind(x,1928)).then(en=>en.CoursesModule)}];let ut=(()=>{var en;class bn{}return(en=bn).\u0275fac=function(Dt){return new(Dt||en)},en.\u0275mod=ee.$C({type:en}),en.\u0275inj=ee.G2t({imports:[h.iI.forRoot(We),h.iI]}),bn})();var vt=x(1346),st=x(9253),lt=x(1182),xt=x(8079);Error,Error;const Qe=new ee.nKC("localStoragePrefix",{providedIn:"root",factory:()=>""}),Ft=new ee.nKC("localStorageIDBDBName",{providedIn:"root",factory:()=>"ngStorage"}),gt=new ee.nKC("localStorageIDBDBVersion",{providedIn:"root",factory:()=>1}),nn=new ee.nKC("localStorageIDBStoreName",{providedIn:"root",factory:()=>"localStorage"}),gn=new ee.nKC("localStorageIDBWrap",{providedIn:"root",factory:()=>!0});let ie=(()=>{var en;class bn{static forRoot(Dt){return{ngModule:bn,providers:[Dt.LSPrefix?{provide:Qe,useValue:Dt.LSPrefix}:[],Dt.IDBDBName?{provide:Ft,useValue:Dt.IDBDBName}:[],Dt.IDBStoreName?{provide:nn,useValue:Dt.IDBStoreName}:[],Dt.IDBDBVersion?{provide:gt,useValue:Dt.IDBDBVersion}:[],!1===Dt.IDBNoWrap?{provide:gn,useValue:Dt.IDBNoWrap}:[]]}}}return(en=bn).\u0275fac=function(Dt){return new(Dt||en)},en.\u0275mod=ee.$C({type:en}),en.\u0275inj=ee.G2t({}),bn})();Error;const kt_firebase={apiKey:"AIzaSyAMSuuV5XH6gmV58WQpACly6M2emllAc0E",authDomain:"bookings-2bd51.firebaseapp.com",databaseURL:"https://bookings-2bd51-default-rtdb.firebaseio.com",projectId:"bookings-2bd51",storageBucket:"bookings-2bd51.appspot.com",messagingSenderId:"385667401913",appId:"1:385667401913:web:1ca69cf097e042df297368",measurementId:"G-PD2E0F98JB"};let Mn=(()=>{var en;class bn{}return(en=bn).\u0275fac=function(Dt){return new(Dt||en)},en.\u0275mod=ee.$C({type:en,bootstrap:[Me]}),en.\u0275inj=ee.G2t({providers:[vt.w,{provide:h.b,useClass:ve.jM}],imports:[c.Bb,L.q1,ie.forRoot({}),X.bv.forRoot(),ut,st.bf.initializeApp(kt_firebase),lt.X8,xt.cM]}),bn})();c.sG().bootstrapModule(Mn).catch(en=>console.log(en))},5286:(Rn,at,x)=>{"use strict";x.r(at),x.d(at,{Headers:()=>X,Request:()=>ee,Response:()=>_e,default:()=>ve,fetch:()=>L});var h=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const L=h.fetch,ve=h.fetch.bind(h),X=h.Headers,ee=h.Request,_e=h.Response},5958:function(Rn,at,x){"use strict";var c=x(9293).default,h=this&&this.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(at,"__esModule",{value:!0});const L=h(x(5286)),ve=h(x(4659));at.default=class X{constructor(_e){this.shouldThrowOnError=!1,this.method=_e.method,this.url=_e.url,this.headers=_e.headers,this.schema=_e.schema,this.body=_e.body,this.shouldThrowOnError=_e.shouldThrowOnError,this.signal=_e.signal,this.isMaybeSingle=_e.isMaybeSingle,this.fetch=_e.fetch?_e.fetch:typeof fetch>"u"?L.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(_e,Me){return this.headers=Object.assign({},this.headers),this.headers[_e]=Me,this}then(_e,Me){var Ge=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let ye=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ze=c(function*(qe){var We,ut,vt;let st=null,lt=null,xt=null,Tt=qe.status,Ie=qe.statusText;if(qe.ok){if("HEAD"!==Ge.method){const rt=yield qe.text();""===rt||(lt="text/csv"===Ge.headers.Accept||Ge.headers.Accept&&Ge.headers.Accept.includes("application/vnd.pgrst.plan+text")?rt:JSON.parse(rt))}const Ne=null===(We=Ge.headers.Prefer)||void 0===We?void 0:We.match(/count=(exact|planned|estimated)/),Qe=null===(ut=qe.headers.get("content-range"))||void 0===ut?void 0:ut.split("/");Ne&&Qe&&Qe.length>1&&(xt=parseInt(Qe[1])),Ge.isMaybeSingle&&"GET"===Ge.method&&Array.isArray(lt)&&(lt.length>1?(st={code:"PGRST116",details:`Results contain ${lt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},lt=null,xt=null,Tt=406,Ie="Not Acceptable"):lt=1===lt.length?lt[0]:null)}else{const Ne=yield qe.text();try{st=JSON.parse(Ne),Array.isArray(st)&&404===qe.status&&(lt=[],st=null,Tt=200,Ie="OK")}catch{404===qe.status&&""===Ne?(Tt=204,Ie="No Content"):st={message:Ne}}if(st&&Ge.isMaybeSingle&&!(null===(vt=null==st?void 0:st.details)||void 0===vt)&&vt.includes("0 rows")&&(st=null,Tt=200,Ie="OK"),st&&Ge.shouldThrowOnError)throw new ve.default(st)}return{error:st,data:lt,count:xt,status:Tt,statusText:Ie}});return function(qe){return ze.apply(this,arguments)}}());return this.shouldThrowOnError||(ye=ye.catch(ze=>{var qe,We,ut;return{error:{message:`${null!==(qe=null==ze?void 0:ze.name)&&void 0!==qe?qe:"FetchError"}: ${null==ze?void 0:ze.message}`,details:`${null!==(We=null==ze?void 0:ze.stack)&&void 0!==We?We:""}`,hint:"",code:`${null!==(ut=null==ze?void 0:ze.code)&&void 0!==ut?ut:""}`},data:null,count:null,status:0,statusText:""}})),ye.then(_e,Me)}}},3242:function(Rn,at,x){"use strict";var c=this&&this.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(at,"__esModule",{value:!0});const h=c(x(8666)),L=c(x(3608)),ve=x(3057);class X{constructor(_e,{headers:Me={},schema:Ge,fetch:Pe}={}){this.url=_e,this.headers=Object.assign(Object.assign({},ve.DEFAULT_HEADERS),Me),this.schemaName=Ge,this.fetch=Pe}from(_e){const Me=new URL(`${this.url}/${_e}`);return new h.default(Me,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(_e){return new X(this.url,{headers:this.headers,schema:_e,fetch:this.fetch})}rpc(_e,Me={},{head:Ge=!1,get:Pe=!1,count:ye}={}){let ze;const qe=new URL(`${this.url}/rpc/${_e}`);let We;Ge||Pe?(ze=Ge?"HEAD":"GET",Object.entries(Me).filter(([vt,st])=>void 0!==st).map(([vt,st])=>[vt,Array.isArray(st)?`{${st.join(",")}}`:`${st}`]).forEach(([vt,st])=>{qe.searchParams.append(vt,st)})):(ze="POST",We=Me);const ut=Object.assign({},this.headers);return ye&&(ut.Prefer=`count=${ye}`),new L.default({method:ze,url:qe,headers:ut,schema:this.schemaName,body:We,fetch:this.fetch,allowEmpty:!1})}}at.default=X},4659:(Rn,at)=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});class x extends Error{constructor(h){super(h.message),this.name="PostgrestError",this.details=h.details,this.hint=h.hint,this.code=h.code}}at.default=x},3608:function(Rn,at,x){"use strict";var c=this&&this.__importDefault||function(ve){return ve&&ve.__esModule?ve:{default:ve}};Object.defineProperty(at,"__esModule",{value:!0});const h=c(x(3342));at.default=class L extends h.default{eq(X,ee){return this.url.searchParams.append(X,`eq.${ee}`),this}neq(X,ee){return this.url.searchParams.append(X,`neq.${ee}`),this}gt(X,ee){return this.url.searchParams.append(X,`gt.${ee}`),this}gte(X,ee){return this.url.searchParams.append(X,`gte.${ee}`),this}lt(X,ee){return this.url.searchParams.append(X,`lt.${ee}`),this}lte(X,ee){return this.url.searchParams.append(X,`lte.${ee}`),this}like(X,ee){return this.url.searchParams.append(X,`like.${ee}`),this}likeAllOf(X,ee){return this.url.searchParams.append(X,`like(all).{${ee.join(",")}}`),this}likeAnyOf(X,ee){return this.url.searchParams.append(X,`like(any).{${ee.join(",")}}`),this}ilike(X,ee){return this.url.searchParams.append(X,`ilike.${ee}`),this}ilikeAllOf(X,ee){return this.url.searchParams.append(X,`ilike(all).{${ee.join(",")}}`),this}ilikeAnyOf(X,ee){return this.url.searchParams.append(X,`ilike(any).{${ee.join(",")}}`),this}is(X,ee){return this.url.searchParams.append(X,`is.${ee}`),this}in(X,ee){const _e=Array.from(new Set(ee)).map(Me=>"string"==typeof Me&&new RegExp("[,()]").test(Me)?`"${Me}"`:`${Me}`).join(",");return this.url.searchParams.append(X,`in.(${_e})`),this}contains(X,ee){return"string"==typeof ee?this.url.searchParams.append(X,`cs.${ee}`):Array.isArray(ee)?this.url.searchParams.append(X,`cs.{${ee.join(",")}}`):this.url.searchParams.append(X,`cs.${JSON.stringify(ee)}`),this}containedBy(X,ee){return"string"==typeof ee?this.url.searchParams.append(X,`cd.${ee}`):Array.isArray(ee)?this.url.searchParams.append(X,`cd.{${ee.join(",")}}`):this.url.searchParams.append(X,`cd.${JSON.stringify(ee)}`),this}rangeGt(X,ee){return this.url.searchParams.append(X,`sr.${ee}`),this}rangeGte(X,ee){return this.url.searchParams.append(X,`nxl.${ee}`),this}rangeLt(X,ee){return this.url.searchParams.append(X,`sl.${ee}`),this}rangeLte(X,ee){return this.url.searchParams.append(X,`nxr.${ee}`),this}rangeAdjacent(X,ee){return this.url.searchParams.append(X,`adj.${ee}`),this}overlaps(X,ee){return this.url.searchParams.append(X,"string"==typeof ee?`ov.${ee}`:`ov.{${ee.join(",")}}`),this}textSearch(X,ee,{config:_e,type:Me}={}){let Ge="";return"plain"===Me?Ge="pl":"phrase"===Me?Ge="ph":"websearch"===Me&&(Ge="w"),this.url.searchParams.append(X,`${Ge}fts${void 0===_e?"":`(${_e})`}.${ee}`),this}match(X){return Object.entries(X).forEach(([ee,_e])=>{this.url.searchParams.append(ee,`eq.${_e}`)}),this}not(X,ee,_e){return this.url.searchParams.append(X,`not.${ee}.${_e}`),this}or(X,{foreignTable:ee,referencedTable:_e=ee}={}){return this.url.searchParams.append(_e?`${_e}.or`:"or",`(${X})`),this}filter(X,ee,_e){return this.url.searchParams.append(X,`${ee}.${_e}`),this}}},8666:function(Rn,at,x){"use strict";var c=this&&this.__importDefault||function(ve){return ve&&ve.__esModule?ve:{default:ve}};Object.defineProperty(at,"__esModule",{value:!0});const h=c(x(3608));at.default=class L{constructor(X,{headers:ee={},schema:_e,fetch:Me}){this.url=X,this.headers=ee,this.schema=_e,this.fetch=Me}select(X,{head:ee=!1,count:_e}={}){const Me=ee?"HEAD":"GET";let Ge=!1;const Pe=(null!=X?X:"*").split("").map(ye=>/\s/.test(ye)&&!Ge?"":('"'===ye&&(Ge=!Ge),ye)).join("");return this.url.searchParams.set("select",Pe),_e&&(this.headers.Prefer=`count=${_e}`),new h.default({method:Me,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(X,{count:ee,defaultToNull:_e=!0}={}){const Ge=[];if(this.headers.Prefer&&Ge.push(this.headers.Prefer),ee&&Ge.push(`count=${ee}`),_e||Ge.push("missing=default"),this.headers.Prefer=Ge.join(","),Array.isArray(X)){const Pe=X.reduce((ye,ze)=>ye.concat(Object.keys(ze)),[]);if(Pe.length>0){const ye=[...new Set(Pe)].map(ze=>`"${ze}"`);this.url.searchParams.set("columns",ye.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:this.fetch,allowEmpty:!1})}upsert(X,{onConflict:ee,ignoreDuplicates:_e=!1,count:Me,defaultToNull:Ge=!0}={}){const ye=[`resolution=${_e?"ignore":"merge"}-duplicates`];if(void 0!==ee&&this.url.searchParams.set("on_conflict",ee),this.headers.Prefer&&ye.push(this.headers.Prefer),Me&&ye.push(`count=${Me}`),Ge||ye.push("missing=default"),this.headers.Prefer=ye.join(","),Array.isArray(X)){const ze=X.reduce((qe,We)=>qe.concat(Object.keys(We)),[]);if(ze.length>0){const qe=[...new Set(ze)].map(We=>`"${We}"`);this.url.searchParams.set("columns",qe.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:this.fetch,allowEmpty:!1})}update(X,{count:ee}={}){const Me=[];return this.headers.Prefer&&Me.push(this.headers.Prefer),ee&&Me.push(`count=${ee}`),this.headers.Prefer=Me.join(","),new h.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:this.fetch,allowEmpty:!1})}delete({count:X}={}){const _e=[];return X&&_e.push(`count=${X}`),this.headers.Prefer&&_e.unshift(this.headers.Prefer),this.headers.Prefer=_e.join(","),new h.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},3342:function(Rn,at,x){"use strict";var c=this&&this.__importDefault||function(ve){return ve&&ve.__esModule?ve:{default:ve}};Object.defineProperty(at,"__esModule",{value:!0});const h=c(x(5958));at.default=class L extends h.default{select(X){let ee=!1;const _e=(null!=X?X:"*").split("").map(Me=>/\s/.test(Me)&&!ee?"":('"'===Me&&(ee=!ee),Me)).join("");return this.url.searchParams.set("select",_e),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(X,{ascending:ee=!0,nullsFirst:_e,foreignTable:Me,referencedTable:Ge=Me}={}){const Pe=Ge?`${Ge}.order`:"order",ye=this.url.searchParams.get(Pe);return this.url.searchParams.set(Pe,`${ye?`${ye},`:""}${X}.${ee?"asc":"desc"}${void 0===_e?"":_e?".nullsfirst":".nullslast"}`),this}limit(X,{foreignTable:ee,referencedTable:_e=ee}={}){return this.url.searchParams.set(typeof _e>"u"?"limit":`${_e}.limit`,`${X}`),this}range(X,ee,{foreignTable:_e,referencedTable:Me=_e}={}){const Pe=typeof Me>"u"?"limit":`${Me}.limit`;return this.url.searchParams.set(typeof Me>"u"?"offset":`${Me}.offset`,`${X}`),this.url.searchParams.set(Pe,""+(ee-X+1)),this}abortSignal(X){return this.signal=X,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:X=!1,verbose:ee=!1,settings:_e=!1,buffers:Me=!1,wal:Ge=!1,format:Pe="text"}={}){var ye;const ze=[X?"analyze":null,ee?"verbose":null,_e?"settings":null,Me?"buffers":null,Ge?"wal":null].filter(Boolean).join("|"),qe=null!==(ye=this.headers.Accept)&&void 0!==ye?ye:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${Pe}; for="${qe}"; options=${ze};`,this}rollback(){var X;return(null!==(X=this.headers.Prefer)&&void 0!==X?X:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},3057:(Rn,at,x)=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.DEFAULT_HEADERS=void 0;const c=x(3056);at.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${c.version}`}},4060:function(Rn,at,x){"use strict";var c=this&&this.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const h=c(x(3242));at.PostgrestClient=h.default;const L=c(x(8666));at.PostgrestQueryBuilder=L.default;const ve=c(x(3608));at.PostgrestFilterBuilder=ve.default;const X=c(x(3342));at.PostgrestTransformBuilder=X.default;const ee=c(x(5958));at.PostgrestBuilder=ee.default,at.default={PostgrestClient:h.default,PostgrestQueryBuilder:L.default,PostgrestFilterBuilder:ve.default,PostgrestTransformBuilder:X.default,PostgrestBuilder:ee.default}},3056:(Rn,at)=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0}),at.version=void 0,at.version="0.0.0-automated"},4412:(Rn,at,x)=>{"use strict";x.d(at,{t:()=>h});var c=x(1413);class h extends c.B{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const X=super._subscribe(ve);return!X.closed&&ve.next(this._value),X}getValue(){const{hasError:ve,thrownError:X,_value:ee}=this;if(ve)throw X;return this._throwIfClosed(),ee}next(ve){super.next(this._value=ve)}}},1985:(Rn,at,x)=>{"use strict";x.d(at,{c:()=>Me});var c=x(7707),h=x(8359),L=x(3494),ve=x(1203),X=x(1026),ee=x(8071),_e=x(9786);let Me=(()=>{class ze{constructor(We){We&&(this._subscribe=We)}lift(We){const ut=new ze;return ut.source=this,ut.operator=We,ut}subscribe(We,ut,vt){const st=function ye(ze){return ze&&ze instanceof c.vU||function Pe(ze){return ze&&(0,ee.T)(ze.next)&&(0,ee.T)(ze.error)&&(0,ee.T)(ze.complete)}(ze)&&(0,h.Uv)(ze)}(We)?We:new c.Ms(We,ut,vt);return(0,_e.Y)(()=>{const{operator:lt,source:xt}=this;st.add(lt?lt.call(st,xt):xt?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(We){try{return this._subscribe(We)}catch(ut){We.error(ut)}}forEach(We,ut){return new(ut=Ge(ut))((vt,st)=>{const lt=new c.Ms({next:xt=>{try{We(xt)}catch(Tt){st(Tt),lt.unsubscribe()}},error:st,complete:vt});this.subscribe(lt)})}_subscribe(We){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(We)}[L.s](){return this}pipe(...We){return(0,ve.m)(We)(this)}toPromise(We){return new(We=Ge(We))((ut,vt)=>{let st;this.subscribe(lt=>st=lt,lt=>vt(lt),()=>ut(st))})}}return ze.create=qe=>new ze(qe),ze})();function Ge(ze){var qe;return null!==(qe=null!=ze?ze:X.$.Promise)&&void 0!==qe?qe:Promise}},1413:(Rn,at,x)=>{"use strict";x.d(at,{B:()=>_e});var c=x(1985),h=x(8359);const ve=(0,x(1853).L)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=x(7908),ee=x(9786);let _e=(()=>{class Ge extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const ze=new Me(this,this);return ze.operator=ye,ze}_throwIfClosed(){if(this.closed)throw new ve}next(ye){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(ye)}})}error(ye){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:ze}=this;for(;ze.length;)ze.shift().error(ye)}})}complete(){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:ze,isStopped:qe,observers:We}=this;return ze||qe?h.Kn:(this.currentObservers=null,We.push(ye),new h.yU(()=>{this.currentObservers=null,(0,X.o)(We,ye)}))}_checkFinalizedStatuses(ye){const{hasError:ze,thrownError:qe,isStopped:We}=this;ze?ye.error(qe):We&&ye.complete()}asObservable(){const ye=new c.c;return ye.source=this,ye}}return Ge.create=(Pe,ye)=>new Me(Pe,ye),Ge})();class Me extends _e{constructor(Pe,ye){super(),this.destination=Pe,this.source=ye}next(Pe){var ye,ze;null===(ze=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===ze||ze.call(ye,Pe)}error(Pe){var ye,ze;null===(ze=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===ze||ze.call(ye,Pe)}complete(){var Pe,ye;null===(ye=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.complete)||void 0===ye||ye.call(Pe)}_subscribe(Pe){var ye,ze;return null!==(ze=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Pe))&&void 0!==ze?ze:h.Kn}}},7707:(Rn,at,x)=>{"use strict";x.d(at,{Ms:()=>vt,vU:()=>ze});var c=x(8071),h=x(8359),L=x(1026),ve=x(5334),X=x(5343);const ee=Ge("C",void 0,void 0);function Ge(Ie,Te,Ne){return{kind:Ie,value:Te,error:Ne}}var Pe=x(9270),ye=x(9786);class ze extends h.yU{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,h.Uv)(Te)&&Te.add(this)):this.destination=Tt}static create(Te,Ne,Qe){return new vt(Te,Ne,Qe)}next(Te){this.isStopped?xt(function Me(Ie){return Ge("N",Ie,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?xt(function _e(Ie){return Ge("E",void 0,Ie)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?xt(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function We(Ie,Te){return qe.call(Ie,Te)}class ut{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Te)}catch(Qe){st(Qe)}}error(Te){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Te)}catch(Qe){st(Qe)}else st(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ne){st(Ne)}}}class vt extends ze{constructor(Te,Ne,Qe){let rt;if(super(),(0,c.T)(Te)||!Te)rt={next:null!=Te?Te:void 0,error:null!=Ne?Ne:void 0,complete:null!=Qe?Qe:void 0};else{let Ft;this&&L.$.useDeprecatedNextContext?(Ft=Object.create(Te),Ft.unsubscribe=()=>this.unsubscribe(),rt={next:Te.next&&We(Te.next,Ft),error:Te.error&&We(Te.error,Ft),complete:Te.complete&&We(Te.complete,Ft)}):rt=Te}this.destination=new ut(rt)}}function st(Ie){L.$.useDeprecatedSynchronousErrorHandling?(0,ye.l)(Ie):(0,ve.m)(Ie)}function xt(Ie,Te){const{onStoppedNotification:Ne}=L.$;Ne&&Pe.f.setTimeout(()=>Ne(Ie,Te))}const Tt={closed:!0,next:X.l,error:function lt(Ie){throw Ie},complete:X.l}},8359:(Rn,at,x)=>{"use strict";x.d(at,{Kn:()=>ee,yU:()=>X,Uv:()=>_e});var c=x(8071);const L=(0,x(1853).L)(Ge=>function(ye){Ge(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((ze,qe)=>`${qe+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var ve=x(7908);class X{constructor(Pe){this.initialTeardown=Pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Pe;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const We of ye)We.remove(this);else ye.remove(this);const{initialTeardown:ze}=this;if((0,c.T)(ze))try{ze()}catch(We){Pe=We instanceof L?We.errors:[We]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const We of qe)try{Me(We)}catch(ut){Pe=null!=Pe?Pe:[],ut instanceof L?Pe=[...Pe,...ut.errors]:Pe.push(ut)}}if(Pe)throw new L(Pe)}}add(Pe){var ye;if(Pe&&Pe!==this)if(this.closed)Me(Pe);else{if(Pe instanceof X){if(Pe.closed||Pe._hasParent(this))return;Pe._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(Pe)}}_hasParent(Pe){const{_parentage:ye}=this;return ye===Pe||Array.isArray(ye)&&ye.includes(Pe)}_addParent(Pe){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(Pe),ye):ye?[ye,Pe]:Pe}_removeParent(Pe){const{_parentage:ye}=this;ye===Pe?this._parentage=null:Array.isArray(ye)&&(0,ve.o)(ye,Pe)}remove(Pe){const{_finalizers:ye}=this;ye&&(0,ve.o)(ye,Pe),Pe instanceof X&&Pe._removeParent(this)}}X.EMPTY=(()=>{const Ge=new X;return Ge.closed=!0,Ge})();const ee=X.EMPTY;function _e(Ge){return Ge instanceof X||Ge&&"closed"in Ge&&(0,c.T)(Ge.remove)&&(0,c.T)(Ge.add)&&(0,c.T)(Ge.unsubscribe)}function Me(Ge){(0,c.T)(Ge)?Ge():Ge.unsubscribe()}},1026:(Rn,at,x)=>{"use strict";x.d(at,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Rn,at,x)=>{"use strict";x.d(at,{z:()=>Pe});var c=x(1985),h=x(3073),L=x(8455),ve=x(3669),X=x(6450),ee=x(3794),_e=x(8496),Me=x(4360),Ge=x(5225);function Pe(...qe){const We=(0,ee.lI)(qe),ut=(0,ee.ms)(qe),{args:vt,keys:st}=(0,h.D)(qe);if(0===vt.length)return(0,L.H)([],We);const lt=new c.c(function ye(qe,We,ut=ve.D){return vt=>{ze(We,()=>{const{length:st}=qe,lt=new Array(st);let xt=st,Tt=st;for(let Ie=0;Ie<st;Ie++)ze(We,()=>{const Te=(0,L.H)(qe[Ie],We);let Ne=!1;Te.subscribe((0,Me._)(vt,Qe=>{lt[Ie]=Qe,Ne||(Ne=!0,Tt--),Tt||vt.next(ut(lt.slice()))},()=>{--xt||vt.complete()}))},vt)},vt)}}(vt,We,st?xt=>(0,_e.e)(st,xt):ve.D));return ut?lt.pipe((0,X.I)(ut)):lt}function ze(qe,We,ut){qe?(0,Ge.N)(ut,qe,We):We()}},8793:(Rn,at,x)=>{"use strict";x.d(at,{x:()=>X});var c=x(6365),L=x(3794),ve=x(8455);function X(...ee){return function h(){return(0,c.U)(1)}()((0,ve.H)(ee,(0,L.lI)(ee)))}},983:(Rn,at,x)=>{"use strict";x.d(at,{w:()=>h});const h=new(x(1985).c)(X=>X.complete())},8455:(Rn,at,x)=>{"use strict";x.d(at,{H:()=>Te});var c=x(8750),h=x(941),L=x(6745),ee=x(1985),Me=x(4761),Ge=x(8071),Pe=x(5225);function ze(Ne,Qe){if(!Ne)throw new Error("Iterable cannot be null");return new ee.c(rt=>{(0,Pe.N)(rt,Qe,()=>{const Ft=Ne[Symbol.asyncIterator]();(0,Pe.N)(rt,Qe,()=>{Ft.next().then(Se=>{Se.done?rt.complete():rt.next(Se.value)})},0,!0)})})}var qe=x(5055),We=x(9858),ut=x(7441),vt=x(5397),st=x(7953),lt=x(591),xt=x(5196);function Te(Ne,Qe){return Qe?function Ie(Ne,Qe){if(null!=Ne){if((0,qe.l)(Ne))return function ve(Ne,Qe){return(0,c.Tg)(Ne).pipe((0,L._)(Qe),(0,h.Q)(Qe))}(Ne,Qe);if((0,ut.X)(Ne))return function _e(Ne,Qe){return new ee.c(rt=>{let Ft=0;return Qe.schedule(function(){Ft===Ne.length?rt.complete():(rt.next(Ne[Ft++]),rt.closed||this.schedule())})})}(Ne,Qe);if((0,We.y)(Ne))return function X(Ne,Qe){return(0,c.Tg)(Ne).pipe((0,L._)(Qe),(0,h.Q)(Qe))}(Ne,Qe);if((0,st.T)(Ne))return ze(Ne,Qe);if((0,vt.x)(Ne))return function ye(Ne,Qe){return new ee.c(rt=>{let Ft;return(0,Pe.N)(rt,Qe,()=>{Ft=Ne[Me.l](),(0,Pe.N)(rt,Qe,()=>{let Se,gt;try{({value:Se,done:gt}=Ft.next())}catch(Vt){return void rt.error(Vt)}gt?rt.complete():rt.next(Se)},0,!0)}),()=>(0,Ge.T)(null==Ft?void 0:Ft.return)&&Ft.return()})}(Ne,Qe);if((0,xt.U)(Ne))return function Tt(Ne,Qe){return ze((0,xt.C)(Ne),Qe)}(Ne,Qe)}throw(0,lt.L)(Ne)}(Ne,Qe):(0,c.Tg)(Ne)}},3726:(Rn,at,x)=>{"use strict";x.d(at,{R:()=>Pe});var c=x(8750),h=x(1985),L=x(1397),ve=x(7441),X=x(8071),ee=x(6450);const _e=["addListener","removeListener"],Me=["addEventListener","removeEventListener"],Ge=["on","off"];function Pe(ut,vt,st,lt){if((0,X.T)(st)&&(lt=st,st=void 0),lt)return Pe(ut,vt,st).pipe((0,ee.I)(lt));const[xt,Tt]=function We(ut){return(0,X.T)(ut.addEventListener)&&(0,X.T)(ut.removeEventListener)}(ut)?Me.map(Ie=>Te=>ut[Ie](vt,Te,st)):function ze(ut){return(0,X.T)(ut.addListener)&&(0,X.T)(ut.removeListener)}(ut)?_e.map(ye(ut,vt)):function qe(ut){return(0,X.T)(ut.on)&&(0,X.T)(ut.off)}(ut)?Ge.map(ye(ut,vt)):[];if(!xt&&(0,ve.X)(ut))return(0,L.Z)(Ie=>Pe(Ie,vt,st))((0,c.Tg)(ut));if(!xt)throw new TypeError("Invalid event target");return new h.c(Ie=>{const Te=(...Ne)=>Ie.next(1<Ne.length?Ne:Ne[0]);return xt(Te),()=>Tt(Te)})}function ye(ut,vt){return st=>lt=>ut[st](vt,lt)}},8750:(Rn,at,x)=>{"use strict";x.d(at,{Tg:()=>qe});var c=x(1635),h=x(7441),L=x(9858),ve=x(1985),X=x(5055),ee=x(7953),_e=x(591),Me=x(5397),Ge=x(5196),Pe=x(8071),ye=x(5334),ze=x(3494);function qe(Ie){if(Ie instanceof ve.c)return Ie;if(null!=Ie){if((0,X.l)(Ie))return function We(Ie){return new ve.c(Te=>{const Ne=Ie[ze.s]();if((0,Pe.T)(Ne.subscribe))return Ne.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,h.X)(Ie))return function ut(Ie){return new ve.c(Te=>{for(let Ne=0;Ne<Ie.length&&!Te.closed;Ne++)Te.next(Ie[Ne]);Te.complete()})}(Ie);if((0,L.y)(Ie))return function vt(Ie){return new ve.c(Te=>{Ie.then(Ne=>{Te.closed||(Te.next(Ne),Te.complete())},Ne=>Te.error(Ne)).then(null,ye.m)})}(Ie);if((0,ee.T)(Ie))return lt(Ie);if((0,Me.x)(Ie))return function st(Ie){return new ve.c(Te=>{for(const Ne of Ie)if(Te.next(Ne),Te.closed)return;Te.complete()})}(Ie);if((0,Ge.U)(Ie))return function xt(Ie){return lt((0,Ge.C)(Ie))}(Ie)}throw(0,_e.L)(Ie)}function lt(Ie){return new ve.c(Te=>{(function Tt(Ie,Te){var Ne,Qe,rt,Ft;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Ne=(0,c.xN)(Ie);!(Qe=yield Ne.next()).done;)if(Te.next(Qe.value),Te.closed)return}catch(Se){rt={error:Se}}finally{try{Qe&&!Qe.done&&(Ft=Ne.return)&&(yield Ft.call(Ne))}finally{if(rt)throw rt.error}}Te.complete()})})(Ie,Te).catch(Ne=>Te.error(Ne))})}},7673:(Rn,at,x)=>{"use strict";x.d(at,{of:()=>L});var c=x(3794),h=x(8455);function L(...ve){const X=(0,c.lI)(ve);return(0,h.H)(ve,X)}},4360:(Rn,at,x)=>{"use strict";x.d(at,{_:()=>h});var c=x(7707);function h(ve,X,ee,_e,Me){return new L(ve,X,ee,_e,Me)}class L extends c.vU{constructor(X,ee,_e,Me,Ge,Pe){super(X),this.onFinalize=Ge,this.shouldUnsubscribe=Pe,this._next=ee?function(ye){try{ee(ye)}catch(ze){X.error(ze)}}:super._next,this._error=Me?function(ye){try{Me(ye)}catch(ze){X.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(ye){X.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},274:(Rn,at,x)=>{"use strict";x.d(at,{H:()=>L});var c=x(1397),h=x(8071);function L(ve,X){return(0,h.T)(X)?(0,c.Z)(ve,X,1):(0,c.Z)(ve,1)}},9901:(Rn,at,x)=>{"use strict";x.d(at,{U:()=>L});var c=x(9974),h=x(4360);function L(ve){return(0,c.N)((X,ee)=>{let _e=!1;X.subscribe((0,h._)(ee,Me=>{_e=!0,ee.next(Me)},()=>{_e||ee.next(ve),ee.complete()}))})}},3294:(Rn,at,x)=>{"use strict";x.d(at,{F:()=>ve});var c=x(3669),h=x(9974),L=x(4360);function ve(ee,_e=c.D){return ee=null!=ee?ee:X,(0,h.N)((Me,Ge)=>{let Pe,ye=!0;Me.subscribe((0,L._)(Ge,ze=>{const qe=_e(ze);(ye||!ee(Pe,qe))&&(ye=!1,Pe=qe,Ge.next(ze))}))})}function X(ee,_e){return ee===_e}},5964:(Rn,at,x)=>{"use strict";x.d(at,{p:()=>L});var c=x(9974),h=x(4360);function L(ve,X){return(0,c.N)((ee,_e)=>{let Me=0;ee.subscribe((0,h._)(_e,Ge=>ve.call(X,Ge,Me++)&&_e.next(Ge)))})}},980:(Rn,at,x)=>{"use strict";x.d(at,{j:()=>h});var c=x(9974);function h(L){return(0,c.N)((ve,X)=>{try{ve.subscribe(X)}finally{X.add(L)}})}},1594:(Rn,at,x)=>{"use strict";x.d(at,{$:()=>_e});var c=x(9350),h=x(5964),L=x(6697),ve=x(9901),X=x(3774),ee=x(3669);function _e(Me,Ge){const Pe=arguments.length>=2;return ye=>ye.pipe(Me?(0,h.p)((ze,qe)=>Me(ze,qe,ye)):ee.D,(0,L.s)(1),Pe?(0,ve.U)(Ge):(0,X.v)(()=>new c.G))}},6354:(Rn,at,x)=>{"use strict";x.d(at,{T:()=>L});var c=x(9974),h=x(4360);function L(ve,X){return(0,c.N)((ee,_e)=>{let Me=0;ee.subscribe((0,h._)(_e,Ge=>{_e.next(ve.call(X,Ge,Me++))}))})}},6365:(Rn,at,x)=>{"use strict";x.d(at,{U:()=>L});var c=x(1397),h=x(3669);function L(ve=1/0){return(0,c.Z)(h.D,ve)}},1397:(Rn,at,x)=>{"use strict";x.d(at,{Z:()=>Me});var c=x(6354),h=x(8750),L=x(9974),ve=x(5225),X=x(4360),_e=x(8071);function Me(Ge,Pe,ye=1/0){return(0,_e.T)(Pe)?Me((ze,qe)=>(0,c.T)((We,ut)=>Pe(ze,We,qe,ut))((0,h.Tg)(Ge(ze,qe))),ye):("number"==typeof Pe&&(ye=Pe),(0,L.N)((ze,qe)=>function ee(Ge,Pe,ye,ze,qe,We,ut,vt){const st=[];let lt=0,xt=0,Tt=!1;const Ie=()=>{Tt&&!st.length&&!lt&&Pe.complete()},Te=Qe=>lt<ze?Ne(Qe):st.push(Qe),Ne=Qe=>{We&&Pe.next(Qe),lt++;let rt=!1;(0,h.Tg)(ye(Qe,xt++)).subscribe((0,X._)(Pe,Ft=>{null==qe||qe(Ft),We?Te(Ft):Pe.next(Ft)},()=>{rt=!0},void 0,()=>{if(rt)try{for(lt--;st.length&&lt<ze;){const Ft=st.shift();ut?(0,ve.N)(Pe,ut,()=>Ne(Ft)):Ne(Ft)}Ie()}catch(Ft){Pe.error(Ft)}}))};return Ge.subscribe((0,X._)(Pe,Te,()=>{Tt=!0,Ie()})),()=>{null==vt||vt()}}(ze,qe,Ge,ye)))}},941:(Rn,at,x)=>{"use strict";x.d(at,{Q:()=>ve});var c=x(5225),h=x(9974),L=x(4360);function ve(X,ee=0){return(0,h.N)((_e,Me)=>{_e.subscribe((0,L._)(Me,Ge=>(0,c.N)(Me,X,()=>Me.next(Ge),ee),()=>(0,c.N)(Me,X,()=>Me.complete(),ee),Ge=>(0,c.N)(Me,X,()=>Me.error(Ge),ee)))})}},2816:(Rn,at,x)=>{"use strict";x.d(at,{S:()=>ve});var c=x(9974),h=x(4360);function ve(X,ee){return(0,c.N)(function L(X,ee,_e,Me,Ge){return(Pe,ye)=>{let ze=_e,qe=ee,We=0;Pe.subscribe((0,h._)(ye,ut=>{const vt=We++;qe=ze?X(qe,ut,vt):(ze=!0,ut),Me&&ye.next(qe)},Ge&&(()=>{ze&&ye.next(qe),ye.complete()})))}}(X,ee,arguments.length>=2,!0))}},9172:(Rn,at,x)=>{"use strict";x.d(at,{Z:()=>ve});var c=x(8793),h=x(3794),L=x(9974);function ve(...X){const ee=(0,h.lI)(X);return(0,L.N)((_e,Me)=>{(ee?(0,c.x)(X,_e,ee):(0,c.x)(X,_e)).subscribe(Me)})}},6745:(Rn,at,x)=>{"use strict";x.d(at,{_:()=>h});var c=x(9974);function h(L,ve=0){return(0,c.N)((X,ee)=>{ee.add(L.schedule(()=>X.subscribe(ee),ve))})}},5558:(Rn,at,x)=>{"use strict";x.d(at,{n:()=>ve});var c=x(8750),h=x(9974),L=x(4360);function ve(X,ee){return(0,h.N)((_e,Me)=>{let Ge=null,Pe=0,ye=!1;const ze=()=>ye&&!Ge&&Me.complete();_e.subscribe((0,L._)(Me,qe=>{null==Ge||Ge.unsubscribe();let We=0;const ut=Pe++;(0,c.Tg)(X(qe,ut)).subscribe(Ge=(0,L._)(Me,vt=>Me.next(ee?ee(qe,vt,ut,We++):vt),()=>{Ge=null,ze()}))},()=>{ye=!0,ze()}))})}},6697:(Rn,at,x)=>{"use strict";x.d(at,{s:()=>ve});var c=x(983),h=x(9974),L=x(4360);function ve(X){return X<=0?()=>c.w:(0,h.N)((ee,_e)=>{let Me=0;ee.subscribe((0,L._)(_e,Ge=>{++Me<=X&&(_e.next(Ge),X<=Me&&_e.complete())}))})}},8141:(Rn,at,x)=>{"use strict";x.d(at,{M:()=>X});var c=x(8071),h=x(9974),L=x(4360),ve=x(3669);function X(ee,_e,Me){const Ge=(0,c.T)(ee)||_e||Me?{next:ee,error:_e,complete:Me}:ee;return Ge?(0,h.N)((Pe,ye)=>{var ze;null===(ze=Ge.subscribe)||void 0===ze||ze.call(Ge);let qe=!0;Pe.subscribe((0,L._)(ye,We=>{var ut;null===(ut=Ge.next)||void 0===ut||ut.call(Ge,We),ye.next(We)},()=>{var We;qe=!1,null===(We=Ge.complete)||void 0===We||We.call(Ge),ye.complete()},We=>{var ut;qe=!1,null===(ut=Ge.error)||void 0===ut||ut.call(Ge,We),ye.error(We)},()=>{var We,ut;qe&&(null===(We=Ge.unsubscribe)||void 0===We||We.call(Ge)),null===(ut=Ge.finalize)||void 0===ut||ut.call(Ge)}))}):ve.D}},3774:(Rn,at,x)=>{"use strict";x.d(at,{v:()=>ve});var c=x(9350),h=x(9974),L=x(4360);function ve(ee=X){return(0,h.N)((_e,Me)=>{let Ge=!1;_e.subscribe((0,L._)(Me,Pe=>{Ge=!0,Me.next(Pe)},()=>Ge?Me.complete():Me.error(ee())))})}function X(){return new c.G}},6780:(Rn,at,x)=>{"use strict";x.d(at,{R:()=>X});var c=x(8359);class h extends c.yU{constructor(_e,Me){super()}schedule(_e,Me=0){return this}}const L={setInterval(ee,_e,...Me){const{delegate:Ge}=L;return null!=Ge&&Ge.setInterval?Ge.setInterval(ee,_e,...Me):setInterval(ee,_e,...Me)},clearInterval(ee){const{delegate:_e}=L;return((null==_e?void 0:_e.clearInterval)||clearInterval)(ee)},delegate:void 0};var ve=x(7908);class X extends h{constructor(_e,Me){super(_e,Me),this.scheduler=_e,this.work=Me,this.pending=!1}schedule(_e,Me=0){var Ge;if(this.closed)return this;this.state=_e;const Pe=this.id,ye=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(ye,Pe,Me)),this.pending=!0,this.delay=Me,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(ye,this.id,Me),this}requestAsyncId(_e,Me,Ge=0){return L.setInterval(_e.flush.bind(_e,this),Ge)}recycleAsyncId(_e,Me,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return Me;null!=Me&&L.clearInterval(Me)}execute(_e,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(_e,Me);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Me){let Pe,Ge=!1;try{this.work(_e)}catch(ye){Ge=!0,Pe=ye||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),Pe}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Me}=this,{actions:Ge}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.o)(Ge,this),null!=_e&&(this.id=this.recycleAsyncId(Me,_e,null)),this.delay=null,super.unsubscribe()}}}},9687:(Rn,at,x)=>{"use strict";x.d(at,{q:()=>L});var c=x(6129);class h{constructor(X,ee=h.now){this.schedulerActionCtor=X,this.now=ee}schedule(X,ee=0,_e){return new this.schedulerActionCtor(this,X).schedule(_e,ee)}}h.now=c.U.now;class L extends h{constructor(X,ee=h.now){super(X,ee),this.actions=[],this._active=!1}flush(X){const{actions:ee}=this;if(this._active)return void ee.push(X);let _e;this._active=!0;do{if(_e=X.execute(X.state,X.delay))break}while(X=ee.shift());if(this._active=!1,_e){for(;X=ee.shift();)X.unsubscribe();throw _e}}}},3236:(Rn,at,x)=>{"use strict";x.d(at,{E:()=>L});var c=x(6780);const L=new(x(9687).q)(c.R)},6129:(Rn,at,x)=>{"use strict";x.d(at,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(Rn,at,x)=>{"use strict";x.d(at,{f:()=>c});const c={setTimeout(h,L,...ve){const{delegate:X}=c;return null!=X&&X.setTimeout?X.setTimeout(h,L,...ve):setTimeout(h,L,...ve)},clearTimeout(h){const{delegate:L}=c;return((null==L?void 0:L.clearTimeout)||clearTimeout)(h)},delegate:void 0}},4761:(Rn,at,x)=>{"use strict";x.d(at,{l:()=>h});const h=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Rn,at,x)=>{"use strict";x.d(at,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Rn,at,x)=>{"use strict";x.d(at,{G:()=>h});const h=(0,x(1853).L)(L=>function(){L(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Rn,at,x)=>{"use strict";x.d(at,{R0:()=>ee,ms:()=>ve,lI:()=>X});var c=x(8071);function L(_e){return _e[_e.length-1]}function ve(_e){return(0,c.T)(L(_e))?_e.pop():void 0}function X(_e){return function h(_e){return _e&&(0,c.T)(_e.schedule)}(L(_e))?_e.pop():void 0}function ee(_e,Me){return"number"==typeof L(_e)?_e.pop():Me}},3073:(Rn,at,x)=>{"use strict";x.d(at,{D:()=>X});const{isArray:c}=Array,{getPrototypeOf:h,prototype:L,keys:ve}=Object;function X(_e){if(1===_e.length){const Me=_e[0];if(c(Me))return{args:Me,keys:null};if(function ee(_e){return _e&&"object"==typeof _e&&h(_e)===L}(Me)){const Ge=ve(Me);return{args:Ge.map(Pe=>Me[Pe]),keys:Ge}}}return{args:_e,keys:null}}},7908:(Rn,at,x)=>{"use strict";function c(h,L){if(h){const ve=h.indexOf(L);0<=ve&&h.splice(ve,1)}}x.d(at,{o:()=>c})},1853:(Rn,at,x)=>{"use strict";function c(h){const ve=h(X=>{Error.call(X),X.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}x.d(at,{L:()=>c})},8496:(Rn,at,x)=>{"use strict";function c(h,L){return h.reduce((ve,X,ee)=>(ve[X]=L[ee],ve),{})}x.d(at,{e:()=>c})},9786:(Rn,at,x)=>{"use strict";x.d(at,{Y:()=>L,l:()=>ve});var c=x(1026);let h=null;function L(X){if(c.$.useDeprecatedSynchronousErrorHandling){const ee=!h;if(ee&&(h={errorThrown:!1,error:null}),X(),ee){const{errorThrown:_e,error:Me}=h;if(h=null,_e)throw Me}}else X()}function ve(X){c.$.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=X)}},5225:(Rn,at,x)=>{"use strict";function c(h,L,ve,X=0,ee=!1){const _e=L.schedule(function(){ve(),ee?h.add(this.schedule(null,X)):this.unsubscribe()},X);if(h.add(_e),!ee)return _e}x.d(at,{N:()=>c})},3669:(Rn,at,x)=>{"use strict";function c(h){return h}x.d(at,{D:()=>c})},7441:(Rn,at,x)=>{"use strict";x.d(at,{X:()=>c});const c=h=>h&&"number"==typeof h.length&&"function"!=typeof h},7953:(Rn,at,x)=>{"use strict";x.d(at,{T:()=>h});var c=x(8071);function h(L){return Symbol.asyncIterator&&(0,c.T)(null==L?void 0:L[Symbol.asyncIterator])}},8071:(Rn,at,x)=>{"use strict";function c(h){return"function"==typeof h}x.d(at,{T:()=>c})},5055:(Rn,at,x)=>{"use strict";x.d(at,{l:()=>L});var c=x(3494),h=x(8071);function L(ve){return(0,h.T)(ve[c.s])}},5397:(Rn,at,x)=>{"use strict";x.d(at,{x:()=>L});var c=x(4761),h=x(8071);function L(ve){return(0,h.T)(null==ve?void 0:ve[c.l])}},9858:(Rn,at,x)=>{"use strict";x.d(at,{y:()=>h});var c=x(8071);function h(L){return(0,c.T)(null==L?void 0:L.then)}},5196:(Rn,at,x)=>{"use strict";x.d(at,{C:()=>L,U:()=>ve});var c=x(1635),h=x(8071);function L(X){return(0,c.AQ)(this,arguments,function*(){const _e=X.getReader();try{for(;;){const{value:Me,done:Ge}=yield(0,c.N3)(_e.read());if(Ge)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Me)}}finally{_e.releaseLock()}})}function ve(X){return(0,h.T)(null==X?void 0:X.getReader)}},9974:(Rn,at,x)=>{"use strict";x.d(at,{N:()=>L,S:()=>h});var c=x(8071);function h(ve){return(0,c.T)(null==ve?void 0:ve.lift)}function L(ve){return X=>{if(h(X))return X.lift(function(ee){try{return ve(ee,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Rn,at,x)=>{"use strict";x.d(at,{I:()=>ve});var c=x(6354);const{isArray:h}=Array;function ve(X){return(0,c.T)(ee=>function L(X,ee){return h(ee)?X(...ee):X(ee)}(X,ee))}},5343:(Rn,at,x)=>{"use strict";function c(){}x.d(at,{l:()=>c})},1203:(Rn,at,x)=>{"use strict";x.d(at,{F:()=>h,m:()=>L});var c=x(3669);function h(...ve){return L(ve)}function L(ve){return 0===ve.length?c.D:1===ve.length?ve[0]:function(ee){return ve.reduce((_e,Me)=>Me(_e),ee)}}},5334:(Rn,at,x)=>{"use strict";x.d(at,{m:()=>L});var c=x(1026),h=x(9270);function L(ve){h.f.setTimeout(()=>{const{onUnhandledError:X}=c.$;if(!X)throw ve;X(ve)})}},591:(Rn,at,x)=>{"use strict";function c(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(at,{L:()=>c})},8996:(Rn,at,x)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function h(L){if(!x.o(c,L))return Promise.resolve().then(()=>{var ee=new Error("Cannot find module '"+L+"'");throw ee.code="MODULE_NOT_FOUND",ee});var ve=c[L],X=ve[0];return Promise.all(ve.slice(1).map(x.e)).then(()=>x(X))}h.keys=()=>Object.keys(c),h.id=8996,Rn.exports=h},9293:Rn=>{function at(c,h,L,ve,X,ee,_e){try{var Me=c[ee](_e),Ge=Me.value}catch(Pe){return void L(Pe)}Me.done?h(Ge):Promise.resolve(Ge).then(ve,X)}Rn.exports=function x(c){return function(){var h=this,L=arguments;return new Promise(function(ve,X){var ee=c.apply(h,L);function _e(Ge){at(ee,ve,X,_e,Me,"next",Ge)}function Me(Ge){at(ee,ve,X,_e,Me,"throw",Ge)}_e(void 0)})}},Rn.exports.__esModule=!0,Rn.exports.default=Rn.exports},177:(Rn,at,x)=>{"use strict";x.d(at,{AJ:()=>dn,MD:()=>It,N0:()=>yi,QT:()=>L,Sm:()=>vt,Sq:()=>pt,T3:()=>zr,VF:()=>X,Vy:()=>pn,Xr:()=>Xn,ZD:()=>ve,_b:()=>se,aZ:()=>lt,bT:()=>In,fw:()=>st,hb:()=>We,hj:()=>Ge,qQ:()=>_e,vh:()=>Ui});var c=x(4438);let h=null;function L(){return h}function ve(w){var W;null!==(W=h)&&void 0!==W||(h=w)}class X{}const _e=new c.nKC("");let Me=(()=>{var w;class W{historyGo(z){throw new Error("")}}return(w=W).\u0275fac=function(z){return new(z||w)},w.\u0275prov=c.jDH({token:w,factory:()=>(0,c.WQX)(Pe),providedIn:"platform"}),W})();const Ge=new c.nKC("");let Pe=(()=>{var w;class W extends Me{constructor(){super(),this._doc=(0,c.WQX)(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(z){const ge=L().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("popstate",z,!1),()=>ge.removeEventListener("popstate",z)}onHashChange(z){const ge=L().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("hashchange",z,!1),()=>ge.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,ge,et){this._history.pushState(z,ge,et)}replaceState(z,ge,et){this._history.replaceState(z,ge,et)}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return(w=W).\u0275fac=function(z){return new(z||w)},w.\u0275prov=c.jDH({token:w,factory:()=>new w,providedIn:"platform"}),W})();function ye(w,W){if(0==w.length)return W;if(0==W.length)return w;let je=0;return w.endsWith("/")&&je++,W.startsWith("/")&&je++,2==je?w+W.substring(1):1==je?w+W:w+"/"+W}function ze(w){const W=w.match(/#|\?|$/),je=W&&W.index||w.length;return w.slice(0,je-("/"===w[je-1]?1:0))+w.slice(je)}function qe(w){return w&&"?"!==w[0]?"?"+w:w}let We=(()=>{var w;class W{historyGo(z){throw new Error("")}}return(w=W).\u0275fac=function(z){return new(z||w)},w.\u0275prov=c.jDH({token:w,factory:()=>(0,c.WQX)(vt),providedIn:"root"}),W})();const ut=new c.nKC("");let vt=(()=>{var w;class W extends We{constructor(z,ge){var et,an,kn;super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=null!==(et=null!==(an=null!=ge?ge:this._platformLocation.getBaseHrefFromDOM())&&void 0!==an?an:null===(kn=(0,c.WQX)(_e).location)||void 0===kn?void 0:kn.origin)&&void 0!==et?et:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return ye(this._baseHref,z)}path(z=!1){const ge=this._platformLocation.pathname+qe(this._platformLocation.search),et=this._platformLocation.hash;return et&&z?`${ge}${et}`:ge}pushState(z,ge,et,an){const kn=this.prepareExternalUrl(et+qe(an));this._platformLocation.pushState(z,ge,kn)}replaceState(z,ge,et,an){const kn=this.prepareExternalUrl(et+qe(an));this._platformLocation.replaceState(z,ge,kn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){var ge,et;null===(ge=(et=this._platformLocation).historyGo)||void 0===ge||ge.call(et,z)}}return(w=W).\u0275fac=function(z){return new(z||w)(c.KVO(Me),c.KVO(ut,8))},w.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"}),W})(),st=(()=>{var w;class W extends We{constructor(z,ge){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=ge&&(this._baseHref=ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){var ge;const et=null!==(ge=this._platformLocation.hash)&&void 0!==ge?ge:"#";return et.length>0?et.substring(1):et}prepareExternalUrl(z){const ge=ye(this._baseHref,z);return ge.length>0?"#"+ge:ge}pushState(z,ge,et,an){let kn=this.prepareExternalUrl(et+qe(an));0==kn.length&&(kn=this._platformLocation.pathname),this._platformLocation.pushState(z,ge,kn)}replaceState(z,ge,et,an){let kn=this.prepareExternalUrl(et+qe(an));0==kn.length&&(kn=this._platformLocation.pathname),this._platformLocation.replaceState(z,ge,kn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){var ge,et;null===(ge=(et=this._platformLocation).historyGo)||void 0===ge||ge.call(et,z)}}return(w=W).\u0275fac=function(z){return new(z||w)(c.KVO(Me),c.KVO(ut,8))},w.\u0275prov=c.jDH({token:w,factory:w.\u0275fac}),W})(),lt=(()=>{var w;class W{constructor(z){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const ge=this._locationStrategy.getBaseHref();this._basePath=function Te(w){if(new RegExp("^(https?:)?//").test(w)){const[,je]=w.split(/\/\/[^\/]+/);return je}return w}(ze(Ie(ge))),this._locationStrategy.onPopState(et=>{this._subject.emit({url:this.path(!0),pop:!0,state:et.state,type:et.type})})}ngOnDestroy(){var z;null===(z=this._urlChangeSubscription)||void 0===z||z.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,ge=""){return this.path()==this.normalize(z+qe(ge))}normalize(z){return W.stripTrailingSlash(function Tt(w,W){if(!w||!W.startsWith(w))return W;const je=W.substring(w.length);return""===je||["/",";","?","#"].includes(je[0])?je:W}(this._basePath,Ie(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,ge="",et=null){this._locationStrategy.pushState(et,"",z,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+qe(ge)),et)}replaceState(z,ge="",et=null){this._locationStrategy.replaceState(et,"",z,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+qe(ge)),et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){var ge,et;null===(ge=(et=this._locationStrategy).historyGo)||void 0===ge||ge.call(et,z)}onUrlChange(z){var ge;return this._urlChangeListeners.push(z),null!==(ge=this._urlChangeSubscription)&&void 0!==ge||(this._urlChangeSubscription=this.subscribe(et=>{this._notifyUrlChangeListeners(et.url,et.state)})),()=>{const et=this._urlChangeListeners.indexOf(z);var an;this._urlChangeListeners.splice(et,1),0===this._urlChangeListeners.length&&(null===(an=this._urlChangeSubscription)||void 0===an||an.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",ge){this._urlChangeListeners.forEach(et=>et(z,ge))}subscribe(z,ge,et){return this._subject.subscribe({next:z,error:ge,complete:et})}}return(w=W).normalizeQueryParams=qe,w.joinWithSlash=ye,w.stripTrailingSlash=ze,w.\u0275fac=function(z){return new(z||w)(c.KVO(We))},w.\u0275prov=c.jDH({token:w,factory:()=>function xt(){return new lt((0,c.KVO)(We))}(),providedIn:"root"}),W})();function Ie(w){return w.replace(/\/index.html$/,"")}var Ft=function(w){return w[w.Format=0]="Format",w[w.Standalone=1]="Standalone",w}(Ft||{}),Se=function(w){return w[w.Narrow=0]="Narrow",w[w.Abbreviated=1]="Abbreviated",w[w.Wide=2]="Wide",w[w.Short=3]="Short",w}(Se||{}),gt=function(w){return w[w.Short=0]="Short",w[w.Medium=1]="Medium",w[w.Long=2]="Long",w[w.Full=3]="Full",w}(gt||{});const Vt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function de(w,W){return Dt((0,c.H5H)(w)[c.KH2.DateFormat],W)}function Be(w,W){return Dt((0,c.H5H)(w)[c.KH2.TimeFormat],W)}function nt(w,W){return Dt((0,c.H5H)(w)[c.KH2.DateTimeFormat],W)}function At(w,W){const je=(0,c.H5H)(w),z=je[c.KH2.NumberSymbols][W];if(typeof z>"u"){if(W===Vt.CurrencyDecimal)return je[c.KH2.NumberSymbols][Vt.Decimal];if(W===Vt.CurrencyGroup)return je[c.KH2.NumberSymbols][Vt.Group]}return z}function Mn(w){if(!w[c.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${w[c.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dt(w,W){for(let je=W;je>-1;je--)if(typeof w[je]<"u")return w[je];throw new Error("Locale data API: locale data undefined")}function vn(w){const[W,je]=w.split(":");return{hours:+W,minutes:+je}}const cn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qt={},or=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ir=function(w){return w[w.Short=0]="Short",w[w.ShortGMT=1]="ShortGMT",w[w.Long=2]="Long",w[w.Extended=3]="Extended",w}(ir||{}),Un=function(w){return w[w.FullYear=0]="FullYear",w[w.Month=1]="Month",w[w.Date=2]="Date",w[w.Hours=3]="Hours",w[w.Minutes=4]="Minutes",w[w.Seconds=5]="Seconds",w[w.FractionalSeconds=6]="FractionalSeconds",w[w.Day=7]="Day",w}(Un||{}),zn=function(w){return w[w.DayPeriods=0]="DayPeriods",w[w.Days=1]="Days",w[w.Months=2]="Months",w[w.Eras=3]="Eras",w}(zn||{});function Er(w,W,je,z){let ge=function oe(w){if(le(w))return w;if("number"==typeof w&&!isNaN(w))return new Date(w);if("string"==typeof w){if(w=w.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(w)){const[ge,et=1,an=1]=w.split("-").map(kn=>+kn);return _r(ge,et-1,an)}const je=parseFloat(w);if(!isNaN(w-je))return new Date(je);let z;if(z=w.match(cn))return function Q(w){const W=new Date(0);let je=0,z=0;const ge=w[8]?W.setUTCFullYear:W.setFullYear,et=w[8]?W.setUTCHours:W.setHours;w[9]&&(je=Number(w[9]+w[10]),z=Number(w[9]+w[11])),ge.call(W,Number(w[1]),Number(w[2])-1,Number(w[3]));const an=Number(w[4]||0)-je,kn=Number(w[5]||0)-z,Or=Number(w[6]||0),di=Math.floor(1e3*parseFloat("0."+(w[7]||0)));return et.call(W,an,kn,Or,di),W}(z)}const W=new Date(w);if(!le(W))throw new Error(`Unable to convert "${w}" into a date`);return W}(w);W=cr(je,W)||W;let kn,an=[];for(;W;){if(kn=or.exec(W),!kn){an.push(W);break}{an=an.concat(kn.slice(1));const Ei=an.pop();if(!Ei)break;W=Ei}}let Or=ge.getTimezoneOffset();z&&(Or=_t(z,Or),ge=function _n(w,W,je){const z=je?-1:1,ge=w.getTimezoneOffset();return function Et(w,W){return(w=new Date(w.getTime())).setMinutes(w.getMinutes()+W),w}(w,z*(_t(W,ge)-ge))}(ge,z,!0));let di="";return an.forEach(Ei=>{const si=function Yt(w){if(Ct[w])return Ct[w];let W;switch(w){case"G":case"GG":case"GGG":W=Jn(zn.Eras,Se.Abbreviated);break;case"GGGG":W=Jn(zn.Eras,Se.Wide);break;case"GGGGG":W=Jn(zn.Eras,Se.Narrow);break;case"y":W=jn(Un.FullYear,1,0,!1,!0);break;case"yy":W=jn(Un.FullYear,2,0,!0,!0);break;case"yyy":W=jn(Un.FullYear,3,0,!1,!0);break;case"yyyy":W=jn(Un.FullYear,4,0,!1,!0);break;case"Y":W=Gt(1);break;case"YY":W=Gt(2,!0);break;case"YYY":W=Gt(3);break;case"YYYY":W=Gt(4);break;case"M":case"L":W=jn(Un.Month,1,1);break;case"MM":case"LL":W=jn(Un.Month,2,1);break;case"MMM":W=Jn(zn.Months,Se.Abbreviated);break;case"MMMM":W=Jn(zn.Months,Se.Wide);break;case"MMMMM":W=Jn(zn.Months,Se.Narrow);break;case"LLL":W=Jn(zn.Months,Se.Abbreviated,Ft.Standalone);break;case"LLLL":W=Jn(zn.Months,Se.Wide,Ft.Standalone);break;case"LLLLL":W=Jn(zn.Months,Se.Narrow,Ft.Standalone);break;case"w":W=Cn(1);break;case"ww":W=Cn(2);break;case"W":W=Cn(1,!0);break;case"d":W=jn(Un.Date,1);break;case"dd":W=jn(Un.Date,2);break;case"c":case"cc":W=jn(Un.Day,1);break;case"ccc":W=Jn(zn.Days,Se.Abbreviated,Ft.Standalone);break;case"cccc":W=Jn(zn.Days,Se.Wide,Ft.Standalone);break;case"ccccc":W=Jn(zn.Days,Se.Narrow,Ft.Standalone);break;case"cccccc":W=Jn(zn.Days,Se.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":W=Jn(zn.Days,Se.Abbreviated);break;case"EEEE":W=Jn(zn.Days,Se.Wide);break;case"EEEEE":W=Jn(zn.Days,Se.Narrow);break;case"EEEEEE":W=Jn(zn.Days,Se.Short);break;case"a":case"aa":case"aaa":W=Jn(zn.DayPeriods,Se.Abbreviated);break;case"aaaa":W=Jn(zn.DayPeriods,Se.Wide);break;case"aaaaa":W=Jn(zn.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":W=Jn(zn.DayPeriods,Se.Abbreviated,Ft.Standalone,!0);break;case"bbbb":W=Jn(zn.DayPeriods,Se.Wide,Ft.Standalone,!0);break;case"bbbbb":W=Jn(zn.DayPeriods,Se.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":W=Jn(zn.DayPeriods,Se.Abbreviated,Ft.Format,!0);break;case"BBBB":W=Jn(zn.DayPeriods,Se.Wide,Ft.Format,!0);break;case"BBBBB":W=Jn(zn.DayPeriods,Se.Narrow,Ft.Format,!0);break;case"h":W=jn(Un.Hours,1,-12);break;case"hh":W=jn(Un.Hours,2,-12);break;case"H":W=jn(Un.Hours,1);break;case"HH":W=jn(Un.Hours,2);break;case"m":W=jn(Un.Minutes,1);break;case"mm":W=jn(Un.Minutes,2);break;case"s":W=jn(Un.Seconds,1);break;case"ss":W=jn(Un.Seconds,2);break;case"S":W=jn(Un.FractionalSeconds,1);break;case"SS":W=jn(Un.FractionalSeconds,2);break;case"SSS":W=jn(Un.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=On(ir.Short);break;case"ZZZZZ":W=On(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=On(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=On(ir.Long);break;default:return null}return Ct[w]=W,W}(Ei);di+=si?si(ge,je,Or):"''"===Ei?"'":Ei.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),di}function _r(w,W,je){const z=new Date(0);return z.setFullYear(w,W,je),z.setHours(0,0,0),z}function cr(w,W){var je;const z=function Tn(w){return(0,c.H5H)(w)[c.KH2.LocaleId]}(w);if(null!==(je=qt[z])&&void 0!==je||(qt[z]={}),qt[z][W])return qt[z][W];let ge="";switch(W){case"shortDate":ge=de(w,gt.Short);break;case"mediumDate":ge=de(w,gt.Medium);break;case"longDate":ge=de(w,gt.Long);break;case"fullDate":ge=de(w,gt.Full);break;case"shortTime":ge=Be(w,gt.Short);break;case"mediumTime":ge=Be(w,gt.Medium);break;case"longTime":ge=Be(w,gt.Long);break;case"fullTime":ge=Be(w,gt.Full);break;case"short":const et=cr(w,"shortTime"),an=cr(w,"shortDate");ge=sr(nt(w,gt.Short),[et,an]);break;case"medium":const kn=cr(w,"mediumTime"),Or=cr(w,"mediumDate");ge=sr(nt(w,gt.Medium),[kn,Or]);break;case"long":const di=cr(w,"longTime"),Ei=cr(w,"longDate");ge=sr(nt(w,gt.Long),[di,Ei]);break;case"full":const si=cr(w,"fullTime"),Oi=cr(w,"fullDate");ge=sr(nt(w,gt.Full),[si,Oi])}return ge&&(qt[z][W]=ge),ge}function sr(w,W){return W&&(w=w.replace(/\{([^}]+)}/g,function(je,z){return null!=W&&z in W?W[z]:je})),w}function Kr(w,W,je="-",z,ge){let et="";(w<0||ge&&w<=0)&&(ge?w=1-w:(w=-w,et=je));let an=String(w);for(;an.length<W;)an="0"+an;return z&&(an=an.slice(an.length-W)),et+an}function jn(w,W,je=0,z=!1,ge=!1){return function(et,an){let kn=function Mr(w,W){switch(w){case Un.FullYear:return W.getFullYear();case Un.Month:return W.getMonth();case Un.Date:return W.getDate();case Un.Hours:return W.getHours();case Un.Minutes:return W.getMinutes();case Un.Seconds:return W.getSeconds();case Un.FractionalSeconds:return W.getMilliseconds();case Un.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${w}".`)}}(w,et);if((je>0||kn>-je)&&(kn+=je),w===Un.Hours)0===kn&&-12===je&&(kn=12);else if(w===Un.FractionalSeconds)return function hi(w,W){return Kr(w,3).substring(0,W)}(kn,W);const Or=At(an,Vt.MinusSign);return Kr(kn,W,Or,z,ge)}}function Jn(w,W,je=Ft.Format,z=!1){return function(ge,et){return function Tr(w,W,je,z,ge,et){switch(je){case zn.Months:return function Wt(w,W,je){const z=(0,c.H5H)(w),et=Dt([z[c.KH2.MonthsFormat],z[c.KH2.MonthsStandalone]],W);return Dt(et,je)}(W,ge,z)[w.getMonth()];case zn.Days:return function qn(w,W,je){const z=(0,c.H5H)(w),et=Dt([z[c.KH2.DaysFormat],z[c.KH2.DaysStandalone]],W);return Dt(et,je)}(W,ge,z)[w.getDay()];case zn.DayPeriods:const an=w.getHours(),kn=w.getMinutes();if(et){const di=function en(w){const W=(0,c.H5H)(w);return Mn(W),(W[c.KH2.ExtraData][2]||[]).map(z=>"string"==typeof z?vn(z):[vn(z[0]),vn(z[1])])}(W),Ei=function bn(w,W,je){const z=(0,c.H5H)(w);Mn(z);const et=Dt([z[c.KH2.ExtraData][0],z[c.KH2.ExtraData][1]],W)||[];return Dt(et,je)||[]}(W,ge,z),si=di.findIndex(Oi=>{if(Array.isArray(Oi)){const[fi,qi]=Oi,$i=an>=fi.hours&&kn>=fi.minutes,vi=an<qi.hours||an===qi.hours&&kn<qi.minutes;if(fi.hours<qi.hours){if($i&&vi)return!0}else if($i||vi)return!0}else if(Oi.hours===an&&Oi.minutes===kn)return!0;return!1});if(-1!==si)return Ei[si]}return function gn(w,W,je){const z=(0,c.H5H)(w),et=Dt([z[c.KH2.DayPeriodsFormat],z[c.KH2.DayPeriodsStandalone]],W);return Dt(et,je)}(W,ge,z)[an<12?0:1];case zn.Eras:return function Le(w,W){return Dt((0,c.H5H)(w)[c.KH2.Eras],W)}(W,z)[w.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${je}`)}}(ge,et,w,W,je,z)}}function On(w){return function(W,je,z){const ge=-1*z,et=At(je,Vt.MinusSign),an=ge>0?Math.floor(ge/60):Math.ceil(ge/60);switch(w){case ir.Short:return(ge>=0?"+":"")+Kr(an,2,et)+Kr(Math.abs(ge%60),2,et);case ir.ShortGMT:return"GMT"+(ge>=0?"+":"")+Kr(an,1,et);case ir.Long:return"GMT"+(ge>=0?"+":"")+Kr(an,2,et)+":"+Kr(Math.abs(ge%60),2,et);case ir.Extended:return 0===z?"Z":(ge>=0?"+":"")+Kr(an,2,et)+":"+Kr(Math.abs(ge%60),2,et);default:throw new Error(`Unknown zone width "${w}"`)}}}const Pi=0,Qn=4;function Ar(w){const W=w.getDay(),je=0===W?-3:Qn-W;return _r(w.getFullYear(),w.getMonth(),w.getDate()+je)}function Cn(w,W=!1){return function(je,z){let ge;if(W){const et=new Date(je.getFullYear(),je.getMonth(),1).getDay()-1,an=je.getDate();ge=1+Math.floor((an+et)/7)}else{const et=Ar(je),an=function lr(w){const W=_r(w,Pi,1).getDay();return _r(w,0,1+(W<=Qn?Qn:Qn+7)-W)}(et.getFullYear()),kn=et.getTime()-an.getTime();ge=1+Math.round(kn/6048e5)}return Kr(ge,w,At(z,Vt.MinusSign))}}function Gt(w,W=!1){return function(je,z){return Kr(Ar(je).getFullYear(),w,At(z,Vt.MinusSign),W)}}const Ct={};function _t(w,W){w=w.replace(/:/g,"");const je=Date.parse("Jan 01, 1970 00:00:00 "+w)/6e4;return isNaN(je)?W:je}function le(w){return w instanceof Date&&!isNaN(w.valueOf())}function se(w,W){W=encodeURIComponent(W);for(const je of w.split(";")){const z=je.indexOf("="),[ge,et]=-1==z?[je,""]:[je.slice(0,z),je.slice(z+1)];if(ge.trim()===W)return decodeURIComponent(et)}return null}class $e{constructor(W,je,z,ge){this.$implicit=W,this.ngForOf=je,this.index=z,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pt=(()=>{var w;class W{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,ge,et){this._viewContainer=z,this._template=ge,this._differs=et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const ge=this._viewContainer;z.forEachOperation((et,an,kn)=>{if(null==et.previousIndex)ge.createEmbeddedView(this._template,new $e(et.item,this._ngForOf,-1,-1),null===kn?void 0:kn);else if(null==kn)ge.remove(null===an?void 0:an);else if(null!==an){const Or=ge.get(an);ge.move(Or,kn),St(Or,et)}});for(let et=0,an=ge.length;et<an;et++){const Or=ge.get(et).context;Or.index=et,Or.count=an,Or.ngForOf=this._ngForOf}z.forEachIdentityChange(et=>{St(ge.get(et.currentIndex),et)})}static ngTemplateContextGuard(z,ge){return!0}}return(w=W).\u0275fac=function(z){return new(z||w)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},w.\u0275dir=c.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),W})();function St(w,W){w.context.$implicit=W.item}let In=(()=>{var w;class W{constructor(z,ge){this._viewContainer=z,this._context=new Bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ge}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){Gn("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){Gn("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,ge){return!0}}return(w=W).\u0275fac=function(z){return new(z||w)(c.rXU(c.c1b),c.rXU(c.C4Q))},w.\u0275dir=c.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),W})();class Bn{constructor(){this.$implicit=null,this.ngIf=null}}function Gn(w,W){if(W&&!W.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,c.Tbb)(W)}'.`)}let zr=(()=>{var w;class W{constructor(z){this._viewContainerRef=z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(z){if(this._shouldRecreateView(z)){var ge;const et=this._viewContainerRef;if(this._viewRef&&et.remove(et.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const an=this._createContextForwardProxy();this._viewRef=et.createEmbeddedView(this.ngTemplateOutlet,an,{injector:null!==(ge=this.ngTemplateOutletInjector)&&void 0!==ge?ge:void 0})}}_shouldRecreateView(z){return!!z.ngTemplateOutlet||!!z.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(z,ge,et)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ge,et),get:(z,ge,et)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ge,et)}})}}return(w=W).\u0275fac=function(z){return new(z||w)(c.rXU(c.c1b))},w.\u0275dir=c.FsC({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),W})();const Mo=new c.nKC(""),ii=new c.nKC("");let Ui=(()=>{var w;class W{constructor(z,ge,et){this.locale=z,this.defaultTimezone=ge,this.defaultOptions=et}transform(z,ge,et,an){if(null==z||""===z||z!=z)return null;try{var kn,Or,di,Ei,si;const Oi=null!==(kn=null!=ge?ge:null===(Or=this.defaultOptions)||void 0===Or?void 0:Or.dateFormat)&&void 0!==kn?kn:"mediumDate",fi=null!==(di=null!==(Ei=null!=et?et:null===(si=this.defaultOptions)||void 0===si?void 0:si.timezone)&&void 0!==Ei?Ei:this.defaultTimezone)&&void 0!==di?di:void 0;return Er(z,Oi,an||this.locale,fi)}catch(Oi){throw function Zn(w,W){return new c.wOt(2100,!1)}()}}}return(w=W).\u0275fac=function(z){return new(z||w)(c.rXU(c.xe9,16),c.rXU(Mo,24),c.rXU(ii,24))},w.\u0275pipe=c.EJ8({name:"date",type:w,pure:!0,standalone:!0}),W})(),It=(()=>{var w;class W{}return(w=W).\u0275fac=function(z){return new(z||w)},w.\u0275mod=c.$C({type:w}),w.\u0275inj=c.G2t({}),W})();const dn="browser",Ut="server";function pn(w){return w===Ut}let Xn=(()=>{var w;class W{}return(w=W).\u0275prov=(0,c.jDH)({token:w,providedIn:"root",factory:()=>function sn(w){return w===dn}((0,c.WQX)(c.Agw))?new er((0,c.WQX)(_e),window):new Ur}),W})();class er{constructor(W,je){this.document=W,this.window=je,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(W){this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){const je=function ur(w,W){const je=w.getElementById(W)||w.getElementsByName(W)[0];if(je)return je;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const z=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let ge=z.currentNode;for(;ge;){const et=ge.shadowRoot;if(et){const an=et.getElementById(W)||et.querySelector(`[name="${W}"]`);if(an)return an}ge=z.nextNode()}}return null}(this.document,W);je&&(this.scrollToElement(je),je.focus())}setHistoryScrollRestoration(W){this.window.history.scrollRestoration=W}scrollToElement(W){const je=W.getBoundingClientRect(),z=je.left+this.window.pageXOffset,ge=je.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(z-et[0],ge-et[1])}}class Ur{setOffset(W){}getScrollPosition(){return[0,0]}scrollToPosition(W){}scrollToAnchor(W){}setHistoryScrollRestoration(W){}}class yi{}},1626:(Rn,at,x)=>{"use strict";x.d(at,{Qq:()=>nt,q1:()=>yt});var c=x(467),h=x(4438),L=x(7673),ve=x(1985),X=x(8455),ee=x(274),_e=x(5964),Me=x(6354),Ge=x(980),Pe=x(5558),ye=x(177);class ze{}class qe{}class We{constructor($e){this.normalizedNames=new Map,this.lazyUpdate=null,$e?"string"==typeof $e?this.lazyInit=()=>{this.headers=new Map,$e.split("\n").forEach(pt=>{const St=pt.indexOf(":");if(St>0){const zt=pt.slice(0,St),In=zt.toLowerCase(),Bn=pt.slice(St+1).trim();this.maybeSetNormalizedName(zt,In),this.headers.has(In)?this.headers.get(In).push(Bn):this.headers.set(In,[Bn])}})}:typeof Headers<"u"&&$e instanceof Headers?(this.headers=new Map,$e.forEach((pt,St)=>{this.setHeaderEntries(St,pt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries($e).forEach(([pt,St])=>{this.setHeaderEntries(pt,St)})}:this.headers=new Map}has($e){return this.init(),this.headers.has($e.toLowerCase())}get($e){this.init();const pt=this.headers.get($e.toLowerCase());return pt&&pt.length>0?pt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll($e){return this.init(),this.headers.get($e.toLowerCase())||null}append($e,pt){return this.clone({name:$e,value:pt,op:"a"})}set($e,pt){return this.clone({name:$e,value:pt,op:"s"})}delete($e,pt){return this.clone({name:$e,value:pt,op:"d"})}maybeSetNormalizedName($e,pt){this.normalizedNames.has(pt)||this.normalizedNames.set(pt,$e)}init(){this.lazyInit&&(this.lazyInit instanceof We?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach($e=>this.applyUpdate($e)),this.lazyUpdate=null))}copyFrom($e){$e.init(),Array.from($e.headers.keys()).forEach(pt=>{this.headers.set(pt,$e.headers.get(pt)),this.normalizedNames.set(pt,$e.normalizedNames.get(pt))})}clone($e){const pt=new We;return pt.lazyInit=this.lazyInit&&this.lazyInit instanceof We?this.lazyInit:this,pt.lazyUpdate=(this.lazyUpdate||[]).concat([$e]),pt}applyUpdate($e){const pt=$e.name.toLowerCase();switch($e.op){case"a":case"s":let St=$e.value;if("string"==typeof St&&(St=[St]),0===St.length)return;this.maybeSetNormalizedName($e.name,pt);const zt=("a"===$e.op?this.headers.get(pt):void 0)||[];zt.push(...St),this.headers.set(pt,zt);break;case"d":const In=$e.value;if(In){let Bn=this.headers.get(pt);if(!Bn)return;Bn=Bn.filter(Gn=>-1===In.indexOf(Gn)),0===Bn.length?(this.headers.delete(pt),this.normalizedNames.delete(pt)):this.headers.set(pt,Bn)}else this.headers.delete(pt),this.normalizedNames.delete(pt)}}setHeaderEntries($e,pt){const St=(Array.isArray(pt)?pt:[pt]).map(In=>In.toString()),zt=$e.toLowerCase();this.headers.set(zt,St),this.maybeSetNormalizedName($e,zt)}forEach($e){this.init(),Array.from(this.normalizedNames.keys()).forEach(pt=>$e(this.normalizedNames.get(pt),this.headers.get(pt)))}}class vt{encodeKey($e){return Tt($e)}encodeValue($e){return Tt($e)}decodeKey($e){return decodeURIComponent($e)}decodeValue($e){return decodeURIComponent($e)}}const lt=/%(\d[a-f0-9])/gi,xt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tt(he){return encodeURIComponent(he).replace(lt,($e,pt)=>{var St;return null!==(St=xt[pt])&&void 0!==St?St:$e})}function Ie(he){return`${he}`}class Te{constructor($e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=$e.encoder||new vt,$e.fromString){if($e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function st(he,$e){const pt=new Map;return he.length>0&&he.replace(/^\?/,"").split("&").forEach(zt=>{const In=zt.indexOf("="),[Bn,Gn]=-1==In?[$e.decodeKey(zt),""]:[$e.decodeKey(zt.slice(0,In)),$e.decodeValue(zt.slice(In+1))],fr=pt.get(Bn)||[];fr.push(Gn),pt.set(Bn,fr)}),pt}($e.fromString,this.encoder)}else $e.fromObject?(this.map=new Map,Object.keys($e.fromObject).forEach(pt=>{const St=$e.fromObject[pt],zt=Array.isArray(St)?St.map(Ie):[Ie(St)];this.map.set(pt,zt)})):this.map=null}has($e){return this.init(),this.map.has($e)}get($e){this.init();const pt=this.map.get($e);return pt?pt[0]:null}getAll($e){return this.init(),this.map.get($e)||null}keys(){return this.init(),Array.from(this.map.keys())}append($e,pt){return this.clone({param:$e,value:pt,op:"a"})}appendAll($e){const pt=[];return Object.keys($e).forEach(St=>{const zt=$e[St];Array.isArray(zt)?zt.forEach(In=>{pt.push({param:St,value:In,op:"a"})}):pt.push({param:St,value:zt,op:"a"})}),this.clone(pt)}set($e,pt){return this.clone({param:$e,value:pt,op:"s"})}delete($e,pt){return this.clone({param:$e,value:pt,op:"d"})}toString(){return this.init(),this.keys().map($e=>{const pt=this.encoder.encodeKey($e);return this.map.get($e).map(St=>pt+"="+this.encoder.encodeValue(St)).join("&")}).filter($e=>""!==$e).join("&")}clone($e){const pt=new Te({encoder:this.encoder});return pt.cloneFrom=this.cloneFrom||this,pt.updates=(this.updates||[]).concat($e),pt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach($e=>this.map.set($e,this.cloneFrom.map.get($e))),this.updates.forEach($e=>{switch($e.op){case"a":case"s":const pt=("a"===$e.op?this.map.get($e.param):void 0)||[];pt.push(Ie($e.value)),this.map.set($e.param,pt);break;case"d":if(void 0===$e.value){this.map.delete($e.param);break}{let St=this.map.get($e.param)||[];const zt=St.indexOf(Ie($e.value));-1!==zt&&St.splice(zt,1),St.length>0?this.map.set($e.param,St):this.map.delete($e.param)}}}),this.cloneFrom=this.updates=null)}}class Qe{constructor(){this.map=new Map}set($e,pt){return this.map.set($e,pt),this}get($e){return this.map.has($e)||this.map.set($e,$e.defaultValue()),this.map.get($e)}delete($e){return this.map.delete($e),this}has($e){return this.map.has($e)}keys(){return this.map.keys()}}function Ft(he){return typeof ArrayBuffer<"u"&&he instanceof ArrayBuffer}function Se(he){return typeof Blob<"u"&&he instanceof Blob}function gt(he){return typeof FormData<"u"&&he instanceof FormData}class nn{constructor($e,pt,St,zt){var In,Bn;let Gn;if(this.url=pt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=$e.toUpperCase(),function rt(he){switch(he){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||zt?(this.body=void 0!==St?St:null,Gn=zt):Gn=St,Gn&&(this.reportProgress=!!Gn.reportProgress,this.withCredentials=!!Gn.withCredentials,Gn.responseType&&(this.responseType=Gn.responseType),Gn.headers&&(this.headers=Gn.headers),Gn.context&&(this.context=Gn.context),Gn.params&&(this.params=Gn.params),this.transferCache=Gn.transferCache),null!==(In=this.headers)&&void 0!==In||(this.headers=new We),null!==(Bn=this.context)&&void 0!==Bn||(this.context=new Qe),this.params){const fr=this.params.toString();if(0===fr.length)this.urlWithParams=pt;else{const ar=pt.indexOf("?");this.urlWithParams=pt+(-1===ar?"?":ar<pt.length-1?"&":"")+fr}}else this.params=new Te,this.urlWithParams=pt}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ft(this.body)||Se(this.body)||gt(this.body)||function Vt(he){return typeof URLSearchParams<"u"&&he instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Te?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gt(this.body)?null:Se(this.body)?this.body.type||null:Ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Te?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone($e={}){var pt,St,zt,In;const Bn=$e.method||this.method,Gn=$e.url||this.url,fr=$e.responseType||this.responseType,ar=null!==(pt=$e.transferCache)&&void 0!==pt?pt:this.transferCache,Vr=void 0!==$e.body?$e.body:this.body,Ai=null!==(St=$e.withCredentials)&&void 0!==St?St:this.withCredentials,Fi=null!==(zt=$e.reportProgress)&&void 0!==zt?zt:this.reportProgress;let bi=$e.headers||this.headers,Zr=$e.params||this.params;const _i=null!==(In=$e.context)&&void 0!==In?In:this.context;return void 0!==$e.setHeaders&&(bi=Object.keys($e.setHeaders).reduce((Hr,zr)=>Hr.set(zr,$e.setHeaders[zr]),bi)),$e.setParams&&(Zr=Object.keys($e.setParams).reduce((Hr,zr)=>Hr.set(zr,$e.setParams[zr]),Zr)),new nn(Bn,Gn,Vr,{params:Zr,headers:bi,context:_i,reportProgress:Fi,responseType:fr,withCredentials:Ai,transferCache:ar})}}var Tn=function(he){return he[he.Sent=0]="Sent",he[he.UploadProgress=1]="UploadProgress",he[he.ResponseHeader=2]="ResponseHeader",he[he.DownloadProgress=3]="DownloadProgress",he[he.Response=4]="Response",he[he.User=5]="User",he}(Tn||{});class gn{constructor($e,pt=200,St="OK"){this.headers=$e.headers||new We,this.status=void 0!==$e.status?$e.status:pt,this.statusText=$e.statusText||St,this.url=$e.url||null,this.ok=this.status>=200&&this.status<300}}class qn extends gn{constructor($e={}){super($e),this.type=Tn.ResponseHeader}clone($e={}){return new qn({headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Wt extends gn{constructor($e={}){super($e),this.type=Tn.Response,this.body=void 0!==$e.body?$e.body:null}clone($e={}){return new Wt({body:void 0!==$e.body?$e.body:this.body,headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Le extends gn{constructor($e){super($e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${$e.url||"(unknown url)"}`:`Http failure response for ${$e.url||"(unknown url)"}: ${$e.status} ${$e.statusText}`,this.error=$e.error||null}}function Be(he,$e){return{body:$e,headers:he.headers,context:he.context,observe:he.observe,params:he.params,reportProgress:he.reportProgress,responseType:he.responseType,withCredentials:he.withCredentials,transferCache:he.transferCache}}let nt=(()=>{var he;class $e{constructor(St){this.handler=St}request(St,zt,In={}){let Bn;if(St instanceof nn)Bn=St;else{let ar,Vr;ar=In.headers instanceof We?In.headers:new We(In.headers),In.params&&(Vr=In.params instanceof Te?In.params:new Te({fromObject:In.params})),Bn=new nn(St,zt,void 0!==In.body?In.body:null,{headers:ar,context:In.context,params:Vr,reportProgress:In.reportProgress,responseType:In.responseType||"json",withCredentials:In.withCredentials,transferCache:In.transferCache})}const Gn=(0,L.of)(Bn).pipe((0,ee.H)(ar=>this.handler.handle(ar)));if(St instanceof nn||"events"===In.observe)return Gn;const fr=Gn.pipe((0,_e.p)(ar=>ar instanceof Wt));switch(In.observe||"body"){case"body":switch(Bn.responseType){case"arraybuffer":return fr.pipe((0,Me.T)(ar=>{if(null!==ar.body&&!(ar.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ar.body}));case"blob":return fr.pipe((0,Me.T)(ar=>{if(null!==ar.body&&!(ar.body instanceof Blob))throw new Error("Response is not a Blob.");return ar.body}));case"text":return fr.pipe((0,Me.T)(ar=>{if(null!==ar.body&&"string"!=typeof ar.body)throw new Error("Response is not a string.");return ar.body}));default:return fr.pipe((0,Me.T)(ar=>ar.body))}case"response":return fr;default:throw new Error(`Unreachable: unhandled observe type ${In.observe}}`)}}delete(St,zt={}){return this.request("DELETE",St,zt)}get(St,zt={}){return this.request("GET",St,zt)}head(St,zt={}){return this.request("HEAD",St,zt)}jsonp(St,zt){return this.request("JSONP",St,{params:(new Te).append(zt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(St,zt={}){return this.request("OPTIONS",St,zt)}patch(St,zt,In={}){return this.request("PATCH",St,Be(In,zt))}post(St,zt,In={}){return this.request("POST",St,Be(In,zt))}put(St,zt,In={}){return this.request("PUT",St,Be(In,zt))}}return(he=$e).\u0275fac=function(St){return new(St||he)(h.KVO(ze))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();const At=/^\)\]\}',?\n/;function Lt(he){if(he.url)return he.url;const $e="X-Request-URL".toLocaleLowerCase();return he.headers.get($e)}let Mt=(()=>{var he;class $e{constructor(){var St,zt;this.fetchImpl=null!==(St=null===(zt=(0,h.WQX)(Xt,{optional:!0}))||void 0===zt?void 0:zt.fetch)&&void 0!==St?St:(...In)=>globalThis.fetch(...In),this.ngZone=(0,h.WQX)(h.SKi)}handle(St){return new ve.c(zt=>{const In=new AbortController;return this.doRequest(St,In.signal,zt).then(wn,Bn=>zt.error(new Le({error:Bn}))),()=>In.abort()})}doRequest(St,zt,In){var Bn=this;return(0,c.A)(function*(){var Gn;const fr=Bn.createRequestInit(St);let ar;try{const Zn=Bn.ngZone.runOutsideAngular(()=>Bn.fetchImpl(St.urlWithParams,{signal:zt,...fr}));(function kt(he){he.then(wn,wn)})(Zn),In.next({type:Tn.Sent}),ar=yield Zn}catch(Zn){var Vr;return void In.error(new Le({error:Zn,status:null!==(Vr=Zn.status)&&void 0!==Vr?Vr:0,statusText:Zn.statusText,url:St.urlWithParams,headers:Zn.headers}))}const Ai=new We(ar.headers),Fi=ar.statusText,bi=null!==(Gn=Lt(ar))&&void 0!==Gn?Gn:St.urlWithParams;let Zr=ar.status,_i=null;if(St.reportProgress&&In.next(new qn({headers:Ai,status:Zr,statusText:Fi,url:bi})),ar.body){const Zn=ar.headers.get("content-length"),wi=[],pr=ar.body.getReader();let vo,uo,wr=0;const co=typeof Zone<"u"&&Zone.current;yield Bn.ngZone.runOutsideAngular((0,c.A)(function*(){for(;;){const{done:kr,value:Mo}=yield pr.read();if(kr)break;if(wi.push(Mo),wr+=Mo.length,St.reportProgress){var _o,Qi;uo="text"===St.responseType?(null!==(_o=uo)&&void 0!==_o?_o:"")+(null!==(Qi=vo)&&void 0!==Qi?Qi:vo=new TextDecoder).decode(Mo,{stream:!0}):void 0;const ii=()=>In.next({type:Tn.DownloadProgress,total:Zn?+Zn:void 0,loaded:wr,partialText:uo});co?co.run(ii):ii()}}}));const Di=Bn.concatChunks(wi,wr);try{var Hr;const _o=null!==(Hr=ar.headers.get("Content-Type"))&&void 0!==Hr?Hr:"";_i=Bn.parseBody(St,Di,_o)}catch(_o){var zr;return void In.error(new Le({error:_o,headers:new We(ar.headers),status:ar.status,statusText:ar.statusText,url:null!==(zr=Lt(ar))&&void 0!==zr?zr:St.urlWithParams}))}}0===Zr&&(Zr=_i?200:0),Zr>=200&&Zr<300?(In.next(new Wt({body:_i,headers:Ai,status:Zr,statusText:Fi,url:bi})),In.complete()):In.error(new Le({error:_i,headers:Ai,status:Zr,statusText:Fi,url:bi}))})()}parseBody(St,zt,In){switch(St.responseType){case"json":const Bn=(new TextDecoder).decode(zt).replace(At,"");return""===Bn?null:JSON.parse(Bn);case"text":return(new TextDecoder).decode(zt);case"blob":return new Blob([zt],{type:In});case"arraybuffer":return zt.buffer}}createRequestInit(St){const zt={},In=St.withCredentials?"include":void 0;if(St.headers.forEach((Bn,Gn)=>zt[Bn]=Gn.join(",")),St.headers.has("Accept")||(zt.Accept="application/json, text/plain, */*"),!St.headers.has("Content-Type")){const Bn=St.detectContentTypeHeader();null!==Bn&&(zt["Content-Type"]=Bn)}return{body:St.serializeBody(),method:St.method,headers:zt,credentials:In}}concatChunks(St,zt){const In=new Uint8Array(zt);let Bn=0;for(const Gn of St)In.set(Gn,Bn),Bn+=Gn.length;return In}}return(he=$e).\u0275fac=function(St){return new(St||he)},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();class Xt{}function wn(){}function Mn(he,$e){return $e(he)}function en(he,$e){return(pt,St)=>$e.intercept(pt,{handle:zt=>he(zt,St)})}const Qt=new h.nKC(""),Dt=new h.nKC(""),vn=new h.nKC(""),it=new h.nKC("",{providedIn:"root",factory:()=>!0});function Oe(){let he=null;return($e,pt)=>{var St;null===he&&(he=(null!==(St=(0,h.WQX)(Qt,{optional:!0}))&&void 0!==St?St:[]).reduceRight(en,Mn));const zt=(0,h.WQX)(h.TgB);if((0,h.WQX)(it)){const Bn=zt.add();return he($e,pt).pipe((0,Ge.j)(()=>zt.remove(Bn)))}return he($e,pt)}}let qt=(()=>{var he;class $e extends ze{constructor(St,zt){super(),this.backend=St,this.injector=zt,this.chain=null,this.pendingTasks=(0,h.WQX)(h.TgB),this.contributeToStability=(0,h.WQX)(it)}handle(St){if(null===this.chain){const zt=Array.from(new Set([...this.injector.get(Dt),...this.injector.get(vn,[])]));this.chain=zt.reduceRight((In,Bn)=>function bn(he,$e,pt){return(St,zt)=>(0,h.N4e)(pt,()=>$e(St,In=>he(In,zt)))}(In,Bn,this.injector),Mn)}if(this.contributeToStability){const zt=this.pendingTasks.add();return this.chain(St,In=>this.backend.handle(In)).pipe((0,Ge.j)(()=>this.pendingTasks.remove(zt)))}return this.chain(St,zt=>this.backend.handle(zt))}}return(he=$e).\u0275fac=function(St){return new(St||he)(h.KVO(qe),h.KVO(h.uvJ))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();const Mr=/^\)\]\}',?\n/;let Tr=(()=>{var he;class $e{constructor(St){this.xhrFactory=St}handle(St){if("JSONP"===St.method)throw new h.wOt(-2800,!1);const zt=this.xhrFactory;return(zt.\u0275loadImpl?(0,X.H)(zt.\u0275loadImpl()):(0,L.of)(null)).pipe((0,Pe.n)(()=>new ve.c(Bn=>{const Gn=zt.build();if(Gn.open(St.method,St.urlWithParams),St.withCredentials&&(Gn.withCredentials=!0),St.headers.forEach((Hr,zr)=>Gn.setRequestHeader(Hr,zr.join(","))),St.headers.has("Accept")||Gn.setRequestHeader("Accept","application/json, text/plain, */*"),!St.headers.has("Content-Type")){const Hr=St.detectContentTypeHeader();null!==Hr&&Gn.setRequestHeader("Content-Type",Hr)}if(St.responseType){const Hr=St.responseType.toLowerCase();Gn.responseType="json"!==Hr?Hr:"text"}const fr=St.serializeBody();let ar=null;const Vr=()=>{if(null!==ar)return ar;const Hr=Gn.statusText||"OK",zr=new We(Gn.getAllResponseHeaders()),Ci=function Jn(he){return"responseURL"in he&&he.responseURL?he.responseURL:/^X-Request-URL:/m.test(he.getAllResponseHeaders())?he.getResponseHeader("X-Request-URL"):null}(Gn)||St.url;return ar=new qn({headers:zr,status:Gn.status,statusText:Hr,url:Ci}),ar},Ai=()=>{let{headers:Hr,status:zr,statusText:Ci,url:Zn}=Vr(),wi=null;204!==zr&&(wi=typeof Gn.response>"u"?Gn.responseText:Gn.response),0===zr&&(zr=wi?200:0);let pr=zr>=200&&zr<300;if("json"===St.responseType&&"string"==typeof wi){const wr=wi;wi=wi.replace(Mr,"");try{wi=""!==wi?JSON.parse(wi):null}catch(vo){wi=wr,pr&&(pr=!1,wi={error:vo,text:wi})}}pr?(Bn.next(new Wt({body:wi,headers:Hr,status:zr,statusText:Ci,url:Zn||void 0})),Bn.complete()):Bn.error(new Le({error:wi,headers:Hr,status:zr,statusText:Ci,url:Zn||void 0}))},Fi=Hr=>{const{url:zr}=Vr(),Ci=new Le({error:Hr,status:Gn.status||0,statusText:Gn.statusText||"Unknown Error",url:zr||void 0});Bn.error(Ci)};let bi=!1;const Zr=Hr=>{bi||(Bn.next(Vr()),bi=!0);let zr={type:Tn.DownloadProgress,loaded:Hr.loaded};Hr.lengthComputable&&(zr.total=Hr.total),"text"===St.responseType&&Gn.responseText&&(zr.partialText=Gn.responseText),Bn.next(zr)},_i=Hr=>{let zr={type:Tn.UploadProgress,loaded:Hr.loaded};Hr.lengthComputable&&(zr.total=Hr.total),Bn.next(zr)};return Gn.addEventListener("load",Ai),Gn.addEventListener("error",Fi),Gn.addEventListener("timeout",Fi),Gn.addEventListener("abort",Fi),St.reportProgress&&(Gn.addEventListener("progress",Zr),null!==fr&&Gn.upload&&Gn.upload.addEventListener("progress",_i)),Gn.send(fr),Bn.next({type:Tn.Sent}),()=>{Gn.removeEventListener("error",Fi),Gn.removeEventListener("abort",Fi),Gn.removeEventListener("load",Ai),Gn.removeEventListener("timeout",Fi),St.reportProgress&&(Gn.removeEventListener("progress",Zr),null!==fr&&Gn.upload&&Gn.upload.removeEventListener("progress",_i)),Gn.readyState!==Gn.DONE&&Gn.abort()}})))}}return(he=$e).\u0275fac=function(St){return new(St||he)(h.KVO(ye.N0))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();const On=new h.nKC(""),Qn=new h.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ar=new h.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Cn{}let Gt=(()=>{var he;class $e{constructor(St,zt,In){this.doc=St,this.platform=zt,this.cookieName=In,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const St=this.doc.cookie||"";return St!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ye._b)(St,this.cookieName),this.lastCookieString=St),this.lastToken}}return(he=$e).\u0275fac=function(St){return new(St||he)(h.KVO(ye.qQ),h.KVO(h.Agw),h.KVO(Qn))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();function Ct(he,$e){const pt=he.url.toLowerCase();if(!(0,h.WQX)(On)||"GET"===he.method||"HEAD"===he.method||pt.startsWith("http://")||pt.startsWith("https://"))return $e(he);const St=(0,h.WQX)(Cn).getToken(),zt=(0,h.WQX)(Ar);return null!=St&&!he.headers.has(zt)&&(he=he.clone({headers:he.headers.set(zt,St)})),$e(he)}var _t=function(he){return he[he.Interceptors=0]="Interceptors",he[he.LegacyInterceptors=1]="LegacyInterceptors",he[he.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",he[he.NoXsrfProtection=3]="NoXsrfProtection",he[he.JsonpSupport=4]="JsonpSupport",he[he.RequestsMadeViaParent=5]="RequestsMadeViaParent",he[he.Fetch=6]="Fetch",he}(_t||{});function Et(he,$e){return{\u0275kind:he,\u0275providers:$e}}function _n(...he){const $e=[nt,Tr,qt,{provide:ze,useExisting:qt},{provide:qe,useFactory:()=>{var pt;return null!==(pt=(0,h.WQX)(Mt,{optional:!0}))&&void 0!==pt?pt:(0,h.WQX)(Tr)}},{provide:Dt,useValue:Ct,multi:!0},{provide:On,useValue:!0},{provide:Cn,useClass:Gt}];for(const pt of he)$e.push(...pt.\u0275providers);return(0,h.EmA)($e)}const Q=new h.nKC("");let yt=(()=>{var he;class $e{}return(he=$e).\u0275fac=function(St){return new(St||he)},he.\u0275mod=h.$C({type:he}),he.\u0275inj=h.G2t({providers:[_n(Et(_t.LegacyInterceptors,[{provide:Q,useFactory:Oe},{provide:Dt,useExisting:Q,multi:!0}]))]}),$e})()},4438:(Rn,at,x)=>{"use strict";function c(e,n){return Object.is(e,n)}x.d(at,{iLQ:()=>Qy,sZ2:()=>ad,hnV:()=>BC,Hbi:()=>ZM,o8S:()=>qu,BIS:()=>Hg,gRc:()=>nw,Ql9:()=>AM,OM3:()=>wl,Ocv:()=>RM,Z63:()=>ji,aKT:()=>id,uvJ:()=>Wo,zcH:()=>nl,bkB:()=>Il,$GK:()=>kr,nKC:()=>pt,zZn:()=>As,_q3:()=>zE,MKu:()=>GE,xe9:()=>VE,Co$:()=>HA,Vns:()=>Jh,SKi:()=>Ao,Xx1:()=>yi,Agw:()=>zf,PLl:()=>Hf,sFG:()=>my,_9s:()=>Uc,czy:()=>ap,kdw:()=>mi,C4Q:()=>xh,NYb:()=>gM,giA:()=>VC,xvI:()=>HP,RxE:()=>MC,c1b:()=>Qh,gXe:()=>A,mal:()=>My,L39:()=>Px,EWP:()=>xx,a0P:()=>Ux,Ol2:()=>BI,w6W:()=>oD,oH4:()=>YC,Rfq:()=>_t,WQX:()=>Ut,naY:()=>VM,QuC:()=>ps,EmA:()=>ha,fpN:()=>YM,HJs:()=>Bx,N4e:()=>Ra,vPA:()=>CA,O8t:()=>Ox,H3F:()=>xC,H8p:()=>Rl,KH2:()=>ig,TgB:()=>gu,wOt:()=>qt,WHO:()=>FC,e01:()=>LC,H5H:()=>hE,Zy3:()=>or,mq5:()=>qb,JZv:()=>On,LfX:()=>ne,plB:()=>Hu,jNT:()=>NE,zjR:()=>UC,TL$:()=>jg,Tbb:()=>Cn,Vt3:()=>LI,GFd:()=>jA,OA$:()=>Ka,Jv_:()=>iC,aNF:()=>oC,R7$:()=>wm,BMQ:()=>ZI,AVh:()=>oE,wni:()=>MT,VBU:()=>fo,FsC:()=>ca,jDH:()=>xr,G2t:()=>q,$C:()=>Gs,EJ8:()=>da,rXU:()=>xu,nrm:()=>cE,eu8:()=>dE,bVm:()=>By,qex:()=>Uy,k0s:()=>Vy,j41:()=>Ly,RV6:()=>Gb,xGo:()=>Rv,KVO:()=>It,kS0:()=>hu,QTQ:()=>M_,bIt:()=>gE,lsd:()=>NT,XpG:()=>yT,nI1:()=>pC,bMT:()=>gC,SdG:()=>ET,NAR:()=>IT,Y8G:()=>rE,eq3:()=>lC,mGM:()=>OT,sdS:()=>kT,Njj:()=>sc,eBV:()=>Kc,n$t:()=>wc,DNE:()=>jI,EFF:()=>GT,JRh:()=>yE,SpI:()=>Gy,Lme:()=>IE,DH7:()=>eC,mxI:()=>AE,R50:()=>EE,GBs:()=>xT});let h=null,L=!1,ve=1;const X=Symbol("SIGNAL");function ee(e){const n=h;return h=e,n}const Pe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ye(e){if(L)throw new Error("");if(null===h)return;h.consumerOnSignalRead(e);const n=h.nextProducerIndex++;Qe(h),n<h.producerNode.length&&h.producerNode[n]!==e&&Ne(h)&&Te(h.producerNode[n],h.producerIndexOfThis[n]),h.producerNode[n]!==e&&(h.producerNode[n]=e,h.producerIndexOfThis[n]=Ne(h)?Ie(e,h,n):0),h.producerLastReadVersion[n]=e.version}function qe(e){if((!Ne(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ve)){if(!e.producerMustRecompute(e)&&!xt(e))return e.dirty=!1,void(e.lastCleanEpoch=ve);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ve}}function We(e){if(void 0===e.liveConsumerNode)return;const n=L;L=!0;try{for(const r of e.liveConsumerNode)r.dirty||vt(r)}finally{L=n}}function ut(){var e;return!1!==(null===(e=h)||void 0===e?void 0:e.consumerAllowSignalWrites)}function vt(e){var n;e.dirty=!0,We(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function st(e){return e&&(e.nextProducerIndex=0),ee(e)}function lt(e,n){if(ee(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ne(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Te(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function xt(e){Qe(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(qe(r),o!==r.version))return!0}return!1}function Tt(e){if(Qe(e),Ne(e))for(let n=0;n<e.producerNode.length;n++)Te(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ie(e,n,r){if(rt(e),0===e.liveConsumerNode.length&&Ft(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Ie(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function Te(e,n){if(rt(e),1===e.liveConsumerNode.length&&Ft(e))for(let o=0;o<e.producerNode.length;o++)Te(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];Qe(a),a.producerIndexOfThis[o]=n}}function Ne(e){var n,r;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function Qe(e){var n,r,o;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function rt(e){var n,r;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Ft(e){return void 0!==e.producerNode}const gt=Symbol("UNSET"),Vt=Symbol("COMPUTING"),nn=Symbol("ERRORED"),Tn={...Pe,value:gt,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===gt||e.value===Vt,producerRecomputeValue(e){if(e.value===Vt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Vt;const r=st(e);let o;try{o=e.computation()}catch(a){o=nn,e.error=a}finally{lt(e,r)}n!==gt&&n!==nn&&o!==nn&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let qn=function gn(){throw new Error};function Wt(){qn()}let Ue=null;function nt(e,n){ut()||Wt(),e.equal(e.value,n)||(e.value=n,function Mt(e){var n;e.version++,function ze(){ve++}(),We(e),null===(n=Ue)||void 0===n||n()}(e))}const Lt={...Pe,equal:c,value:void 0};var vn,Oe,en=x(4412),bn=x(1413),Qt=x(8359),Dt=x(6354);const cn="https://g.co/ng/security#xss";class qt extends Error{constructor(n,r){super(or(n,r)),this.code=n}}function or(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function cr(e){return{toString:e}.toString()}const Kr="__parameters__";function Jn(e,n,r){return cr(()=>{const o=function Mr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(n);function a(...d){if(this instanceof a)return o.apply(this,d),this;const g=new a(...d);return y.annotation=g,y;function y(C,$,J){const me=C.hasOwnProperty(Kr)?C[Kr]:Object.defineProperty(C,Kr,{value:[]})[Kr];for(;me.length<=J;)me.push(null);return(me[J]=me[J]||[]).push(g),C}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const On=globalThis;function lr(e){for(let n in e)if(e[n]===lr)return n;throw Error("Could not find renamed property on target object.")}function Ar(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Cn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Cn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Gt(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Yt=lr({__forward_ref__:lr});function _t(e){return e.__forward_ref__=_t,e.toString=function(){return Cn(this())},e}function Et(e){return _n(e)?e():e}function _n(e){return"function"==typeof e&&e.hasOwnProperty(Yt)&&e.__forward_ref__===_t}function xr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function q(e){return{providers:e.providers||[],imports:e.imports||[]}}function Re(e){return se(e,on)||se(e,he)}function ne(e){return null!==Re(e)}function se(e,n){return e.hasOwnProperty(n)?e[n]:null}function Nt(e){return e&&(e.hasOwnProperty(yn)||e.hasOwnProperty($e))?e[yn]:null}const on=lr({\u0275prov:lr}),yn=lr({\u0275inj:lr}),he=lr({ngInjectableDef:lr}),$e=lr({ngInjectorDef:lr});class pt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=xr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bi(e){return e&&!!e.\u0275providers}const Zr=lr({\u0275cmp:lr}),_i=lr({\u0275dir:lr}),Hr=lr({\u0275pipe:lr}),zr=lr({\u0275mod:lr}),Ci=lr({\u0275fac:lr}),Zn=lr({__NG_ELEMENT_ID__:lr}),wi=lr({__NG_ENV_ID__:lr});function pr(e){return"string"==typeof e?e:null==e?"":String(e)}function Qi(e,n){throw new qt(-201,!1)}var kr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(kr||{});let Mo;function ii(){return Mo}function Ui(e){const n=Mo;return Mo=e,n}function Bi(e,n,r){const o=Re(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&kr.Optional?null:void 0!==n?n:void Qi()}const yo={},ci="__NG_DI_FLAG__",M="ngTempTokenPath",fe=/\n/gm,T="__source";let V;function Ye(e){const n=V;return V=e,n}function bt(e,n=kr.Default){if(void 0===V)throw new qt(-203,!1);return null===V?Bi(e,void 0,n):V.get(e,n&kr.Optional?null:void 0,n)}function It(e,n=kr.Default){return(ii()||bt)(Et(e),n)}function Ut(e,n=kr.Default){return It(e,sn(n))}function sn(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pn(e){const n=[];for(let r=0;r<e.length;r++){const o=Et(e[r]);if(Array.isArray(o)){if(0===o.length)throw new qt(900,!1);let a,d=kr.Default;for(let g=0;g<o.length;g++){const y=o[g],C=Xn(y);"number"==typeof C?-1===C?a=y.token:d|=C:a=y}n.push(It(a,d))}else n.push(It(o))}return n}function $n(e,n){return e[ci]=n,e.prototype[ci]=n,e}function Xn(e){return e[ci]}const yi=$n(Jn("Optional"),8),mi=$n(Jn("SkipSelf"),4);function oo(e,n){return e.hasOwnProperty(Ci)?e[Ci]:null}function ho(e,n){e.forEach(r=>Array.isArray(r)?ho(r,n):n(r))}function Uo(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function rs(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function so(e,n,r){let o=hs(e,n);return o>=0?e[1|o]=r:(o=~o,function $o(e,n,r,o){let a=e.length;if(a==n)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>n;)e[a]=e[a-2],a--;e[n]=r,e[n+1]=o}}(e,o,n,r)),o}function zs(e,n){const r=hs(e,n);if(r>=0)return e[1|r]}function hs(e,n){return function Ps(e,n,r){let o=0,a=e.length>>r;for(;a!==o;){const d=o+(a-o>>1),g=e[d<<r];if(n===g)return d<<r;g>n?a=d:o=d+1}return~(a<<r)}(e,n,1)}const Gr={},ei=[],ji=new pt(""),fs=new pt("",-1),ae=new pt("");class G{get(n,r=yo){if(r===yo){const o=new Error(`NullInjectorError: No provider for ${Cn(n)}!`);throw o.name="NullInjectorError",o}return r}}var b=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(b||{}),A=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(A||{}),j=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(j||{});function ue(e,n,r){let o=e.length;for(;;){const a=e.indexOf(n,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=n.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}r=a+1}}function be(e,n,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const d=r[o++],g=r[o++],y=r[o++];e.setAttribute(n,g,y,d)}else{const d=a,g=r[++o];ct(d)?e.setProperty(n,d,g):e.setAttribute(n,d,g),o++}}return o}function ke(e){return 3===e||4===e||6===e}function ct(e){return 64===e.charCodeAt(0)}function wt(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?r=a:0===r||ht(e,r,a,null,-1===r||2===r?n[++o]:null)}}return e}function ht(e,n,r,o,a){let d=0,g=e.length;if(-1===n)g=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===n){g=-1;break}if(y>n){g=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===r){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==g&&(e.splice(g,0,n),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const Dn="ng-template";function Hn(e,n,r,o){let a=0;if(o){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==ue(n[a+1].toLowerCase(),r,0))return!0}else if(mr(e))return!1;if(a=n.indexOf(1,a),a>-1){let d;for(;++a<n.length&&"string"==typeof(d=n[a]);)if(d.toLowerCase()===r)return!0}return!1}function mr(e){return 4===e.type&&e.value!==Dn}function br(e,n,r){return n===(4!==e.type||r?e.value:Dn)}function Mi(e,n,r){let o=4;const a=e.attrs,d=null!==a?function O(e){for(let n=0;n<e.length;n++)if(ke(e[n]))return n;return e.length}(a):0;let g=!1;for(let y=0;y<n.length;y++){const C=n[y];if("number"!=typeof C){if(!g)if(4&o){if(o=2|1&o,""!==C&&!br(e,C,r)||""===C&&1===n.length){if(Br(o))return!1;g=!0}}else if(8&o){if(null===a||!Hn(e,a,C,r)){if(Br(o))return!1;g=!0}}else{const $=n[++y],J=jo(C,a,mr(e),r);if(-1===J){if(Br(o))return!1;g=!0;continue}if(""!==$){let me;if(me=J>d?"":a[J+1].toLowerCase(),2&o&&$!==me){if(Br(o))return!1;g=!0}}}}else{if(!g&&!Br(o)&&!Br(C))return!1;if(g&&Br(C))continue;g=!1,o=C|1&o}}return Br(o)||g}function Br(e){return!(1&e)}function jo(e,n,r,o){if(null===n)return-1;let a=0;if(o||!r){let d=!1;for(;a<n.length;){const g=n[a];if(g===e)return a;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=n[++a];for(;"string"==typeof y;)y=n[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=d?1:2}return-1}return function ce(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function Oo(e,n,r=!1){for(let o=0;o<n.length;o++)if(Mi(e,n[o],r))return!0;return!1}function H(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function we(e,n){return e?":not("+n.trim()+")":n}function En(e){let n=e[0],r=1,o=2,a="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const y=e[++r];a+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!Br(g)&&(n+=we(d,a),a=""),o=g,d=d||!Br(o);r++}return""!==a&&(n+=we(d,a)),n}function fo(e){return cr(()=>{var n;const r=Va(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===b.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||A.Emulated,styles:e.styles||ei,_:null,schemas:e.schemas||null,tView:null,id:""};Ws(o);const a=e.dependencies;return o.directiveDefs=gs(a,!1),o.pipeDefs=gs(a,!0),o.id=function al(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function po(e){return qr(e)||Ti(e)}function Io(e){return null!==e}function Gs(e){return cr(()=>({type:e.type,bootstrap:e.bootstrap||ei,declarations:e.declarations||ei,imports:e.imports||ei,exports:e.exports||ei,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function is(e,n){if(null==e)return Gr;const r={};for(const a in e)if(e.hasOwnProperty(a)){const d=e[a];let g,y,C=j.None;var o;Array.isArray(d)?(C=d[0],g=d[1],y=null!==(o=d[2])&&void 0!==o?o:g):(g=d,y=d),n?(r[g]=C!==j.None?[a,C]:a,n[g]=y):r[g]=a}return r}function ca(e){return cr(()=>{const n=Va(e);return Ws(n),n})}function da(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function qr(e){return e[Zr]||null}function Ti(e){return e[_i]||null}function ao(e){return e[Hr]||null}function ps(e){const n=qr(e)||Ti(e)||ao(e);return null!==n&&n.standalone}function go(e,n){const r=e[zr]||null;if(!r&&!0===n)throw new Error(`Type ${Cn(e)} does not have '\u0275mod' property.`);return r}function Va(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Gr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ei,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:is(e.inputs,n),outputs:is(e.outputs),debugInfo:null}}function Ws(e){var n;null===(n=e.features)||void 0===n||n.forEach(r=>r(e))}function gs(e,n){if(!e)return null;const r=n?ao:po;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Io)}function ha(e){return{\u0275providers:e}}function Xu(...e){return{\u0275providers:ll(0,e),\u0275fromNgModule:!0}}function ll(e,...n){const r=[],o=new Set;let a;const d=g=>{r.push(g)};return ho(n,g=>{const y=g;Sl(y,d,[],o)&&(a||(a=[]),a.push(y))}),void 0!==a&&Ks(a,d),r}function Ks(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Ua(a,d=>{n(d,o)})}}function Sl(e,n,r,o){if(!(e=Et(e)))return!1;let a=null,d=Nt(e);const g=!d&&qr(e);if(d||g){if(g&&!g.standalone)return!1;a=e}else{const C=e.ngModule;if(d=Nt(C),!d)return!1;a=C}const y=o.has(a);if(g){if(y)return!1;if(o.add(a),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const $ of C)Sl($,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let $;o.add(a);try{ho(d.imports,J=>{Sl(J,n,r,o)&&($||($=[]),$.push(J))})}finally{}void 0!==$&&Ks($,n)}if(!y){const $=oo(a)||(()=>new a);n({provide:a,useFactory:$,deps:ei},a),n({provide:ae,useValue:a,multi:!0},a),n({provide:ji,useValue:()=>It(a),multi:!0},a)}const C=d.providers;if(null!=C&&!y){const $=e;Ua(C,J=>{n(J,$)})}}}return a!==e&&void 0!==e.providers}function Ua(e,n){for(let r of e)bi(r)&&(r=r.\u0275providers),Array.isArray(r)?Ua(r,n):n(r)}const ul=lr({provide:String,useValue:lr});function fa(e){return null!==e&&"object"==typeof e&&ul in e}function xs(e){return"function"==typeof e}const Rl=new pt(""),Wr={},Hc={};let ea;function Sa(){return void 0===ea&&(ea=new G),ea}class Wo{}class vs extends Wo{get destroyed(){return this._destroyed}constructor(n,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ga(n,g=>this.processProvider(g)),this.records.set(fs,os(void 0,this)),a.has("environment")&&this.records.set(Wo,os(void 0,this));const d=this.records.get(Rl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(ae,ei,kr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ee(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=Ye(this),o=Ui(void 0);try{return n()}finally{Ye(r),Ui(o)}}get(n,r=yo,o=kr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(wi))return n[wi](this);o=sn(o);const d=Ye(this),g=Ui(void 0);try{if(!(o&kr.SkipSelf)){let C=this.records.get(n);if(void 0===C){const $=function _s(e){return"function"==typeof e||"object"==typeof e&&e instanceof pt}(n)&&Re(n);C=$&&this.injectableDefInScope($)?os(ta(n),Wr):null,this.records.set(n,C)}if(null!=C)return this.hydrate(n,C)}return(o&kr.Self?Sa():this.parent).get(n,r=o&kr.Optional&&r===yo?null:r)}catch(y){if("NullInjectorError"===y.name){if((y[M]=y[M]||[]).unshift(Cn(n)),d)throw y;return function er(e,n,r,o){const a=e[M];throw n[T]&&a.unshift(n[T]),e.message=function ur(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Cn(n);if(Array.isArray(n))a=n.map(Cn).join(" -> ");else if("object"==typeof n){let d=[];for(let g in n)if(n.hasOwnProperty(g)){let y=n[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):Cn(y)))}a=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(fe,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[M]=null,e}(y,n,"R3InjectorError",this.source)}throw y}finally{Ui(g),Ye(d)}}resolveInjectorInitializers(){const n=ee(null),r=Ye(this),o=Ui(void 0);try{const d=this.get(ji,ei,kr.Self);for(const g of d)g()}finally{Ye(r),Ui(o),ee(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Cn(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,!1)}processProvider(n){let r=xs(n=Et(n))?n:Et(n&&n.provide);const o=function $a(e){return fa(e)?os(void 0,e.useValue):os(ja(e),Wr)}(n);if(!xs(n)&&!0===n.multi){let a=this.records.get(r);a||(a=os(void 0,Wr,!0),a.factory=()=>pn(a.multi),this.records.set(r,a)),r=n,a.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=ee(null);try{return r.value===Wr&&(r.value=Hc,r.value=r.factory()),"object"==typeof r.value&&r.value&&function pa(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ee(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Et(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ta(e){const n=Re(e),r=null!==n?n.factory:oo(e);if(null!==r)return r;if(e instanceof pt)throw new qt(204,!1);if(e instanceof Function)return function tu(e){if(e.length>0)throw new qt(204,!1);const r=function xe(e){return e&&(e[on]||e[he])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new qt(204,!1)}function ja(e,n,r){let o;if(xs(e)){const a=Et(e);return oo(a)||ta(a)}if(fa(e))o=()=>Et(e.useValue);else if(function Ba(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...pn(e.deps||[]));else if(function ms(e){return!(!e||!e.useExisting)}(e))o=()=>It(Et(e.useExisting));else{const a=Et(e&&(e.useClass||e.provide));if(!function qs(e){return!!e.deps}(e))return oo(a)||ta(a);o=()=>new a(...pn(e.deps))}return o}function os(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function ga(e,n){for(const r of e)Array.isArray(r)?ga(r,n):r&&bi(r)?ga(r.\u0275providers,n):n(r)}function Ra(e,n){e instanceof vs&&e.assertNotDestroyed();const o=Ye(e),a=Ui(void 0);try{return n()}finally{Ye(o),Ui(a)}}function Pl(){return void 0!==ii()||null!=function Ve(){return V}()}const vi=0,Ln=1,gr=2,Xi=3,Do=4,Hi=5,No=6,Os=7,Xr=8,Rr=9,Yo=10,$r=11,ma=12,Ns=13,Ml=14,to=15,dl=16,va=17,Zo=18,Xs=19,ks=20,Qs=21,no=22,Fs=23,yr=25,Qu=1,na=7,za=9,So=10;var hl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(hl||{});function mo(e){return Array.isArray(e)&&"object"==typeof e[Qu]}function ro(e){return Array.isArray(e)&&!0===e[Qu]}function Ga(e){return!!(4&e.flags)}function Wa(e){return e.componentOffset>-1}function Yi(e){return!(1&~e.flags)}function ss(e){return!!e.template}function _a(e){return!!(512&e[gr])}class ko{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ho(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function Ka(){return Ko}function Ko(e){return e.type.prototype.ngOnChanges&&(e.setInput=fl),Ls}function Ls(){const e=xl(this),n=null==e?void 0:e.current;if(n){const r=e.previous;if(r===Gr)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function fl(e,n,r,o,a){const d=this.declaredInputs[o],g=xl(e)||function ra(e,n){return e[nu]=n}(e,{previous:Gr,current:null}),y=g.current||(g.current={}),C=g.previous,$=C[d];y[d]=new ko($&&$.currentValue,r,C===Gr),Ho(e,n,a,r)}Ka.ngInherit=!0;const nu="__ngSimpleChanges__";function xl(e){return e[nu]||null}const qo=function(e,n,r){};function Si(e){for(;Array.isArray(e);)e=e[vi];return e}function iu(e,n){return Si(n[e])}function as(e,n){return Si(n[e.index])}function Nl(e,n){return e.data[n]}function pl(e,n){return e[n]}function ls(e,n){const r=n[e];return mo(r)?r:r[vi]}function Wd(e){return!(128&~e[gr])}function ia(e,n){return null==n?null:e[n]}function tc(e){e[va]=0}function Gc(e){1024&e[gr]||(e[gr]|=1024,Wd(e)&&Ma(e))}function gl(e){var n;return!!(9216&e[gr]||null!==(n=e[Fs])&&void 0!==n&&n.dirty)}function Fl(e){var n;null===(n=e[Yo].changeDetectionScheduler)||void 0===n||n.notify(8),64&e[gr]&&(e[gr]|=1024),gl(e)&&Ma(e)}function Ma(e){var n;null===(n=e[Yo].changeDetectionScheduler)||void 0===n||n.notify(0);let r=oa(e);for(;null!==r&&!(8192&r[gr])&&(r[gr]|=8192,Wd(r));)r=oa(r)}function Js(e,n){if(!(256&~e[gr]))throw new qt(911,!1);null===e[Qs]&&(e[Qs]=[]),e[Qs].push(n)}function oa(e){const n=e[Xi];return ro(n)?n[Xi]:n}const Qr={lFrame:mf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let rc=!1;function oc(){return Qr.bindingsEnabled}function Qa(){return null!==Qr.skipHydrationRootTNode}function hn(){return Qr.lFrame.lView}function ti(){return Qr.lFrame.tView}function Kc(e){return Qr.lFrame.contextLView=e,e[Xr]}function sc(e){return Qr.lFrame.contextLView=null,e}function ai(){let e=qc();for(;null!==e&&64===e.type;)e=e.parent;return e}function qc(){return Qr.lFrame.currentTNode}function Is(e,n){const r=Qr.lFrame;r.currentTNode=e,r.isParent=n}function Xc(){return Qr.lFrame.isParent}function Ia(){Qr.lFrame.isParent=!1}function Za(){return rc}function Qd(e){rc=e}function xo(){const e=Qr.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Es(){return Qr.lFrame.bindingIndex++}function el(e){const n=Qr.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function Qc(e,n){const r=Qr.lFrame;r.bindingIndex=r.bindingRootIndex=e,Jd(n)}function Jd(e){Qr.lFrame.currentDirectiveIndex=e}function Yd(){return Qr.lFrame.currentQueryIndex}function Ll(e){Qr.lFrame.currentQueryIndex=e}function Vl(e){const n=e[Ln];return 2===n.type?n.declTNode:1===n.type?e[Hi]:null}function lu(e,n,r){if(r&kr.SkipSelf){let a=n,d=e;for(;!(a=a.parent,null!==a||r&kr.Host||(a=Vl(d),null===a||(d=d[Ml],10&a.type))););if(null===a)return!1;n=a,e=d}const o=Qr.lFrame=Zd();return o.currentTNode=n,o.lView=e,!0}function Yc(e){const n=Zd(),r=e[Ln];Qr.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Zd(){const e=Qr.lFrame,n=null===e?null:e.child;return null===n?mf(e):n}function mf(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Zc(){const e=Qr.lFrame;return Qr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const vf=Zc;function eh(){const e=Zc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zo(){return Qr.lFrame.selectedIndex}function Eo(e){Qr.lFrame.selectedIndex=e}function Zi(){const e=Qr.lFrame;return Nl(e.tView,e.selectedIndex)}let uu=!0;function xa(){return uu}function Oa(e){uu=e}function vl(e,n){for(let $=n.directiveStart,J=n.directiveEnd;$<J;$++){const Ze=e.data[$].type.prototype,{ngAfterContentInit:dt,ngAfterContentChecked:ot,ngAfterViewInit:un,ngAfterViewChecked:Pn,ngOnDestroy:Wn}=Ze;var r,o,a,d,g,y,C;dt&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-$,dt),ot&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push($,ot),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push($,ot)),un&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-$,un),Pn&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push($,Pn),(null!==(y=e.viewCheckHooks)&&void 0!==y?y:e.viewCheckHooks=[]).push($,Pn)),null!=Wn&&(null!==(C=e.destroyHooks)&&void 0!==C?C:e.destroyHooks=[]).push($,Wn)}}function Ul(e,n,r){ac(e,n,3,r)}function Aa(e,n,r,o){(3&e[gr])===r&&ac(e,n,r,o)}function Bl(e,n){let r=e[gr];(3&r)===n&&(r&=16383,r+=1,e[gr]=r)}function ac(e,n,r,o){const d=null!=o?o:-1,g=n.length-1;let y=0;for(let C=void 0!==o?65535&e[va]:0;C<g;C++)if("number"==typeof n[C+1]){if(y=n[C],null!=o&&y>=o)break}else n[C]<0&&(e[va]+=65536),(y<d||-1==d)&&(hg(e,r,n,C),e[va]=(4294901760&e[va])+C+2),C++}function ed(e,n){qo(4,e,n);const r=ee(null);try{n.call(e)}finally{ee(r),qo(5,e,n)}}function hg(e,n,r,o){const a=r[o]<0,d=r[o+1],y=e[a?-r[o]:r[o]];a?e[gr]>>14<e[va]>>16&&(3&e[gr])===n&&(e[gr]+=16384,ed(y,d)):ed(y,d)}const $l=-1;class lc{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const D={};class te{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=sn(o);const a=this.injector.get(n,D,o);return a!==D||r===D?a:this.parentInjector.get(n,r,o)}}function Ce(e){return e!==$l}function Rt(e){return 32767&e}function xn(e,n){let r=function rn(e){return e>>16}(e),o=n;for(;r>0;)o=o[Ml],r--;return o}let Dr=!0;function pi(e){const n=Dr;return Dr=e,n}const ba=255,cu=5;let oh=0;const Vs={};function tl(e,n){const r=dc(e,n);if(-1!==r)return r;const o=n[Ln];o.firstCreatePass&&(e.injectorIndex=n.length,_l(o.data,e),_l(n,null),_l(o.blueprint,null));const a=jl(e,n),d=e.injectorIndex;if(Ce(a)){const g=Rt(a),y=xn(a,n),C=y[Ln].data;for(let $=0;$<8;$++)n[d+$]=y[g+$]|C[g+$]}return n[d+8]=a,d}function _l(e,n){e.push(0,0,0,0,0,0,0,0,n)}function dc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function jl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=n;for(;null!==a;){if(o=Pv(a),null===o)return $l;if(r++,a=a[Ml],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return $l}function Hl(e,n,r){!function cc(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Zn)&&(o=r[Zn]),null==o&&(o=r[Zn]=oh++);const a=o&ba;n.data[e+(a>>cu)]|=1<<a}(e,n,r)}function If(e,n,r){if(r&kr.Optional||void 0!==e)return e;Qi()}function hc(e,n,r,o){if(r&kr.Optional&&void 0===o&&(o=null),!(r&(kr.Self|kr.Host))){const a=e[Rr],d=Ui(void 0);try{return a?a.get(n,o,r&kr.Optional):Bi(n,o,r&kr.Optional)}finally{Ui(d)}}return If(o,0,r)}function fc(e,n,r,o=kr.Default,a){if(null!==e){if(2048&n[gr]&&!(o&kr.Self)){const g=function h0(e,n,r,o,a){let d=e,g=n;for(;null!==d&&null!==g&&2048&g[gr]&&!(512&g[gr]);){const y=Ef(d,g,r,o|kr.Self,Vs);if(y!==Vs)return y;let C=d.parent;if(!C){const $=g[ks];if($){const J=$.get(r,Vs,o);if(J!==Vs)return J}C=Pv(g),g=g[Ml]}d=C}return a}(e,n,r,o,Vs);if(g!==Vs)return g}const d=Ef(e,n,r,o,Vs);if(d!==Vs)return d}return hc(n,r,o,a)}function Ef(e,n,r,o,a){const d=function c0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Zn)?e[Zn]:void 0;return"number"==typeof n?n>=0?n&ba:d0:n}(r);if("function"==typeof d){if(!lu(n,e,o))return o&kr.Host?If(a,0,o):hc(n,r,o,a);try{let g;if(g=d(o),null!=g||o&kr.Optional)return g;Qi()}finally{vf()}}else if("number"==typeof d){let g=null,y=dc(e,n),C=$l,$=o&kr.Host?n[to][Hi]:null;for((-1===y||o&kr.SkipSelf)&&(C=-1===y?jl(e,n):n[y+8],C!==$l&&ah(o,!1)?(g=n[Ln],y=Rt(C),n=xn(C,n)):y=-1);-1!==y;){const J=n[Ln];if(fg(d,y,J.data)){const me=u0(y,n,r,g,o,$);if(me!==Vs)return me}C=n[y+8],C!==$l&&ah(o,n[Ln].data[y+8]===$)&&fg(d,y,n)?(g=J,y=Rt(C),n=xn(C,n)):y=-1}}return a}function u0(e,n,r,o,a,d){const g=n[Ln],y=g.data[e+8],J=Af(y,g,r,null==o?Wa(y)&&Dr:o!=g&&!!(3&y.type),a&kr.Host&&d===y);return null!==J?Lo(n,g,J,y):Vs}function Af(e,n,r,o,a){const d=e.providerIndexes,g=n.data,y=1048575&d,C=e.directiveStart,J=d>>20,Ze=a?y+J:e.directiveEnd;for(let dt=o?y:y+J;dt<Ze;dt++){const ot=g[dt];if(dt<C&&r===ot||dt>=C&&ot.type===r)return dt}if(a){const dt=g[C];if(dt&&ss(dt)&&dt.type===r)return C}return null}function Lo(e,n,r,o){let a=e[r];const d=n.data;if(function _f(e){return e instanceof lc}(a)){const g=a;g.resolving&&function co(e,n){throw n&&n.join(" > "),new qt(-200,e)}(function wr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pr(e)}(d[r]));const y=pi(g.canSeeViewProviders);g.resolving=!0;const $=g.injectImpl?Ui(g.injectImpl):null;lu(e,o,kr.Default);try{a=e[r]=g.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function dg(e,n,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(o){var g,y;const me=Ko(n);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,me),(null!==(y=r.preOrderCheckHooks)&&void 0!==y?y:r.preOrderCheckHooks=[]).push(e,me)}var C,$,J;a&&(null!==(C=r.preOrderHooks)&&void 0!==C?C:r.preOrderHooks=[]).push(0-e,a),d&&((null!==($=r.preOrderHooks)&&void 0!==$?$:r.preOrderHooks=[]).push(e,d),(null!==(J=r.preOrderCheckHooks)&&void 0!==J?J:r.preOrderCheckHooks=[]).push(e,d))}(r,d[r],n)}finally{null!==$&&Ui($),pi(y),g.resolving=!1,vf()}}return a}function fg(e,n,r){return!!(r[n+(e>>cu)]&1<<e)}function ah(e,n){return!(e&kr.Self||e&kr.Host&&n)}class Xo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return fc(this._tNode,this._lView,n,sn(o),r)}}function d0(){return new Xo(ai(),hn())}function Rv(e){return cr(()=>{const n=e.prototype.constructor,r=n[Ci]||pg(n),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[Ci]||pg(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function pg(e){return _n(e)?()=>{const n=pg(Et(e));return n&&n()}:oo(e)}function Pv(e){const n=e[Ln],r=n.type;return 2===r?n.declTNode:1===r?e[Hi]:null}function hu(e){return function sh(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const d=r[a];if(ke(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(d===n)return r[a+1];a+=2}}}return null}(ai(),e)}function Tf(e,n=null,r=null,o){const a=xv(e,n,r,o);return a.resolveInjectorInitializers(),a}function xv(e,n=null,r=null,o,a=new Set){const d=[r||ei,Xu(e)];return o=o||("object"==typeof e?void 0:Cn(e)),new vs(d,n||Sa(),o||null,a)}class As{static create(n,r){if(Array.isArray(n))return Tf({name:""},r,n,"");{var o;const a=null!==(o=n.name)&&void 0!==o?o:"";return Tf({name:a},n.parent,n.providers,a)}}}(vn=As).THROW_IF_NOT_FOUND=yo,vn.NULL=new G,vn.\u0275prov=xr({token:vn,providedIn:"any",factory:()=>It(fs)}),vn.__NG_ELEMENT_ID__=-1,new pt("").__NG_ELEMENT_ID__=e=>{const n=ai();if(null===n)throw new qt(204,!1);if(2&n.type)return n.value;if(e&kr.Optional)return null;throw new qt(204,!1)};function pu(e){return e.ngOriginalError}const wf=!0;let uh=(()=>{var e;class n{}return(e=n).__NG_ELEMENT_ID__=Ov,e.__NG_ENV_ID__=r=>r,n})();class g0 extends uh{constructor(n){super(),this._lView=n}onDestroy(n){return Js(this._lView,n),()=>function ou(e,n){if(null===e[Qs])return;const r=e[Qs].indexOf(n);-1!==r&&e[Qs].splice(r,1)}(this._lView,n)}}function Ov(){return new g0(hn())}let gu=(()=>{var e;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new en.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=n).\u0275prov=xr({token:e,providedIn:"root",factory:()=>new e}),n})();const Il=class Ag extends bn.B{constructor(n=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Pl()&&(this.destroyRef=null!==(r=Ut(uh,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=Ut(gu,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const r=ee(null);try{super.next(n)}finally{ee(r)}}subscribe(n,r,o){let a=n,d=r||(()=>null),g=o;if(n&&"object"==typeof n){var y,C,$;const me=n;a=null===(y=me.next)||void 0===y?void 0:y.bind(me),d=null===(C=me.error)||void 0===C?void 0:C.bind(me),g=null===($=me.complete)||void 0===$?void 0:$.bind(me)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const J=super.subscribe({next:a,error:d,complete:g});return n instanceof Qt.yU&&n.add(J),J}wrapInTimeout(n){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;n(r),void 0!==a&&(null===(d=this.pendingTasks)||void 0===d||d.remove(a))})}}};function nd(...e){}function Nv(e){let n,r;function o(){e=nd;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Df(e){return queueMicrotask(()=>e()),()=>{e=nd}}const ch="isAngularZone",dh=ch+"_ID";let bg=0;class Ao{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=wf}=n;if(typeof Zone>"u")throw new qt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=d,function Cg(e){const n=()=>{!function vu(e){function n(){Nv(()=>{e.callbackScheduled=!1,_u(e),e.isCheckStableRunning=!0,mu(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),_u(e))}(e)},r=bg++;e._inner=e._inner.fork({name:"angular",properties:{[ch]:!0,[dh]:r,[dh+r]:!0},onInvokeTask:(o,a,d,g,y,C)=>{if(function m0(e){return Dg(e,"__ignore_ng_zone__")}(C))return o.invokeTask(d,g,y,C);try{return vc(e),o.invokeTask(d,g,y,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),wg(e)}},onInvoke:(o,a,d,g,y,C,$)=>{try{return vc(e),o.invoke(d,g,y,C,$)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function v0(e){return Dg(e,"__scheduler_tick__")}(C)&&n(),wg(e)}},onHasTask:(o,a,d,g)=>{o.hasTask(d,g),a===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,_u(e),mu(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ch)}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new qt(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new qt(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,a){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+a,n,Tg,nd,nd);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const Tg={};function mu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _u(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function vc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function wg(e){e._nesting--,mu(e)}class yu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,a){return n.apply(r,o)}}function Dg(e,n){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[n])}class nl{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&pu(n);for(;r&&pu(r);)r=pu(r);return r||null}}const Rg=new pt("",{providedIn:"root",factory:()=>{const e=Ut(Ao),n=Ut(nl);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function Pg(){return rd(ai(),hn())}function rd(e,n){return new id(as(e,n))}let id=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Pg,n})();function Lv(e){return e instanceof id?e.nativeElement:e}function Vv(){return this._results[Symbol.iterator]()}class Rf{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Il}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Rf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Vv)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function Ki(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ji(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=n[o];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function hh(e){return!(128&~e.flags)}const xg=new Map;let Og=0;function ph(e){xg.delete(e[Xs])}const Of="__ngContext__";function us(e,n){mo(n)?(e[Of]=n[Xs],function Ng(e){xg.set(e[Xs],e)}(n)):e[Of]=n}function Vf(e){return Uf(e[ma])}function Gv(e){return Uf(e[Do])}function Uf(e){for(;null!==e&&!ro(e);)e=e[Do];return e}let $g;function jg(e){$g=e}const ad=new pt("",{providedIn:"root",factory:()=>jf}),jf="ng",Hf=new pt(""),zf=new pt("",{providedIn:"platform",factory:()=>"unknown"}),Hg=new pt("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Iu(){if(void 0!==$g)return $g;if(typeof document<"u")return document;throw new qt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Wf=()=>null;function Kg(e,n,r=!1){return Wf(e,n,r)}const cs=new pt("",{providedIn:"root",factory:()=>!1});let qf;function N0(e){var n;return(null===(n=function nm(){if(void 0===qf&&(qf=null,On.trustedTypes))try{qf=On.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return qf}())||void 0===n?void 0:n.createScriptURL(e))||e}class Ro{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cn})`}}function wu(e){return e instanceof Ro?e.changingThisBreaksApplicationSecurity:e}function Ah(e,n){const r=function L0(e){return e instanceof Ro&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${cn})`)}return r===n}const Tc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Al=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Al||{});function fm(e){const n=Dc();return n?n.sanitize(Al.URL,e)||"":Ah(e,"URL")?wu(e):function pd(e){return(e=String(e)).match(Tc)?e:"unsafe:"+e}(pr(e))}function ep(e){const n=Dc();if(n)return N0(n.sanitize(Al.RESOURCE_URL,e)||"");if(Ah(e,"ResourceURL"))return N0(wu(e));throw new qt(904,!1)}function wc(e,n,r){return function B0(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?ep:fm}(n,r)(e)}function Dc(){const e=hn();return e&&e[Yo].sanitizer}const $0=/^>|^->|<!--|-->|--!>|<!-$/g,tp=/(<|>)/g,j0="\u200b$1\u200b";function Ta(e){return e instanceof Function?e():e}var ap=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ap||{});let lp;function _m(e,n){return lp(e,n)}function Mu(e,n,r,o,a){if(null!=o){let d,g=!1;ro(o)?d=o:mo(o)&&(g=!0,o=o[vi]);const y=Si(o);0===e&&null!==r?null==a?C_(n,r,y):Rc(n,r,y,a||null,!0):1===e&&null!==r?Rc(n,r,y,a||null,!0):2===e?function hp(e,n,r){e.removeChild(null,n,r)}(n,y,g):3===e&&n.destroyNode(y),null!=d&&function Cm(e,n,r,o,a){const d=r[na];d!==Si(r)&&Mu(n,e,o,d,a);for(let y=So;y<r.length;y++){const C=r[y];Tm(C[Ln],C,e,n,o,d)}}(n,e,d,r,a)}}function ym(e,n){return e.createComment(function m_(e){return e.replace($0,n=>n.replace(tp,j0))}(n))}function up(e,n,r){return e.createElement(n,r)}function eI(e,n){var r;null===(r=n[Yo].changeDetectionScheduler)||void 0===r||r.notify(9),Tm(e,n,n[$r],2,null,null)}function tI(e,n){const r=e[za],o=n[Xi];(mo(o)||n[to]!==o[Xi][to])&&(e[gr]|=hl.HasTransplantedViews),null===r?e[za]=[n]:r.push(n)}function Im(e,n){const r=e[za],o=r.indexOf(n);r.splice(o,1)}function Dh(e,n){if(e.length<=So)return;const r=So+n,o=e[r];if(o){const a=o[dl];null!==a&&a!==e&&Im(a,o),n>0&&(e[r-1][Do]=o[Do]);const d=rs(e,So+n);!function Y0(e,n){eI(e,n),n[vi]=null,n[Hi]=null}(o[Ln],o);const g=d[Zo];null!==g&&g.detachView(d[Ln]),o[Xi]=null,o[Do]=null,o[gr]&=-129}return o}function cp(e,n){if(!(256&n[gr])){const r=n[$r];r.destroyNode&&Tm(e,n,r,3,null,null),function gA(e){let n=e[ma];if(!n)return A_(e[Ln],e);for(;n;){let r=null;if(mo(n))r=n[ma];else{const o=n[So];o&&(r=o)}if(!r){for(;n&&!n[Do]&&n!==e;)mo(n)&&A_(n[Ln],n),n=n[Xi];null===n&&(n=e),mo(n)&&A_(n[Ln],n),r=n&&n[Do]}n=r}}(n)}}function A_(e,n){if(256&n[gr])return;const r=ee(null);try{n[gr]&=-129,n[gr]|=256,n[Fs]&&Tt(n[Fs]),function b_(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=n[r[o]];if(!(a instanceof lc)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=a[d[g]],C=d[g+1];qo(4,y,C);try{C.call(y)}finally{qo(5,y,C)}}else{qo(4,a,d);try{d.call(a)}finally{qo(5,a,d)}}}}}(e,n),function nI(e,n){const r=e.cleanup,o=n[Os];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const g=r[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(n[Os]=null);const a=n[Qs];if(null!==a){n[Qs]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,n),1===n[Ln].type&&n[$r].destroy();const o=n[dl];if(null!==o&&ro(n[Xi])){o!==n[Xi]&&Im(o,n);const a=n[Zo];null!==a&&a.detachView(e)}ph(n)}finally{ee(r)}}function Tl(e,n,r){return function T_(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[vi];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===A.None||d===A.Emulated)return null}return as(o,r)}}(e,n.parent,r)}function Rc(e,n,r,o,a){e.insertBefore(n,r,o,a)}function C_(e,n,r){e.appendChild(n,r)}function w_(e,n,r,o,a){null!==o?Rc(e,n,r,o,a):C_(e,n,r)}function Em(e,n){return e.parentNode(n)}function D_(e,n,r){return oI(e,n,r)}let S_,oI=function iI(e,n,r){return 40&e.type?as(e,r):null};function dp(e,n,r,o){const a=Tl(e,o,n),d=n[$r],y=D_(o.parent||n[Hi],o,n);if(null!=a)if(Array.isArray(r))for(let C=0;C<r.length;C++)w_(d,a,r[C],y,!1);else w_(d,a,r,y,!1);void 0!==S_&&S_(d,o,n,r,a)}function Id(e,n){if(null!==n){const r=n.type;if(3&r)return as(n,e);if(4&r)return R_(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return Id(e,o);{const a=e[n.index];return ro(a)?R_(-1,a):Si(a)}}if(128&r)return Id(e,n.next);if(32&r)return _m(n,e)()||Si(e[n.index]);{const o=sI(e,n);return null!==o?Array.isArray(o)?o[0]:Id(oa(e[to]),o):Id(e,n.next)}}return null}function sI(e,n){return null!==n?e[to][Hi].projection[n.projection]:null}function R_(e,n){const r=So+e+1;if(r<n.length){const o=n[r],a=o[Ln].firstChild;if(null!==a)return Id(o,a)}return n[na]}function fp(e,n,r,o,a,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const y=o[r.index],C=r.type;if(g&&0===n&&(y&&us(Si(y),o),r.flags|=2),32&~r.flags)if(8&C)fp(e,n,r.child,o,a,d,!1),Mu(n,e,a,y,d);else if(32&C){const $=_m(r,o);let J;for(;J=$();)Mu(n,e,a,J,d);Mu(n,e,a,y,d)}else 16&C?aI(e,n,o,r,a,d):Mu(n,e,a,y,d);r=g?r.projectionNext:r.next}}function Tm(e,n,r,o,a,d){fp(r,o,e.firstChild,n,a,d,!1)}function aI(e,n,r,o,a,d){const g=r[to],C=g[Hi].projection[o.projection];if(Array.isArray(C))for(let $=0;$<C.length;$++)Mu(n,e,a,C[$],d);else{let $=C;const J=g[Xi];hh(o)&&($.flags|=128),fp(e,n,$,J,a,d,!0)}}function P_(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function gp(e,n,r){const{mergedAttrs:o,classes:a,styles:d}=r;null!==o&&be(e,n,o),null!==a&&P_(e,n,a),null!==d&&function lI(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const li={};function wm(e=1){Ed(ti(),hn(),zo()+e,!1)}function Ed(e,n,r,o){if(!o)if(3&~n[gr]){const d=e.preOrderHooks;null!==d&&Aa(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Ul(n,d,r)}Eo(r)}function xu(e,n=kr.Default){const r=hn();return null===r?It(e,n):fc(ai(),r,Et(e),n)}function M_(){throw new Error("invalid")}function x_(e,n,r,o,a,d){const g=ee(null);try{let y=null;a&j.SignalBased&&(y=n[o][X]),null!==y&&void 0!==y.transformFn&&(d=y.transformFn(d)),a&j.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,y,d,r,o):Ho(n,y,o,d)}finally{ee(g)}}function Pc(e,n,r,o,a,d,g,y,C,$,J){const me=n.blueprint.slice();return me[vi]=a,me[gr]=204|o,(null!==$||e&&2048&e[gr])&&(me[gr]|=2048),tc(me),me[Xi]=me[Ml]=e,me[Xr]=r,me[Yo]=g||e&&e[Yo],me[$r]=y||e&&e[$r],me[Rr]=C||e&&e[Rr]||null,me[Hi]=d,me[Xs]=function $v(){return Og++}(),me[No]=J,me[ks]=$,me[to]=2==n.type?e[to]:me,me}function Mc(e,n,r,o,a){let d=e.data[n];if(null===d)d=function mp(e,n,r,o,a){const d=qc(),g=Xc(),C=e.data[n]=function Nc(e,n,r,o,a,d){let g=n?n.injectorIndex:-1,y=0;return Qa()&&(y|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,n,o,a);return null===e.firstChild&&(e.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(e,n,r,o,a),function ff(){return Qr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=a;const g=function Ja(){const e=Qr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Is(d,!0),d}function Ad(e,n,r,o){if(0===r)return-1;const a=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return a}function Ou(e,n,r,o,a){const d=zo(),g=2&o;try{Eo(-1),g&&n.length>yr&&Ed(e,n,yr,!1),qo(g?2:0,a),r(o,a)}finally{Eo(d),qo(g?3:1,a)}}function sa(e,n,r){if(Ga(n)){const o=ee(null);try{const d=n.directiveEnd;for(let g=n.directiveStart;g<d;g++){const y=e.data[g];y.contentQueries&&y.contentQueries(1,r[g],g)}}finally{ee(o)}}}function bs(e,n,r){oc()&&(function Rm(e,n,r,o){const a=r.directiveStart,d=r.directiveEnd;Wa(r)&&function z_(e,n,r){const o=as(n,e),a=Dm(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const y=u(e,Pc(e,a,null,g,o,n,null,e[Yo].rendererFactory.createRenderer(o,r),null,null,null));e[n.index]=y}(n,r,e.data[a+r.componentOffset]),e.firstCreatePass||tl(r,n),us(o,n);const g=r.initialInputs;for(let y=a;y<d;y++){const C=e.data[y],$=Lo(n,e,y,r);us($,n),null!==g&&l(0,y-a,$,C,0,g),ss(C)&&(ls(r.index,n)[Xr]=Lo(n,e,y,r))}}(e,n,r,as(r,n)),!(64&~r.flags)&&U_(e,n,r))}function vp(e,n,r=as){const o=n.localNames;if(null!==o){let a=n.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],y=-1===g?r(n,e):e[g];e[a++]=y}}}function Dm(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=xc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function xc(e,n,r,o,a,d,g,y,C,$,J){const me=yr+o,Ze=me+a,dt=function Sh(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:li);return r}(me,Ze),ot="function"==typeof $?$():$;return dt[Ln]={type:e,blueprint:dt,template:r,queries:null,viewQuery:y,declTNode:n,data:dt.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:ot,incompleteFirstPass:!1,ssrId:J}}let _p=()=>null;function N_(e,n,r,o,a){for(let g in n){var d;if(!n.hasOwnProperty(g))continue;const y=n[g];if(void 0===y)continue;null!==(d=o)&&void 0!==d||(o={});let C,$=j.None;Array.isArray(y)?(C=y[0],$=y[1]):C=y;let J=g;if(null!==a){if(!a.hasOwnProperty(g))continue;J=a[g]}0===e?k_(o,r,J,C,$):k_(o,r,J,C)}return o}function k_(e,n,r,o,a){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==a&&d.push(a)}function aa(e,n,r,o,a,d,g,y){const C=as(n,r);let J,$=n.inputs;!y&&null!=$&&(J=$[o])?(He(e,r,J,o,a),Wa(n)&&function F_(e,n){const r=ls(n,e);16&r[gr]||(r[gr]|=64)}(r,n.index)):3&n.type&&(o=function dI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,n.value||"",o):a,d.setProperty(C,o,a))}function yp(e,n,r,o){if(oc()){const a=null===o?null:{"":-1},d=function $_(e,n){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let g=0;g<r.length;g++){const y=r[g];if(Oo(n,y.selectors,!1))if(o||(o=[]),ss(y))if(null!==y.findHostDirectiveDefs){const C=[];a=a||new Map,y.findHostDirectiveDefs(y,C,a),o.unshift(...C,y),Pm(e,n,C.length)}else o.unshift(y),Pm(e,n,0);else{var d;a=a||new Map,null===(d=y.findHostDirectiveDefs)||void 0===d||d.call(y,y,o,a),o.push(y)}}return null===o?null:[o,a]}(e,r);let g,y;null===d?g=y=null:[g,y]=d,null!==g&&Rh(e,n,r,g,a,y),a&&function j_(e,n,r){if(n){const o=e.localNames=[];for(let a=0;a<n.length;a+=2){const d=r[n[a+1]];if(null==d)throw new qt(-301,!1);o.push(n[a],d)}}}(r,o,a)}r.mergedAttrs=wt(r.mergedAttrs,r.attrs)}function Rh(e,n,r,o,a,d){for(let me=0;me<o.length;me++)Hl(tl(r,n),e,o[me].type);!function pI(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let me=0;me<o.length;me++){const Ze=o[me];Ze.providersResolver&&Ze.providersResolver(Ze)}let g=!1,y=!1,C=Ad(e,n,o.length,null);for(let me=0;me<o.length;me++){const Ze=o[me];r.mergedAttrs=wt(r.mergedAttrs,Ze.hostAttrs),gI(e,r,n,C,Ze),H_(C,Ze,a),null!==Ze.contentQueries&&(r.flags|=4),(null!==Ze.hostBindings||null!==Ze.hostAttrs||0!==Ze.hostVars)&&(r.flags|=64);const dt=Ze.type.prototype;var $,J;!g&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((null!==($=e.preOrderHooks)&&void 0!==$?$:e.preOrderHooks=[]).push(r.index),g=!0),y||!dt.ngOnChanges&&!dt.ngDoCheck||((null!==(J=e.preOrderCheckHooks)&&void 0!==J?J:e.preOrderCheckHooks=[]).push(r.index),y=!0),C++}!function cI(e,n,r){const a=n.directiveEnd,d=e.data,g=n.attrs,y=[];let C=null,$=null;for(let J=n.directiveStart;J<a;J++){const me=d[J],Ze=r?r.get(me):null,ot=Ze?Ze.outputs:null;C=N_(0,me.inputs,J,C,Ze?Ze.inputs:null),$=N_(1,me.outputs,J,$,ot);const un=null===C||null===g||mr(n)?null:t(C,J,g);y.push(un)}null!==C&&(C.hasOwnProperty("class")&&(n.flags|=8),C.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=C,n.outputs=$}(e,r,d)}function U_(e,n,r){const o=r.directiveStart,a=r.directiveEnd,d=r.index,g=function gf(){return Qr.lFrame.currentDirectiveIndex}();try{Eo(d);for(let y=o;y<a;y++){const C=e.data[y],$=n[y];Jd(y),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&B_(C,$)}}finally{Eo(-1),Jd(g)}}function B_(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Pm(e,n,r){var o;n.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function H_(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;ss(n)&&(r[""]=e)}}function gI(e,n,r,o,a){e.data[o]=a;const d=a.factory||(a.factory=oo(a.type)),g=new lc(d,ss(a),xu);e.blueprint[o]=g,r[o]=g,function V_(e,n,r,o,a){const d=a.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const y=~n.index;(function fI(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(g)!=y&&g.push(y),g.push(r,o,d)}}(e,n,o,Ad(e,r,a.hostVars,li),a)}function rl(e,n,r,o,a,d){const g=as(e,n);!function Mm(e,n,r,o,a,d,g){if(null==d)e.removeAttribute(n,a,r);else{const y=null==g?pr(d):g(d,o||"",a);e.setAttribute(n,a,y,r)}}(n[$r],g,d,e.value,r,o,a)}function l(e,n,r,o,a,d){const g=d[n];if(null!==g)for(let y=0;y<g.length;)x_(o,r,g[y++],g[y++],g[y++],g[y++])}function t(e,n,r){let o=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let y=0;y<g.length;y+=3)if(g[y]===n){o.push(d,g[y+1],g[y+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function i(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function s(e,n){const r=e.contentQueries;if(null!==r){const o=ee(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const y=e.data[g];Ll(r[a]),y.contentQueries(2,n[g],g)}}}finally{ee(o)}}}function u(e,n){return e[ma]?e[Ns][Do]=n:e[ma]=n,e[Ns]=n,n}function f(e,n,r){Ll(0);const o=ee(null);try{n(e,r)}finally{ee(o)}}function R(e){var n;return null!==(n=e[Os])&&void 0!==n?n:e[Os]=[]}function k(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function Ae(e,n){const r=e[Rr],o=r?r.get(nl,null):null;o&&o.handleError(n)}function He(e,n,r,o,a){for(let d=0;d<r.length;){const g=r[d++],y=r[d++],C=r[d++];x_(e.data[g],n[g],o,y,C,a)}}function mt(e,n,r){const o=iu(n,e);!function E_(e,n,r){e.setValue(n,r)}(e[$r],o,r)}function Zt(e,n){const r=ls(n,e),o=r[Ln];!function Sn(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const a=r[vi];null!==a&&null===r[No]&&(r[No]=Kg(a,r[Rr])),Kn(o,r,r[Xr])}function Kn(e,n,r){Yc(n);try{var o;const a=e.viewQuery;null!==a&&f(1,a,r);const d=e.template;null!==d&&Ou(e,n,d,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[Zo])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&s(e,n),e.staticViewQueries&&f(2,e.viewQuery,r);const g=e.components;null!==g&&function Vn(e,n){for(let r=0;r<n.length;r++)Zt(e,n[r])}(n,g)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{n[gr]&=-5,eh()}}function vr(e,n,r,o){const a=ee(null);try{var d,g,y;const C=n.tView,me=Pc(e,C,r,4096&e[gr]?4096:16,null,n,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(y=null==o?void 0:o.dehydratedView)&&void 0!==y?y:null);me[dl]=e[n.index];const dt=e[Zo];return null!==dt&&(me[Zo]=dt.createEmbeddedView(C)),Kn(C,me,r),me}finally{ee(a)}}function Ir(e,n){return!n||null===n.firstChild||hh(e)}function Fr(e,n,r,o=!0){const a=n[Ln];if(function mA(e,n,r,o){const a=So+o,d=r.length;o>0&&(r[a-1][Do]=n),o<d-So?(n[Do]=r[a],Uo(r,So+o,n)):(r.push(n),n[Do]=null),n[Xi]=r;const g=n[dl];null!==g&&r!==g&&tI(g,n);const y=n[Zo];null!==y&&y.insertView(e),Fl(n),n[gr]|=128}(a,n,e,r),o){const g=R_(r,e),y=n[$r],C=Em(y,e[na]);null!==C&&function Z0(e,n,r,o,a,d){o[vi]=a,o[Hi]=n,Tm(e,o,r,1,a,d)}(a,e[Hi],y,n,C,g)}const d=n[No];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Yr(e,n,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&o.push(Si(d)),ro(d)&&$t(d,o);const g=r.type;if(8&g)Yr(e,n,r.child,o);else if(32&g){const y=_m(r,n);let C;for(;C=y();)o.push(C)}else if(16&g){const y=sI(n,r);if(Array.isArray(y))o.push(...y);else{const C=oa(n[to]);Yr(C[Ln],C,y,o,!0)}}r=a?r.projectionNext:r.next}return o}function $t(e,n){for(let r=So;r<e.length;r++){const o=e[r],a=o[Ln].firstChild;null!==a&&Yr(o[Ln],o,a,n)}e[na]!==e[vi]&&n.push(e[na])}let ft=[];const tn={...Pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ma(e.lView)},consumerOnSignalRead(){this.lView[Fs]=this}},Wl={...Pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=oa(e.lView);for(;n&&!Td(n[Ln]);)n=oa(n);n&&Gc(n)},consumerOnSignalRead(){this.lView[Fs]=this}};function Td(e){return 2!==e.type}const mI=100;function Nu(e,n=!0,r=0){const o=e[Yo],a=o.rendererFactory;var g;null===(g=a.begin)||void 0===g||g.call(a);try{!function Ph(e,n){const r=Za();try{Qd(!0),kc(e,n);let o=0;for(;gl(e);){if(o===mI)throw new qt(103,!1);o++,kc(e,1)}}finally{Qd(r)}}(e,r)}catch($){throw n&&Ae(e,$),$}finally{var y,C;null===(y=a.end)||void 0===y||y.call(a),null===(C=o.inlineEffectRunner)||void 0===C||C.flush()}}function G_(e,n,r,o){var a;const d=n[gr];if(!(256&~d))return;null===(a=n[Yo].inlineEffectRunner)||void 0===a||a.flush(),Yc(n);let C=!0,$=null,J=null;Td(e)?(J=function Ot(e){var n;return null!==(n=e[Fs])&&void 0!==n?n:function jt(e){var n;const r=null!==(n=ft.pop())&&void 0!==n?n:Object.create(tn);return r.lView=e,r}(e)}(n),$=st(J)):null===function _e(){return h}()?(C=!1,J=function Pt(e){var n;const r=null!==(n=e[Fs])&&void 0!==n?n:Object.create(Wl);return r.lView=e,r}(n),$=st(J)):n[Fs]&&(Tt(n[Fs]),n[Fs]=null);try{tc(n),function hf(e){return Qr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Ou(e,n,r,2,o);const me=!(3&~d);if(me){const ot=e.preOrderCheckHooks;null!==ot&&Ul(n,ot,null)}else{const ot=e.preOrderHooks;null!==ot&&Aa(n,ot,0,null),Bl(n,0)}if(function ku(e){for(let n=Vf(e);null!==n;n=Gv(n)){if(!(n[gr]&hl.HasTransplantedViews))continue;const r=n[za];for(let o=0;o<r.length;o++)Gc(r[o])}}(n),W_(n,0),null!==e.contentQueries&&s(e,n),me){const ot=e.contentCheckHooks;null!==ot&&Ul(n,ot)}else{const ot=e.contentHooks;null!==ot&&Aa(n,ot,1),Bl(n,1)}!function O_(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Eo(~a);else{const d=a,g=r[++o],y=r[++o];Qc(g,d),y(2,n[d])}}}finally{Eo(-1)}}(e,n);const Ze=e.components;null!==Ze&&q_(n,Ze,0);const dt=e.viewQuery;if(null!==dt&&f(2,dt,o),me){const ot=e.viewCheckHooks;null!==ot&&Ul(n,ot)}else{const ot=e.viewHooks;null!==ot&&Aa(n,ot,2),Bl(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[no]){for(const ot of n[no])ot();n[no]=null}n[gr]&=-73}catch(me){throw Ma(n),me}finally{null!==J&&(lt(J,$),C&&function Kt(e){e.lView[Fs]!==e&&(e.lView=null,ft.push(e))}(J)),eh()}}function W_(e,n){for(let r=Vf(e);null!==r;r=Gv(r))for(let o=So;o<r.length;o++)K_(r[o],n)}function Bs(e,n,r){K_(ls(n,e),r)}function K_(e,n){Wd(e)&&kc(e,n)}function kc(e,n){const o=e[Ln],a=e[gr],d=e[Fs];let g=!!(0===n&&16&a);if(g||(g=!!(64&a&&0===n)),g||(g=!!(1024&a)),g||(g=!(null==d||!d.dirty||!xt(d))),g||(g=!1),d&&(d.dirty=!1),e[gr]&=-9217,g)G_(o,e,o.template,e[Xr]);else if(8192&a){W_(e,1);const y=o.components;null!==y&&q_(e,y,1)}}function q_(e,n,r){for(let o=0;o<n.length;o++)Bs(e,n[o],r)}function Kl(e,n){var r;const o=Za()?64:1088;for(null===(r=e[Yo].changeDetectionScheduler)||void 0===r||r.notify(n);e;){e[gr]|=o;const a=oa(e);if(_a(e)&&!a)return e;e=a}return null}class Mh{get rootNodes(){const n=this._lView,r=n[Ln];return Yr(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(n){this._lView[Xr]=n}get destroyed(){return!(256&~this._lView[gr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Xi];if(ro(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Dh(n,o),rs(r,o))}this._attachedToViewContainer=!1}cp(this._lView[Ln],this._lView)}onDestroy(n){Js(this._lView,n)}markForCheck(){Kl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[gr]&=-129}reattach(){Fl(this._lView),this._lView[gr]|=128}detectChanges(){this._lView[gr]|=1024,Nu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=_a(this._lView),r=this._lView[dl];null!==r&&!n&&Im(r,this._lView),eI(this._lView[Ln],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new qt(902,!1);this._appRef=n;const r=_a(this._lView),o=this._lView[dl];null!==o&&!r&&tI(o,this._lView),Fl(this._lView)}}let xh=(()=>{class n{}return n.__NG_ELEMENT_ID__=xm,n})();const Ep=xh,Ap=class extends Ep{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const a=vr(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Mh(a)}};function xm(){return Cd(ai(),hn())}function Cd(e,n){return 4&e.type?new Ap(n,e,rd(e,n)):null}let kd=()=>null;function $u(e,n){return kd(e,n)}class Vc{}const Cl=new pt("",{providedIn:"root",factory:()=>!1}),fy=new pt(""),qm=new pt("");class ju{}class py{}class gy{resolveComponentFactory(n){throw function OI(e){const n=Error(`No component factory found for ${Cn(e)}.`);return n.ngComponent=e,n}(n)}}class wl{}wl.NULL=new gy;class Uc{}let my=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Qm(){const e=hn(),r=ls(ai().index,e);return(mo(r)?r:e)[$r]}(),n})(),Vo=(()=>{var e;class n{}return(e=n).\u0275prov=xr({token:e,providedIn:"root",factory:()=>null}),n})();function Hu(e){return!!go(e)}function Vd(e,n,r){let o=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==n)for(let g=0;g<n.length;g++){const y=n[g];"number"==typeof y?d=y:1==d?a=Gt(a,y):2==d&&(o=Gt(o,y+": "+n[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class Kh extends wl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=qr(n);return new qh(r,this.ngModule)}}function ev(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const d=Array.isArray(a),g=d?a[0]:a;r.push(n?{propName:g,templateName:o,isSignal:!!((d?a[1]:j.None)&j.SignalBased)}:{propName:g,templateName:o})}return r}class qh extends py{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=ev(n.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return ev(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function dr(e){return e.map(En).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,a){const d=ee(null);try{var y;let C=(a=a||this.ngModule)instanceof Wo?a:null===(y=a)||void 0===y?void 0:y.injector;C&&null!==this.componentDef.getStandaloneInjector&&(C=this.componentDef.getStandaloneInjector(C)||C);const $=C?new te(n,C):n,J=$.get(Uc,null);if(null===J)throw new qt(407,!1);const dt={rendererFactory:J,sanitizer:$.get(Vo,null),inlineEffectRunner:null,changeDetectionScheduler:$.get(Vc,null)},ot=J.createRenderer(null,this.componentDef),un=this.componentDef.selectors[0][0]||"div",Pn=o?function Zs(e,n,r,o){const d=o.get(cs,!1)||r===A.ShadowDom,g=e.selectRootElement(n,d);return function uI(e){_p(e)}(g),g}(ot,o,this.componentDef.encapsulation,$):up(ot,un,function xp(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(un));let Wn=512;this.componentDef.signals?Wn|=4096:this.componentDef.onPush||(Wn|=16);let mn=null;null!==Pn&&(mn=Kg(Pn,$,!0));const Lr=xc(0,null,null,1,0,null,null,null,null,null,null),ni=Pc(null,Lr,null,Wn,null,null,dt,ot,$,null,mn);Yc(ni);let To,Ss,ua=null;try{const sl=this.componentDef;let rf,qE=null;sl.findHostDirectiveDefs?(rf=[],qE=new Map,sl.findHostDirectiveDefs(sl,rf,qE),rf.push(sl)):rf=[sl];const $x=function Xh(e,n){const r=e[Ln],o=yr;return e[o]=n,Mc(r,o,2,"#host",null)}(ni,Pn);ua=function yy(e,n,r,o,a,d,g){const y=a[Ln];!function Iy(e,n,r,o){for(const a of e)n.mergedAttrs=wt(n.mergedAttrs,a.hostAttrs);null!==n.mergedAttrs&&(Vd(n,n.mergedAttrs,!0),null!==r&&gp(o,r,n))}(o,e,n,g);let C=null;null!==n&&(C=Kg(n,a[Rr]));const $=d.rendererFactory.createRenderer(n,r);let J=16;r.signals?J=4096:r.onPush&&(J=64);const me=Pc(a,Dm(r),null,J,a[e.index],e,d,$,null,null,C);return y.firstCreatePass&&Pm(y,e,o.length-1),u(a,me),a[e.index]=me}($x,Pn,sl,rf,ni,dt,ot),Ss=Nl(Lr,yr),Pn&&function nv(e,n,r,o){if(o)be(e,r,["ng-version","18.2.8"]);else{const{attrs:a,classes:d}=function xi(e){const n=[],r=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&n.push(d,e[++o]):8===a&&r.push(d);else{if(!Br(a))break;a=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);a&&be(e,r,a),d&&d.length>0&&P_(e,r,d.join(" "))}}(ot,sl,Pn,o),void 0!==r&&function Ey(e,n,r){const o=e.projection=[];for(let a=0;a<n.length;a++){const d=r[a];o.push(null!=d?Array.from(d):null)}}(Ss,this.ngContentSelectors,r),To=function tv(e,n,r,o,a,d){const g=ai(),y=a[Ln],C=as(g,a);Rh(y,a,g,r,null,o);for(let J=0;J<r.length;J++)us(Lo(a,y,g.directiveStart+J,g),a);U_(y,a,g),C&&us(C,a);const $=Lo(a,y,g.directiveStart+g.componentOffset,g);if(e[Xr]=a[Xr]=$,null!==d)for(const J of d)J($,n);return sa(y,g,a),$}(ua,sl,rf,qE,ni,[Op]),Kn(Lr,ni,null)}catch(sl){throw null!==ua&&ph(ua),ph(ni),sl}finally{eh()}return new _y(this.componentType,To,rd(Ss,ni),ni,Ss)}finally{ee(d)}}}class _y extends ju{constructor(n,r,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Mh(a,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[n])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const g=this._rootLView;He(g[Ln],g,a,n,r),this.previousInputValues.set(n,r),Kl(ls(this._tNode.index,g),1)}}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Op(){const e=ai();vl(hn()[Ln],e)}let Qh=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ay,n})();function Ay(){return ov(ai(),hn())}const Bc=Qh,rv=class extends Bc{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return rd(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const n=jl(this._hostTNode,this._hostLView);if(Ce(n)){const r=xn(n,this._hostLView),o=Rt(n);return new Xo(r[Ln].data[o+8],r)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=iv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-So}createEmbeddedView(n,r,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const g=$u(this._lContainer,n.ssrId),y=n.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(y,a,Ir(this._hostTNode,g)),y}createComponent(n,r,o,a,d){var g,y,C;const $=n&&!function kn(e){return"function"==typeof e}(n);let J;if($)J=r;else{const Wn=r||{};J=Wn.index,o=Wn.injector,a=Wn.projectableNodes,d=Wn.environmentInjector||Wn.ngModuleRef}const me=$?n:new qh(qr(n)),Ze=o||this.parentInjector;if(!d&&null==me.ngModule){const mn=($?Ze:this.parentInjector).get(Wo,null);mn&&(d=mn)}const dt=qr(null!==(g=me.componentType)&&void 0!==g?g:{}),ot=$u(this._lContainer,null!==(y=null==dt?void 0:dt.id)&&void 0!==y?y:null),un=null!==(C=null==ot?void 0:ot.firstChild)&&void 0!==C?C:null,Pn=me.create(Ze,a,un,d);return this.insertImpl(Pn.hostView,J,Ir(this._hostTNode,ot)),Pn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const a=n._lView;if(function Xa(e){return ro(e[Xi])}(a)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const C=a[Xi],$=new rv(C,C[Hi],C[Xi]);$.detach($.indexOf(n))}}const d=this._adjustIndex(r),g=this._lContainer;return Fr(g,a,d,o),n.attachToViewContainerRef(),Uo(Np(g),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=iv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Dh(this._lContainer,r);o&&(rs(Np(this._lContainer),r),cp(o[Ln],o))}detach(n){const r=this._adjustIndex(n,-1),o=Dh(this._lContainer,r);return o&&null!=rs(Np(this._lContainer),r)?new Mh(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function iv(e){return e[8]}function Np(e){return e[8]||(e[8]=[])}function ov(e,n){let r;const o=n[e.index];return ro(o)?r=o:(r=i(o,n,null,e),n[e.index]=r,u(n,r)),la(r,n,e,o),new rv(r,e,n)}let la=function $c(e,n,r,o){if(e[na])return;let a;a=8&r.type?Si(o):function kp(e,n){const r=e[$r],o=r.createComment(""),a=as(n,e);return Rc(r,Em(r,a),o,function rI(e,n){return e.nextSibling(n)}(r,a),!1),o}(n,r),e[na]=a},Fp=()=>!1;class Fe{constructor(n){this.queryList=n,this.matches=null}clone(){return new Fe(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jt{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,a=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);a.push(this.queries[g.indexInDeclarationView].clone())}return new Jt(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==kI(n,r).matches&&this.queries[r].setDirty()}}class fn{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function Vw(e){return e.split(",").map(n=>n.trim())}(n):n}}class rr{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,a);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new rr(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class io{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new io(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(n,r,Cs(r,d)),this.matchTNodeWithReadOption(n,r,Af(r,n,d,!1,!1))}else o===xh?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Af(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===id||a===Qh||a===xh&&4&r.type)this.addMatch(r.index,-2);else{const d=Af(r,n,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Cs(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function js(e,n,r,o){return-1===r?function Gi(e,n){return 11&e.type?rd(e,n):4&e.type?Cd(e,n):null}(n,e):-2===r?function Hs(e,n,r){return r===id?rd(n,e):r===xh?Cd(n,e):r===Qh?ov(n,e):void 0}(e,n,o):Lo(e,e[Ln],r,n)}function jc(e,n,r,o){const a=n[Zo].queries[o];if(null===a.matches){const d=e.data,g=r.matches,y=[];for(let C=0;null!==g&&C<g.length;C+=2){const $=g[C];y.push($<0?null:js(n,d[$],g[C+1],r.metadata.read))}a.matches=y}return a.matches}function Ca(e,n,r,o){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const g=jc(e,n,a,r);for(let y=0;y<d.length;y+=2){const C=d[y];if(C>0)o.push(g[y/2]);else{const $=d[y+1],J=n[-C];for(let me=So;me<J.length;me++){const Ze=J[me];Ze[dl]===Ze[Xi]&&Ca(Ze[Ln],Ze,$,o)}if(null!==J[za]){const me=J[za];for(let Ze=0;Ze<me.length;Ze++){const dt=me[Ze];Ca(dt[Ln],dt,$,o)}}}}}return o}function Lp(e,n,r){var o;const a=new Rf(!(4&~r));return function Sm(e,n,r,o){const a=R(n);a.push(r),e.firstCreatePass&&k(e).push(o,a.length-1)}(e,n,a,a.destroy),(null!==(o=n[Zo])&&void 0!==o?o:n[Zo]=new Jt).queries.push(new Fe(a))-1}function EA(e,n,r){null===e.queries&&(e.queries=new rr),e.queries.track(new io(n,r))}function kI(e,n){return e.queries.getByIndex(n)}function AA(e,n){const r=e[Ln],o=kI(r,n);return o.crossesNgTemplate?Ca(r,e,n,[]):jc(r,e,o,n)}const bA=new Set;function wa(e){var n,r;bA.has(e)||(bA.add(e),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:e}}))}function CA(e,n){wa("NgSignals");const r=function ie(e){const n=Object.create(Lt);n.value=e;const r=()=>(ye(n),n.value);return r[X]=n,r}(e),o=r[X];return null!=n&&n.equal&&(o.equal=n.equal),r.set=a=>nt(o,a),r.update=a=>function At(e,n){ut()||Wt(),nt(e,n(e.value))}(o,a),r.asReadonly=wA.bind(r),r}function wA(){const e=this[X];if(void 0===e.readonlyFn){const n=()=>this();n[X]=e,e.readonlyFn=n}return e.readonlyFn}function DA(e){return function TA(e){return"function"==typeof e&&void 0!==e[X]}(e)&&"function"==typeof e.set}function LI(e){let n=function VA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let a;if(ss(e))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new qt(903,!1);a=n.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=Ty(e.inputs),g.inputTransforms=Ty(e.inputTransforms),g.declaredInputs=Ty(e.declaredInputs),g.outputs=Ty(e.outputs);const y=a.hostBindings;y&&Zw(e,y);const C=a.viewQuery,$=a.contentQueries;if(C&&Jw(e,C),$&&Yw(e,$),Xw(e,a),Ar(e.outputs,a.outputs),ss(a)&&a.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let g=0;g<d.length;g++){const y=d[g];y&&y.ngInherit&&y(e),y===LI&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Qw(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=n+=a.hostVars,a.hostAttrs=wt(a.hostAttrs,r=wt(r,a.hostAttrs))}}(o)}function Xw(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=n.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var r;const d=Array.isArray(a)?a[0]:a;if(!n.inputTransforms.hasOwnProperty(d))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[d]=n.inputTransforms[d]}}}function Ty(e){return e===Gr?{}:e===ei?[]:e}function Jw(e,n){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{n(o,a),r(o,a)}:n}function Yw(e,n){const r=e.contentQueries;e.contentQueries=r?(o,a,d)=>{n(o,a,d),r(o,a,d)}:n}function Zw(e,n){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{n(o,a),r(o,a)}:n}function jA(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const a=n[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class Jh{}class HA{}function oD(e,n){return new VI(e,null!=n?n:null,[])}class VI extends Jh{constructor(n,r,o,a=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kh(this);const d=go(n);this._bootstrapComponents=Ta(d.bootstrap),this._r3Injector=xv(n,r,[{provide:Jh,useValue:this},{provide:wl,useValue:this.componentFactoryResolver},...o],Cn(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class UI extends HA{constructor(n){super(),this.moduleType=n}create(n){return new VI(this.moduleType,n,[])}}class zA extends Jh{constructor(n){super(),this.componentFactoryResolver=new Kh(this),this.instance=null;const r=new vs([...n.providers,{provide:Jh,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],n.parent||Sa(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function BI(e,n,r=null){return new zA({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function Cy(e){return!!$I(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function $I(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function es(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function uv(e,n,r,o,a,d,g,y,C,$){const J=r+yr,me=n.firstCreatePass?function dD(e,n,r,o,a,d,g,y,C){const $=n.consts,J=Mc(n,e,4,g||null,y||null);yp(n,r,J,ia($,C)),vl(n,J);const me=J.tView=xc(2,J,o,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,$,null);return null!==n.queries&&(n.queries.template(n,J),me.queries=n.queries.embeddedTView(J)),J}(J,n,e,o,a,d,g,y,C):n.data[J];Is(me,!1);const Ze=GA(n,e,me,r);xa()&&dp(n,e,Ze,me),us(Ze,e);const dt=i(Ze,e,Ze,me);return e[J]=dt,u(e,dt),function sv(e,n,r){return Fp(e,n,r)}(dt,me,e),Yi(me)&&bs(n,e,me),null!=C&&vp(e,me,$),me}function jI(e,n,r,o,a,d,g,y){const C=hn(),$=ti();return uv(C,$,e,n,r,o,a,ia($.consts,d),g,y),jI}let GA=function WA(e,n,r,o){return Oa(!0),n[$r].createComment("")};var $p=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}($p||{});let YA=(()=>{var e;class n{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=n).\u0275prov=xr({token:e,providedIn:"root",factory:()=>new e}),n})();class Py{constructor(){this.ngZone=Ut(Ao),this.scheduler=Ut(Vc),this.errorHandler=Ut(nl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of Py.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var n;o.erroredOrDestroyed=!0,null===(n=this.errorHandler)||void 0===n||n.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}}(Oe=Py).PHASES=[$p.EarlyRead,$p.Write,$p.MixedReadWrite,$p.Read],Oe.\u0275prov=xr({token:Oe,providedIn:"root",factory:()=>new Oe});class gD{constructor(n,r,o,a){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==a?void 0:a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var n;this.impl.unregister(this),null===(n=this.unregisterOnDestroy)||void 0===n||n.call(this)}}function My(e,n){var r;(null==n||!n.injector)&&function w(e){if(!Pl())throw new qt(-203,!1)}();const o=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:Ut(As);return function Qo(e){return"browser"===(null!=e?e:Ut(As)).get(zf)}(o)?(wa("NgAfterNextRender"),function ZA(e,n,r,o){var a,d;const g=n.get(YA);null!==(a=g.impl)&&void 0!==a||(g.impl=n.get(Py));const y=null!==(d=null==r?void 0:r.phase)&&void 0!==d?d:$p.MixedReadWrite,C=!0!==(null==r?void 0:r.manualCleanup)?n.get(uh):null,$=new gD(g.impl,function vD(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,y),o,C);return g.impl.register($),$}(e,o,n,!0)):eb}const eb={destroy(){}};function ZI(e,n,r,o){const a=hn();return es(a,Es(),n)&&(ti(),rl(Zi(),a,e,n,r,o)),ZI}function Xp(e,n,r,o,a,d){const y=function Yh(e,n,r,o){const a=es(e,n,r);return es(e,n+1,o)||a}(e,function Ea(){return Qr.lFrame.bindingIndex}(),r,a);return el(2),y?n+pr(r)+o+pr(a)+d:li}function Ny(e,n){return e<<17|n<<2}function $d(e){return e>>17&32767}function eE(e){return 2|e}function ef(e){return(131068&e)>>2}function tE(e,n){return-131069&e|n<<2}function nE(e){return 1|e}function wb(e,n,r,o){const a=e[r+1],d=null===n;let g=o?$d(a):ef(a),y=!1;for(;0!==g&&(!1===y||d);){const $=e[g+1];ZD(e[g],n)&&(y=!0,e[g+1]=o?nE($):eE($)),g=o?$d($):ef($)}y&&(e[r+1]=o?eE(a):nE(a))}function ZD(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&hs(e,n)>=0}function rE(e,n,r){const o=hn();return es(o,Es(),n)&&aa(ti(),Zi(),o,e,n,o[$r],r,!1),rE}function iE(e,n,r,o,a){const g=a?"class":"style";He(e,r,n.inputs[g],g,o)}function oE(e,n){return function Zl(e,n,r,o){const a=hn(),d=ti(),g=el(2);d.firstUpdatePass&&function kb(e,n,r,o){const a=e.data;if(null===a[r+1]){const d=a[zo()],g=function Nb(e,n){return n>=e.expandoStartIndex}(e,r);(function Ub(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!g&&(n=!1),n=function lS(e,n,r,o){const a=function Jc(e){const n=Qr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===a)0===(o?n.classBindings:n.styleBindings)&&(r=fv(r=sE(null,e,n,r,o),n.attrs,o),d=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==a)if(r=sE(a,e,n,r,o),null===d){let C=function uS(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==ef(o))return e[$d(o)]}(e,n,o);void 0!==C&&Array.isArray(C)&&(C=sE(null,e,n,C[1],o),C=fv(C,n.attrs,o),function cS(e,n,r,o){e[$d(r?n.classBindings:n.styleBindings)]=o}(e,n,o,C))}else d=function dS(e,n,r){let o;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)o=fv(o,e[d].hostAttrs,r);return fv(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(a,d,n,o),function JD(e,n,r,o,a,d){let g=d?n.classBindings:n.styleBindings,y=$d(g),C=ef(g);e[o]=r;let J,$=!1;if(Array.isArray(r)?(J=r[1],(null===J||hs(r,J)>0)&&($=!0)):J=r,a)if(0!==C){const Ze=$d(e[y+1]);e[o+1]=Ny(Ze,y),0!==Ze&&(e[Ze+1]=tE(e[Ze+1],o)),e[y+1]=function XD(e,n){return 131071&e|n<<17}(e[y+1],o)}else e[o+1]=Ny(y,0),0!==y&&(e[y+1]=tE(e[y+1],o)),y=o;else e[o+1]=Ny(C,0),0===y?y=o:e[C+1]=tE(e[C+1],o),C=o;$&&(e[o+1]=eE(e[o+1])),wb(e,J,o,!0),wb(e,J,o,!1),function YD(e,n,r,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&hs(d,n)>=0&&(r[o+1]=nE(r[o+1]))}(n,J,e,o,d),g=Ny(y,C),d?n.classBindings=g:n.styleBindings=g}(a,d,n,r,g,o)}}(d,e,g,o),n!==li&&es(a,g,n)&&function Lb(e,n,r,o,a,d,g,y){if(!(3&n.type))return;const C=e.data,$=C[y+1],J=function QD(e){return!(1&~e)}($)?Vb(C,n,r,a,ef($),g):void 0;ky(J)||(ky(d)||function qD(e){return!(2&~e)}($)&&(d=Vb(C,null,r,a,y,g)),function pp(e,n,r,o,a){if(n)a?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:ap.DashCase;null==a?e.removeStyle(r,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=ap.Important),e.setStyle(r,o,a,d))}}(o,g,iu(zo(),r),a,d))}(d,d.data[zo()],a,a[$r],e,a[g+1]=function gS(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Cn(wu(e)))),e}(n,r),o,g)}(e,n,null,!0),oE}function sE(e,n,r,o,a){let d=null;const g=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<g&&(d=n[y],o=fv(o,d.hostAttrs,a),d!==e);)y++;return null!==e&&(r.directiveStylingLast=y),o}function fv(e,n,r){const o=r?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),so(e,g,!!r||n[++d]))}return void 0===e?null:e}function Vb(e,n,r,o,a,d){const g=null===n;let y;for(;a>0;){const C=e[a],$=Array.isArray(C),J=$?C[1]:C,me=null===J;let Ze=r[a+1];Ze===li&&(Ze=me?ei:void 0);let dt=me?zs(Ze,o):J===o?Ze:void 0;if($&&!ky(dt)&&(dt=zs(C,o)),ky(dt)&&(y=dt,g))return y;const ot=e[a+1];a=g?$d(ot):ef(ot)}if(null!==n){let C=d?n.residualClasses:n.residualStyles;null!=C&&(y=zs(C,o))}return y}function ky(e){return void 0!==e}function Ly(e,n,r,o){const a=hn(),d=ti(),g=yr+e,y=a[$r],C=d.firstCreatePass?function VS(e,n,r,o,a,d){const g=n.consts,C=Mc(n,e,2,o,ia(g,a));return yp(n,r,C,ia(g,d)),null!==C.attrs&&Vd(C,C.attrs,!1),null!==C.mergedAttrs&&Vd(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(g,d,a,n,r,o):d.data[g],$=Hb(d,a,C,y,n,e);a[g]=$;const J=Yi(C);return Is(C,!0),gp(y,$,C),!function Up(e){return!(32&~e.flags)}(C)&&xa()&&dp(d,a,$,C),0===function Kd(){return Qr.lFrame.elementDepthCount}()&&us($,a),function ic(){Qr.lFrame.elementDepthCount++}(),J&&(bs(d,a,C),sa(d,C,a)),null!==o&&vp(a,C),Ly}function Vy(){let e=ai();Xc()?Ia():(e=e.parent,Is(e,!1));const n=e;(function qd(e){return Qr.skipHydrationRootTNode===e})(n)&&function ml(){Qr.skipHydrationRootTNode=null}(),function uf(){Qr.lFrame.elementDepthCount--}();const r=ti();return r.firstCreatePass&&(vl(r,e),Ga(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function yf(e){return!!(8&e.flags)}(n)&&iE(r,n,hn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function E(e){return!!(16&e.flags)}(n)&&iE(r,n,hn(),n.stylesWithoutHost,!1),Vy}function cE(e,n,r,o){return Ly(e,n,r,o),Vy(),cE}let Hb=(e,n,r,o,a,d)=>(Oa(!0),up(o,a,function ih(){return Qr.lFrame.currentNamespace}()));function Uy(e,n,r){const o=hn(),a=ti(),d=e+yr,g=a.firstCreatePass?function $S(e,n,r,o,a){const d=n.consts,g=ia(d,o),y=Mc(n,e,8,"ng-container",g);return null!==g&&Vd(y,g,!0),yp(n,r,y,ia(d,a)),null!==n.queries&&n.queries.elementStart(n,y),y}(d,a,o,n,r):a.data[d];Is(g,!0);const y=zb(a,o,g,e);return o[d]=y,xa()&&dp(a,o,y,g),us(y,o),Yi(g)&&(bs(a,o,g),sa(a,g,o)),null!=r&&vp(o,g),Uy}function By(){let e=ai();const n=ti();return Xc()?Ia():(e=e.parent,Is(e,!1)),n.firstCreatePass&&(vl(n,e),Ga(e)&&n.queries.elementEnd(e)),By}function dE(e,n,r){return Uy(e,n,r),By(),dE}let zb=(e,n,r,o)=>(Oa(!0),ym(n[$r],""));function Gb(){return hn()}const tf=void 0;var GS=["en",[["a","p"],["AM","PM"],tf],[["AM","PM"],tf,tf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tf,"{1} 'at' {0}",tf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zS(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let rg={};function hE(e){const n=function WS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Xb(n);if(r)return r;const o=n.split("-")[0];if(r=Xb(o),r)return r;if("en"===o)return GS;throw new qt(701,!1)}function qb(e){return hE(e)[ig.PluralCase]}function Xb(e){return e in rg||(rg[e]=On.ng&&On.ng.common&&On.ng.common.locales&&On.ng.common.locales[e]),rg[e]}var ig=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ig||{});const $y="en-US";let Qb=$y,pT=(e,n,r)=>{};function gE(e,n,r,o){const a=hn(),d=ti(),g=ai();return mE(d,a,a[$r],g,e,n,o),gE}function mE(e,n,r,o,a,d,g){const y=Yi(o),$=e.firstCreatePass&&k(e),J=n[Xr],me=R(n);let Ze=!0;if(3&o.type||g){const un=as(o,n),Pn=g?g(un):un,Wn=me.length,mn=g?ni=>g(Si(ni[o.index])):o.index;let Lr=null;if(!g&&y&&(Lr=function NR(e,n,r,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const g=a[d];if(g===r&&a[d+1]===o){const y=n[Os],C=a[d+2];return y.length>C?y[C]:null}"string"==typeof g&&(d+=2)}return null}(e,n,a,o.index)),null!==Lr)(Lr.__ngLastListenerFn__||Lr).__ngNextListenerFn__=d,Lr.__ngLastListenerFn__=d,Ze=!1;else{d=_T(o,n,J,d),pT(un,a,d);const ni=r.listen(Pn,a,d);me.push(d,ni),$&&$.push(a,mn,Wn,Wn+1)}}else d=_T(o,n,J,d);const dt=o.outputs;let ot;if(Ze&&null!==dt&&(ot=dt[a])){const un=ot.length;if(un)for(let Pn=0;Pn<un;Pn+=2){const To=n[ot[Pn]][ot[Pn+1]].subscribe(d),Ss=me.length;me.push(d,To),$&&$.push(a,o.index,Ss,-(Ss+1))}}}function vT(e,n,r,o){const a=ee(null);try{return qo(6,n,r),!1!==r(o)}catch(d){return Ae(e,d),!1}finally{qo(7,n,r),ee(a)}}function _T(e,n,r,o){return function a(d){if(d===Function)return o;Kl(e.componentOffset>-1?ls(e.index,n):n,5);let y=vT(n,r,o,d),C=a.__ngNextListenerFn__;for(;C;)y=vT(n,r,C,d)&&y,C=C.__ngNextListenerFn__;return y}}function yT(e=1){return function ug(e){return(Qr.lFrame.contextLView=function lf(e,n){for(;e>0;)n=n[Ml],e--;return n}(e,Qr.lFrame.contextLView))[Xr]}(e)}function kR(e,n){let r=null;const o=function K(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===o?Oo(e,d,!0):H(o,d))return a}else r=a}return r}function IT(e){const n=hn()[to][Hi];if(!n.projection){const o=n.projection=function Fo(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),a=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const g=e?kR(d,e):0;null!==g&&(a[g]?a[g].projectionNext=d:o[g]=d,a[g]=d)}d=d.next}}}function ET(e,n=0,r,o,a,d){const g=hn(),y=ti(),C=o?e+1:null;null!==C&&uv(g,y,C,o,a,d,null,r);const $=Mc(y,yr+e,16,null,r||null);null===$.projection&&($.projection=n),Ia();const me=!g[No]||Qa();null===g[to][Hi].projection[$.projection]&&null!==C?function FR(e,n,r){const o=yr+r,a=n.data[o],d=e[o],g=$u(d,a.tView.ssrId);Fr(d,vr(e,a,void 0,{dehydratedView:g}),0,Ir(a,g))}(g,y,C):me&&32&~$.flags&&function vA(e,n,r){aI(n[$r],0,n,r,Tl(e,r,n),D_(r.parent||n[Hi],r,n))}(y,g,$)}function MT(e,n,r,o){!function IA(e,n,r,o){const a=ti();if(a.firstCreatePass){const d=ai();EA(a,new fn(n,r,o),d.index),function Uw(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return Lp(a,hn(),r)}(e,n,r,o)}function xT(e,n,r){!function yA(e,n,r){const o=ti();return o.firstCreatePass&&(EA(o,new fn(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),Lp(o,hn(),n)}(e,n,r)}function OT(e){const n=hn(),r=ti(),o=Yd();Ll(o+1);const a=kI(r,o);if(e.dirty&&function kl(e){return!(4&~e[gr])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=AA(n,o);e.reset(d,Lv),e.notifyOnChanges()}return!0}return!1}function NT(){return function Ud(e,n){return e[Zo].queries[n].queryList}(hn(),Yd())}function kT(e){return pl(function Ya(){return Qr.lFrame.contextLView}(),yr+e)}function GT(e,n=""){const r=hn(),o=ti(),a=e+yr,d=o.firstCreatePass?Mc(o,a,1,n,null):o.data[a],g=WT(o,r,d,n,e);r[a]=g,xa()&&dp(o,r,g,d),Is(d,!1)}let WT=(e,n,r,o,a)=>(Oa(!0),function I_(e,n){return e.createText(n)}(n[$r],o));function yE(e){return Gy("",e,""),yE}function Gy(e,n,r){const o=hn(),a=function qp(e,n,r,o){return es(e,Es(),r)?n+pr(r)+o:li}(o,e,n,r);return a!==li&&mt(o,zo(),a),Gy}function IE(e,n,r,o,a){const d=hn(),g=Xp(d,e,n,r,o,a);return g!==li&&mt(d,zo(),g),IE}function EE(e,n,r){DA(n)&&(n=n());const o=hn();return es(o,Es(),n)&&aa(ti(),Zi(),o,e,n,o[$r],r,!1),EE}function eC(e,n){const r=DA(e);return r&&e.set(n),r}function AE(e,n){const r=hn(),o=ti(),a=ai();return mE(o,r,r[$r],a,e,n),AE}function bE(e,n,r,o,a){if(e=Et(e),Array.isArray(e))for(let d=0;d<e.length;d++)bE(e[d],n,r,o,a);else{const d=ti(),g=hn(),y=ai();let C=xs(e)?e:Et(e.provide);const $=ja(e),J=1048575&y.providerIndexes,me=y.directiveStart,Ze=y.providerIndexes>>20;if(xs(e)||!e.multi){const dt=new lc($,a,xu),ot=CE(C,n,a?J:J+Ze,me);-1===ot?(Hl(tl(y,g),d,C),TE(d,e,n.length),n.push(C),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(dt),g.push(dt)):(r[ot]=dt,g[ot]=dt)}else{const dt=CE(C,n,J+Ze,me),ot=CE(C,n,J,J+Ze),Pn=ot>=0&&r[ot];if(a&&!Pn||!a&&!(dt>=0&&r[dt])){Hl(tl(y,g),d,C);const Wn=function nP(e,n,r,o,a){const d=new lc(e,r,xu);return d.multi=[],d.index=n,d.componentProviders=0,rC(d,a,o&&!r),d}(a?tP:eP,r.length,a,o,$);!a&&Pn&&(r[ot].providerFactory=Wn),TE(d,e,n.length,0),n.push(C),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(Wn),g.push(Wn)}else TE(d,e,dt>-1?dt:ot,rC(r[a?ot:dt],$,!a&&o));!a&&o&&Pn&&r[ot].componentProviders++}}}function TE(e,n,r,o){const a=xs(n),d=function cl(e){return!!e.useClass}(n);if(a||d){const C=(d?Et(n.useClass):n).prototype.ngOnDestroy;if(C){const $=e.destroyHooks||(e.destroyHooks=[]);if(!a&&n.multi){const J=$.indexOf(r);-1===J?$.push(r,[o,C]):$[J+1].push(o,C)}else $.push(r,C)}}}function rC(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function CE(e,n,r,o){for(let a=r;a<o;a++)if(n[a]===e)return a;return-1}function eP(e,n,r,o){return wE(this.multi,[])}function tP(e,n,r,o){const a=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=Lo(r,r[Ln],this.providerFactory.index,o);d=y.slice(0,g),wE(a,d);for(let C=g;C<y.length;C++)d.push(y[C])}else d=[],wE(a,d);return d}function wE(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function iC(e,n=[]){return r=>{r.providersResolver=(o,a)=>function ZR(e,n,r){const o=ti();if(o.firstCreatePass){const a=ss(e);bE(r,o.data,o.blueprint,a,!0),bE(n,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,n)}}let rP=(()=>{var e;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=ll(0,o.type),d=a.length>0?BI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=n).\u0275prov=xr({token:e,providedIn:"environment",factory:()=>new e(It(Wo))}),n})();function oC(e){wa("NgStandalone"),e.getStandaloneInjector=n=>n.get(rP).getOrCreateStandaloneInjector(e)}function lC(e,n,r,o){return uC(hn(),xo(),e,n,r,o)}function uC(e,n,r,o,a,d){const g=n+r;return es(e,g,a)?function Gu(e,n,r){return e[n]=r}(e,g+1,d?o.call(d,a):o(a)):function yv(e,n){const r=e[n];return r===li?void 0:r}(e,g+1)}function pC(e,n){const r=ti();let o;const a=e+yr;var d;r.firstCreatePass?(o=function mP(e,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}(n,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(null!==(d=r.destroyHooks)&&void 0!==d?d:r.destroyHooks=[]).push(a,o.onDestroy)):o=r.data[a];const g=o.factory||(o.factory=oo(o.type)),C=Ui(xu);try{const $=pi(!1),J=g();return pi($),function _E(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}(r,hn(),a,J),J}finally{Ui(C)}}function gC(e,n,r){const o=e+yr,a=hn(),d=pl(a,o);return function Iv(e,n){return e[Ln].data[n].pure}(a,o)?uC(a,xo(),n,d.transform,r,d):d.transform(r)}class MC{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const HP=new MC("18.2.8");let xC=(()=>{var e;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();const FC=new pt(""),LC=new pt("");let OE,gM=(()=>{var e;class n{constructor(o,a,d){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,OE||(function mM(e){OE=e}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),o()},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}}return(e=n).\u0275fac=function(o){return new(o||e)(It(Ao),It(VC),It(LC))},e.\u0275prov=xr({token:e,factory:e.\u0275fac}),n})(),VC=(()=>{var e;class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var d,g;return null!==(d=null===(g=OE)||void 0===g?void 0:g.findTestabilityInTree(this,o,a))&&void 0!==d?d:null}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();function NE(e){return!!e&&"function"==typeof e.then}function UC(e){return!!e&&"function"==typeof e.subscribe}const BC=new pt("");let $C=(()=>{var e;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=null!==(o=Ut(BC,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const g=d();if(NE(g))o.push(g);else if(UC(g)){const y=new Promise((C,$)=>{g.subscribe({complete:C,error:$})});o.push(y)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const Qy=new pt("");function HC(e,n){return Array.isArray(n)?n.reduce(HC,e):{...e,...n}}let qu=(()=>{var e;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ut(Rg),this.afterRenderManager=Ut(YA),this.zonelessEnabled=Ut(Cl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new bn.B,this.afterTick=new bn.B,this.componentTypes=[],this.components=[],this.isStable=Ut(gu).hasPendingTasks.pipe((0,Dt.T)(o=>!o)),this._injector=Ut(Wo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:d=>{d&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof py;if(!this._injector.get($C).done)throw!d&&ps(o),new qt(405,!1);let y;y=d?o:this._injector.get(wl).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const C=function vM(e){return e.isBoundToModule}(y)?void 0:this._injector.get(Jh),J=y.create(As.NULL,[],a||y.selector,C),me=J.location.nativeElement,Ze=J.injector.get(FC,null);return null==Ze||Ze.registerApplication(me),J.onDestroy(()=>{this.detachView(J.hostView),Jy(this.components,J),null==Ze||Ze.unregisterApplication(me)}),this._loadComponent(J),J}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new qt(101,!1);const o=ee(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,ee(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(Uc,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:y,notifyErrorHandler:C}of this._views)IM(y,C,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,d;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>gl(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Jy(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(Qy,[]);[...this._bootstrapListeners,...a].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Jy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new qt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function Jy(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function IM(e,n,r,o){(r||gl(e))&&Nu(e,n,r&&!o?0:1)}class EM{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let AM=(()=>{var e;class n{compileModuleSync(o){return new UI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=Ta(go(o).declarations).reduce((y,C)=>{const $=qr(C);return $&&y.push(new qh($)),y},[]);return new EM(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),CM=(()=>{var e;class n{constructor(){this.zone=Ut(Ao),this.changeDetectionScheduler=Ut(Vc),this.applicationRef=Ut(qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function kE({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new Ao({...FE(),scheduleInRootZone:r})),[{provide:Ao,useFactory:e},{provide:ji,multi:!0,useFactory:()=>{const a=Ut(CM,{optional:!0});return()=>a.initialize()}},{provide:ji,multi:!0,useFactory:()=>{const a=Ut(DM);return()=>{a.initialize()}}},!0===n?{provide:fy,useValue:!0}:[],{provide:qm,useValue:null!=r?r:wf}]}function FE(e){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let DM=(()=>{var e;class n{constructor(){this.subscription=new Qt.yU,this.initialized=!1,this.zone=Ut(Ao),this.pendingTasks=Ut(gu)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;Ao.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),Tv=(()=>{var e;class n{constructor(){var o,a,d;this.appRef=Ut(qu),this.taskService=Ut(gu),this.ngZone=Ut(Ao),this.zonelessEnabled=Ut(Cl),this.disableScheduling=null!==(o=Ut(fy,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qt.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(dh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=Ut(qm,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof yu||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?Df:Nv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(dh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Df(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const VE=new pt("",{providedIn:"root",factory:()=>Ut(VE,kr.Optional|kr.SkipSelf)||function SM(){return typeof $localize<"u"&&$localize.locale||$y}()}),RM=new pt("",{providedIn:"root",factory:()=>"USD"}),Yy=new pt("");function Zy(e){return!e.moduleRef}let QC=(()=>{var e;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=null==a?void 0:a.scheduleInRootZone,C=[kE({ngZoneFactory:()=>function Sg(e="zone.js",n){return"noop"===e?new yu:"zone.js"===e?new Ao(n):e}(null==a?void 0:a.ngZone,{...FE({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:Vc,useExisting:Tv}],$=function sD(e,n,r){return new VI(e,n,r,!1)}(o.moduleType,this.injector,C);return function XC(e){const n=Zy(e)?e.r3Injector:e.moduleRef.injector,r=n.get(Ao);return r.run(()=>{Zy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(nl,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{o.handleError(d)}})}),Zy(e)){const d=()=>n.destroy(),g=e.platformInjector.get(Yy);g.add(d),n.onDestroy(()=>{a.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get(Yy);g.add(d),e.moduleRef.onDestroy(()=>{Jy(e.allPlatformModules,e.moduleRef),a.unsubscribe(),g.delete(d)})}return function yM(e,n,r){try{const o=r();return NE(o)?o.catch(a=>{throw n.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=n.get($C);return d.runInitializers(),d.donePromise.then(()=>{if(function QS(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(n.get(VE,$y)||$y),Zy(e)){const y=n.get(qu);return void 0!==e.rootComponent&&y.bootstrap(e.rootComponent),y}return function NM(e,n){const r=e.injector.get(qu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new qt(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:$,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,a=[]){const d=HC({},a);return function TM(e,n,r){const o=new UI(r);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Yy,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=n).\u0275fac=function(o){return new(o||e)(It(As))},e.\u0275prov=xr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})(),jd=null;const JC=new pt("");function YC(e,n,r=[]){const o=`Platform: ${n}`,a=new pt(o);return(d=[])=>{let g=UE();if(!g||g.injector.get(JC,!1)){const y=[...r,...d,{provide:a,useValue:!0}];e?e(y):function kM(e){if(jd&&!jd.get(JC,!1))throw new qt(400,!1);(function jC(){!function Le(e){qn=e}(()=>{throw new qt(600,!1)})})(),jd=e;const n=e.get(QC);(function ew(e){const n=e.get(Hf,null);null==n||n.forEach(r=>r())})(e)}(function ZC(e=[],n){return As.create({name:n,providers:[{provide:Rl,useValue:"platform"},{provide:Yy,useValue:new Set([()=>jd=null])},...e]})}(y,o))}return function FM(){const n=UE();if(!n)throw new qt(401,!1);return n}()}}function UE(){var e,n;return null!==(e=null===(n=jd)||void 0===n?void 0:n.get(QC))&&void 0!==e?e:null}function VM(){return!1}let nw=(()=>{class n{}return n.__NG_ELEMENT_ID__=UM,n})();function UM(e){return function BM(e,n,r){if(Wa(e)&&!r){const o=ls(e.index,n);return new Mh(o,o)}return 175&e.type?new Mh(n[to],n):null}(ai(),hn(),!(16&~e))}class sw{constructor(){}supports(n){return Cy(n)}create(n){return new GM(n)}}const zM=(e,n)=>n;class GM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||zM}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,a=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<lw(o,a,d)?r:o,y=lw(g,a,d),C=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{d||(d=[]);const $=y-a,J=C-a;if($!=J){for(let Ze=0;Ze<$;Ze++){const dt=Ze<d.length?d[Ze]:d[Ze]=0,ot=dt+Ze;J<=ot&&ot<$&&(d[Ze]=dt+1)}d[g.previousIndex]=J-$}}y!==C&&n(g,y,C)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Cy(n))throw new qt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,g,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)d=n[y],g=this._trackByFn(y,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,y)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,y),o=!0),r=r._next}else a=0,function uD(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,y=>{g=this._trackByFn(a,y),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,y,g,a)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,a)):n=this._addAfter(new WM(r,o),d,a),n}_verifyReinsertion(n,r,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const a=null===r?this._itHead:r._next;return n._next=a,n._prev=r,null===a?this._itTail=n:a._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new aw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class WM{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class aw{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new KM,this.map.set(r,o)),o.add(n)}get(n,r){const a=this.map.get(n);return a?a.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lw(e,n,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+n+a}class uw{constructor(){}supports(n){return n instanceof Map||$I(n)}create(){return new qM}}class qM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||$I(n)))throw new qt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,r);const d=a._prev,g=a._next;return d&&(d._next=g),g&&(g._prev=d),a._next=null,a._prev=null,a}const o=new XM(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class XM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cw(){return new zE([new sw])}let zE=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||cw()),deps:[[n,new mi,new yi]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new qt(901,!1)}}return(e=n).\u0275prov=xr({token:e,providedIn:"root",factory:cw}),n})();function dw(){return new GE([new uw])}let GE=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||dw()),deps:[[n,new mi,new yi]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new qt(901,!1)}}return(e=n).\u0275prov=xr({token:e,providedIn:"root",factory:dw}),n})();const YM=YC(null,"core",[]);let ZM=(()=>{var e;class n{constructor(o){}}return(e=n).\u0275fac=function(o){return new(o||e)(It(qu))},e.\u0275mod=Gs({type:e}),e.\u0275inj=q({}),n})();function Px(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function xx(e,n){wa("NgSignals");const r=function Se(e){const n=Object.create(Tn);n.computation=e;const r=()=>{if(qe(n),ye(n),n.value===nn)throw n.error;return n.value};return r[X]=n,r}(e);return null!=n&&n.equal&&(r[X].equal=n.equal),r}function Ox(e){const n=ee(null);try{return e()}finally{ee(n)}}function Ux(e,n){const r=qr(e),o=n.elementInjector||Sa();return new qh(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function Bx(e){const n=qr(e);if(!n)return null;const r=new qh(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(Rn,at,x)=>{"use strict";x.d(at,{DS:()=>nt,X8:()=>At,$z:()=>Ue,UB:()=>de,yy:()=>Wt,ZP:()=>Le,AU:()=>ie,CP:()=>qn,gF:()=>Be});var c=x(9842),L=(x(2438),x(177)),ve=x(4438),X=x(1825),ee=x(9253),_e=x(1413),Me=x(7673),Ge=x(1985),Pe=x(8455),ye=x(6365),ze=x(8750),qe=x(983),We=x(3794),vt=x(941),st=x(5558),lt=x(6354),xt=x(6129);class Tt extends _e.B{constructor(Lt=1/0,Mt=1/0,Xt=xt.U){super(),this._bufferSize=Lt,this._windowTime=Mt,this._timestampProvider=Xt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Mt===1/0,this._bufferSize=Math.max(1,Lt),this._windowTime=Math.max(1,Mt)}next(Lt){const{isStopped:Mt,_buffer:Xt,_infiniteTimeWindow:wn,_timestampProvider:kt,_windowTime:Mn}=this;Mt||(Xt.push(Lt),!wn&&Xt.push(kt.now()+Mn)),this._trimBuffer(),super.next(Lt)}_subscribe(Lt){this._throwIfClosed(),this._trimBuffer();const Mt=this._innerSubscribe(Lt),{_infiniteTimeWindow:Xt,_buffer:wn}=this,kt=wn.slice();for(let Mn=0;Mn<kt.length&&!Lt.closed;Mn+=Xt?1:2)Lt.next(kt[Mn]);return this._checkFinalizedStatuses(Lt),Mt}_trimBuffer(){const{_bufferSize:Lt,_timestampProvider:Mt,_buffer:Xt,_infiniteTimeWindow:wn}=this,kt=(wn?1:2)*Lt;if(Lt<1/0&&kt<Xt.length&&Xt.splice(0,Xt.length-kt),!wn){const Mn=Mt.now();let en=0;for(let bn=1;bn<Xt.length&&Xt[bn]<=Mn;bn+=2)en=bn;en&&Xt.splice(0,en+1)}}}var Ie=x(7707),Te=x(9974);function Qe(Je,Lt,...Mt){if(!0===Lt)return void Je();if(!1===Lt)return;const Xt=new Ie.Ms({next:()=>{Xt.unsubscribe(),Je()}});return(0,ze.Tg)(Lt(...Mt)).subscribe(Xt)}function rt(Je,Lt,Mt){let Xt,wn=!1;return Je&&"object"==typeof Je?({bufferSize:Xt=1/0,windowTime:Lt=1/0,refCount:wn=!1,scheduler:Mt}=Je):Xt=null!=Je?Je:1/0,function Ne(Je={}){const{connector:Lt=()=>new _e.B,resetOnError:Mt=!0,resetOnComplete:Xt=!0,resetOnRefCountZero:wn=!0}=Je;return kt=>{let Mn,en,bn,Qt=0,Dt=!1,vn=!1;const it=()=>{null==en||en.unsubscribe(),en=void 0},Oe=()=>{it(),Mn=bn=void 0,Dt=vn=!1},Ke=()=>{const cn=Mn;Oe(),null==cn||cn.unsubscribe()};return(0,Te.N)((cn,qt)=>{Qt++,!vn&&!Dt&&it();const or=bn=null!=bn?bn:Lt();qt.add(()=>{Qt--,0===Qt&&!vn&&!Dt&&(en=Qe(Ke,wn))}),or.subscribe(qt),!Mn&&Qt>0&&(Mn=new Ie.Ms({next:ir=>or.next(ir),error:ir=>{vn=!0,it(),en=Qe(Oe,Mt,ir),or.error(ir)},complete:()=>{Dt=!0,it(),en=Qe(Oe,Xt),or.complete()}}),(0,ze.Tg)(cn).subscribe(Mn))})(kt)}}({connector:()=>new Tt(Xt,Lt,Mt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:wn})}var Ft=x(1594),Se=x(8071);function gt(Je,Lt){return(0,Se.T)(Lt)?(0,st.n)(()=>Je,Lt):(0,st.n)(()=>Je)}var Vt=x(6745),nn=x(5964),Tn=x(7935);const qn=new ve.nKC("angularfire2.auth.use-emulator"),Wt=new ve.nKC("angularfire2.auth.settings"),Le=new ve.nKC("angularfire2.auth.tenant-id"),Ue=new ve.nKC("angularfire2.auth.langugage-code"),ie=new ve.nKC("angularfire2.auth.use-device-language"),de=new ve.nKC("angularfire.auth.persistence"),Be=(Je,Lt,Mt,Xt,wn,kt,Mn,en)=>(0,ee.BM)(`${Je.name}.auth`,"AngularFireAuth",Je.name,()=>{const bn=Lt.runOutsideAngular(()=>Je.auth());if(Mt&&bn.useEmulator(...Mt),Xt&&(bn.tenantId=Xt),bn.languageCode=wn,kt&&bn.useDeviceLanguage(),Mn)for(const[Qt,Dt]of Object.entries(Mn))bn.settings[Qt]=Dt;return en&&bn.setPersistence(en),bn},[Mt,Xt,wn,kt,Mn,en]);let nt=(()=>{var Je;class Lt{constructor(Xt,wn,kt,Mn,en,bn,Qt,Dt,vn,it,Oe,Ke){(0,c.A)(this,"authState",void 0),(0,c.A)(this,"idToken",void 0),(0,c.A)(this,"user",void 0),(0,c.A)(this,"idTokenResult",void 0),(0,c.A)(this,"credential",void 0);const cn=new _e.B,qt=(0,Me.of)(void 0).pipe((0,vt.Q)(en.outsideAngular),(0,st.n)(()=>Mn.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,2438)))),(0,lt.T)(()=>(0,ee.iB)(Xt,Mn,wn)),(0,lt.T)(or=>Be(or,Mn,bn,Dt,vn,it,Qt,Oe)),rt({bufferSize:1,refCount:!1}));if((0,L.Vy)(kt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Me.of)(null);else{qt.pipe((0,Ft.$)()).subscribe();const or=qt.pipe((0,st.n)(zn=>zn.getRedirectResult().then(Er=>Er,()=>null)),X.U0,rt({bufferSize:1,refCount:!1})),ir=qt.pipe((0,st.n)(zn=>new Ge.c(Er=>({unsubscribe:Mn.runOutsideAngular(()=>zn.onAuthStateChanged(_r=>Er.next(_r),_r=>Er.error(_r),()=>Er.complete()))})))),Un=qt.pipe((0,st.n)(zn=>new Ge.c(Er=>({unsubscribe:Mn.runOutsideAngular(()=>zn.onIdTokenChanged(_r=>Er.next(_r),_r=>Er.error(_r),()=>Er.complete()))}))));this.authState=or.pipe(gt(ir),(0,Vt._)(en.outsideAngular),(0,vt.Q)(en.insideAngular)),this.user=or.pipe(gt(Un),(0,Vt._)(en.outsideAngular),(0,vt.Q)(en.insideAngular)),this.idToken=this.user.pipe((0,st.n)(zn=>zn?(0,Pe.H)(zn.getIdToken()):(0,Me.of)(null))),this.idTokenResult=this.user.pipe((0,st.n)(zn=>zn?(0,Pe.H)(zn.getIdTokenResult()):(0,Me.of)(null))),this.credential=function ut(...Je){const Lt=(0,We.lI)(Je),Mt=(0,We.R0)(Je,1/0),Xt=Je;return Xt.length?1===Xt.length?(0,ze.Tg)(Xt[0]):(0,ye.U)(Mt)((0,Pe.H)(Xt,Lt)):qe.w}(or,cn,this.authState.pipe((0,nn.p)(zn=>!zn))).pipe((0,lt.T)(zn=>null!=zn&&zn.user?zn:null),(0,Vt._)(en.outsideAngular),(0,vt.Q)(en.insideAngular))}return(0,ee.Gt)(this,qt,Mn,{spy:{apply:(or,ir,Un)=>{(or.startsWith("signIn")||or.startsWith("createUser"))&&Un.then(zn=>cn.next(zn))}}})}}return Je=Lt,(0,c.A)(Lt,"\u0275fac",function(Xt){return new(Xt||Je)(ve.KVO(ee.rx),ve.KVO(ee.uP,8),ve.KVO(ve.Agw),ve.KVO(ve.SKi),ve.KVO(X.u0),ve.KVO(qn,8),ve.KVO(Wt,8),ve.KVO(Le,8),ve.KVO(Ue,8),ve.KVO(ie,8),ve.KVO(de,8),ve.KVO(X.Jv,8))}),(0,c.A)(Lt,"\u0275prov",ve.jDH({token:Je,factory:Je.\u0275fac,providedIn:"any"})),Lt})(),At=(()=>{var Je;class Lt{constructor(){Tn.A.registerVersion("angularfire",X.xv.full,"auth-compat")}}return Je=Lt,(0,c.A)(Lt,"\u0275fac",function(Xt){return new(Xt||Je)}),(0,c.A)(Lt,"\u0275mod",ve.$C({type:Je})),(0,c.A)(Lt,"\u0275inj",ve.G2t({providers:[nt]})),Lt})()},8079:(Rn,at,x)=>{"use strict";x.d(at,{Qe:()=>rl,cM:()=>Mm});var c=x(9842),h=x(177),L=x(4438),ve=x(1825),X=x(9253),ee=x(1182),_e=x(3236),Me=x(1985),Ge=x(8455),Pe=x(7673),ye=x(9172),ze=x(9974),qe=x(4360);function We(){return(0,ze.N)((l,t)=>{let i,s=!1;l.subscribe((0,qe._)(t,u=>{const f=i;i=u,s&&t.next([f,u]),s=!0}))})}var gt,Vt,ut=x(6354),vt=x(2816),st=x(3294),lt=x(5964),Tt=(x(2438),x(3345)),Ie=x(467),Te=x(7852),Ne=x(1362),Qe=x(8041),rt=x(1076),Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u($t,ft,Ot){Ot||(Ot=0);var jt=Array(16);if("string"==typeof ft)for(var Kt=0;16>Kt;++Kt)jt[Kt]=ft.charCodeAt(Ot++)|ft.charCodeAt(Ot++)<<8|ft.charCodeAt(Ot++)<<16|ft.charCodeAt(Ot++)<<24;else for(Kt=0;16>Kt;++Kt)jt[Kt]=ft[Ot++]|ft[Ot++]<<8|ft[Ot++]<<16|ft[Ot++]<<24;var tn=$t.g[3],Pt=(ft=$t.g[0])+(tn^(Ot=$t.g[1])&((Kt=$t.g[2])^tn))+jt[0]+3614090360&4294967295;Pt=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=(Ot=(Kt=(tn=(ft=Ot+(Pt<<7&4294967295|Pt>>>25))+((Pt=tn+(Kt^ft&(Ot^Kt))+jt[1]+3905402710&4294967295)<<12&4294967295|Pt>>>20))+((Pt=Kt+(Ot^tn&(ft^Ot))+jt[2]+606105819&4294967295)<<17&4294967295|Pt>>>15))+((Pt=Ot+(ft^Kt&(tn^ft))+jt[3]+3250441966&4294967295)<<22&4294967295|Pt>>>10))+((Pt=ft+(tn^Ot&(Kt^tn))+jt[4]+4118548399&4294967295)<<7&4294967295|Pt>>>25))+((Pt=tn+(Kt^ft&(Ot^Kt))+jt[5]+1200080426&4294967295)<<12&4294967295|Pt>>>20))+((Pt=Kt+(Ot^tn&(ft^Ot))+jt[6]+2821735955&4294967295)<<17&4294967295|Pt>>>15))+((Pt=Ot+(ft^Kt&(tn^ft))+jt[7]+4249261313&4294967295)<<22&4294967295|Pt>>>10))+((Pt=ft+(tn^Ot&(Kt^tn))+jt[8]+1770035416&4294967295)<<7&4294967295|Pt>>>25))+((Pt=tn+(Kt^ft&(Ot^Kt))+jt[9]+2336552879&4294967295)<<12&4294967295|Pt>>>20))+((Pt=Kt+(Ot^tn&(ft^Ot))+jt[10]+4294925233&4294967295)<<17&4294967295|Pt>>>15))+((Pt=Ot+(ft^Kt&(tn^ft))+jt[11]+2304563134&4294967295)<<22&4294967295|Pt>>>10))+((Pt=ft+(tn^Ot&(Kt^tn))+jt[12]+1804603682&4294967295)<<7&4294967295|Pt>>>25))+((Pt=tn+(Kt^ft&(Ot^Kt))+jt[13]+4254626195&4294967295)<<12&4294967295|Pt>>>20))+((Pt=Kt+(Ot^tn&(ft^Ot))+jt[14]+2792965006&4294967295)<<17&4294967295|Pt>>>15))+((Pt=Ot+(ft^Kt&(tn^ft))+jt[15]+1236535329&4294967295)<<22&4294967295|Pt>>>10))+((Pt=ft+(Kt^tn&(Ot^Kt))+jt[1]+4129170786&4294967295)<<5&4294967295|Pt>>>27))+((Pt=tn+(Ot^Kt&(ft^Ot))+jt[6]+3225465664&4294967295)<<9&4294967295|Pt>>>23))+((Pt=Kt+(ft^Ot&(tn^ft))+jt[11]+643717713&4294967295)<<14&4294967295|Pt>>>18))+((Pt=Ot+(tn^ft&(Kt^tn))+jt[0]+3921069994&4294967295)<<20&4294967295|Pt>>>12))+((Pt=ft+(Kt^tn&(Ot^Kt))+jt[5]+3593408605&4294967295)<<5&4294967295|Pt>>>27))+((Pt=tn+(Ot^Kt&(ft^Ot))+jt[10]+38016083&4294967295)<<9&4294967295|Pt>>>23))+((Pt=Kt+(ft^Ot&(tn^ft))+jt[15]+3634488961&4294967295)<<14&4294967295|Pt>>>18))+((Pt=Ot+(tn^ft&(Kt^tn))+jt[4]+3889429448&4294967295)<<20&4294967295|Pt>>>12))+((Pt=ft+(Kt^tn&(Ot^Kt))+jt[9]+568446438&4294967295)<<5&4294967295|Pt>>>27))+((Pt=tn+(Ot^Kt&(ft^Ot))+jt[14]+3275163606&4294967295)<<9&4294967295|Pt>>>23))+((Pt=Kt+(ft^Ot&(tn^ft))+jt[3]+4107603335&4294967295)<<14&4294967295|Pt>>>18))+((Pt=Ot+(tn^ft&(Kt^tn))+jt[8]+1163531501&4294967295)<<20&4294967295|Pt>>>12))+((Pt=ft+(Kt^tn&(Ot^Kt))+jt[13]+2850285829&4294967295)<<5&4294967295|Pt>>>27))+((Pt=tn+(Ot^Kt&(ft^Ot))+jt[2]+4243563512&4294967295)<<9&4294967295|Pt>>>23))+((Pt=Kt+(ft^Ot&(tn^ft))+jt[7]+1735328473&4294967295)<<14&4294967295|Pt>>>18))+((Pt=Ot+(tn^ft&(Kt^tn))+jt[12]+2368359562&4294967295)<<20&4294967295|Pt>>>12))+((Pt=ft+(Ot^Kt^tn)+jt[5]+4294588738&4294967295)<<4&4294967295|Pt>>>28))+((Pt=tn+(ft^Ot^Kt)+jt[8]+2272392833&4294967295)<<11&4294967295|Pt>>>21))+((Pt=Kt+(tn^ft^Ot)+jt[11]+1839030562&4294967295)<<16&4294967295|Pt>>>16))+((Pt=Ot+(Kt^tn^ft)+jt[14]+4259657740&4294967295)<<23&4294967295|Pt>>>9))+((Pt=ft+(Ot^Kt^tn)+jt[1]+2763975236&4294967295)<<4&4294967295|Pt>>>28))+((Pt=tn+(ft^Ot^Kt)+jt[4]+1272893353&4294967295)<<11&4294967295|Pt>>>21))+((Pt=Kt+(tn^ft^Ot)+jt[7]+4139469664&4294967295)<<16&4294967295|Pt>>>16))+((Pt=Ot+(Kt^tn^ft)+jt[10]+3200236656&4294967295)<<23&4294967295|Pt>>>9))+((Pt=ft+(Ot^Kt^tn)+jt[13]+681279174&4294967295)<<4&4294967295|Pt>>>28))+((Pt=tn+(ft^Ot^Kt)+jt[0]+3936430074&4294967295)<<11&4294967295|Pt>>>21))+((Pt=Kt+(tn^ft^Ot)+jt[3]+3572445317&4294967295)<<16&4294967295|Pt>>>16))+((Pt=Ot+(Kt^tn^ft)+jt[6]+76029189&4294967295)<<23&4294967295|Pt>>>9))+((Pt=ft+(Ot^Kt^tn)+jt[9]+3654602809&4294967295)<<4&4294967295|Pt>>>28))+((Pt=tn+(ft^Ot^Kt)+jt[12]+3873151461&4294967295)<<11&4294967295|Pt>>>21))+((Pt=Kt+(tn^ft^Ot)+jt[15]+530742520&4294967295)<<16&4294967295|Pt>>>16))+((Pt=Ot+(Kt^tn^ft)+jt[2]+3299628645&4294967295)<<23&4294967295|Pt>>>9))+((Pt=ft+(Kt^(Ot|~tn))+jt[0]+4096336452&4294967295)<<6&4294967295|Pt>>>26))+((Pt=tn+(Ot^(ft|~Kt))+jt[7]+1126891415&4294967295)<<10&4294967295|Pt>>>22))+((Pt=Kt+(ft^(tn|~Ot))+jt[14]+2878612391&4294967295)<<15&4294967295|Pt>>>17))+((Pt=Ot+(tn^(Kt|~ft))+jt[5]+4237533241&4294967295)<<21&4294967295|Pt>>>11))+((Pt=ft+(Kt^(Ot|~tn))+jt[12]+1700485571&4294967295)<<6&4294967295|Pt>>>26))+((Pt=tn+(Ot^(ft|~Kt))+jt[3]+2399980690&4294967295)<<10&4294967295|Pt>>>22))+((Pt=Kt+(ft^(tn|~Ot))+jt[10]+4293915773&4294967295)<<15&4294967295|Pt>>>17))+((Pt=Ot+(tn^(Kt|~ft))+jt[1]+2240044497&4294967295)<<21&4294967295|Pt>>>11))+((Pt=ft+(Kt^(Ot|~tn))+jt[8]+1873313359&4294967295)<<6&4294967295|Pt>>>26))+((Pt=tn+(Ot^(ft|~Kt))+jt[15]+4264355552&4294967295)<<10&4294967295|Pt>>>22))+((Pt=Kt+(ft^(tn|~Ot))+jt[6]+2734768916&4294967295)<<15&4294967295|Pt>>>17))+((Pt=Ot+(tn^(Kt|~ft))+jt[13]+1309151649&4294967295)<<21&4294967295|Pt>>>11))+((tn=(ft=Ot+((Pt=ft+(Kt^(Ot|~tn))+jt[4]+4149444226&4294967295)<<6&4294967295|Pt>>>26))+((Pt=tn+(Ot^(ft|~Kt))+jt[11]+3174756917&4294967295)<<10&4294967295|Pt>>>22))^((Kt=tn+((Pt=Kt+(ft^(tn|~Ot))+jt[2]+718787259&4294967295)<<15&4294967295|Pt>>>17))|~ft))+jt[9]+3951481745&4294967295,$t.g[0]=$t.g[0]+ft&4294967295,$t.g[1]=$t.g[1]+(Kt+(Pt<<21&4294967295|Pt>>>11))&4294967295,$t.g[2]=$t.g[2]+Kt&4294967295,$t.g[3]=$t.g[3]+tn&4294967295}function _($t,ft){this.h=ft;for(var Ot=[],jt=!0,Kt=$t.length-1;0<=Kt;Kt--){var tn=0|$t[Kt];jt&&tn==ft||(Ot[Kt]=tn,jt=!1)}this.g=Ot}(function t($t,ft){function Ot(){}Ot.prototype=ft.prototype,$t.D=ft.prototype,$t.prototype=new Ot,$t.prototype.constructor=$t,$t.C=function(jt,Kt,tn){for(var Pt=Array(arguments.length-2),Wl=2;Wl<arguments.length;Wl++)Pt[Wl-2]=arguments[Wl];return ft.prototype[Kt].apply(jt,Pt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function($t,ft){void 0===ft&&(ft=$t.length);for(var Ot=ft-this.blockSize,jt=this.B,Kt=this.h,tn=0;tn<ft;){if(0==Kt)for(;tn<=Ot;)u(this,$t,tn),tn+=this.blockSize;if("string"==typeof $t){for(;tn<ft;)if(jt[Kt++]=$t.charCodeAt(tn++),Kt==this.blockSize){u(this,jt),Kt=0;break}}else for(;tn<ft;)if(jt[Kt++]=$t[tn++],Kt==this.blockSize){u(this,jt),Kt=0;break}}this.h=Kt,this.o+=ft},s.prototype.v=function(){var $t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$t[0]=128;for(var ft=1;ft<$t.length-8;++ft)$t[ft]=0;var Ot=8*this.o;for(ft=$t.length-8;ft<$t.length;++ft)$t[ft]=255&Ot,Ot/=256;for(this.u($t),$t=Array(16),ft=Ot=0;4>ft;++ft)for(var jt=0;32>jt;jt+=8)$t[Ot++]=this.g[ft]>>>jt&255;return $t};var R={};function k($t){return-128<=$t&&128>$t?function f($t,ft){var Ot=R;return Object.prototype.hasOwnProperty.call(Ot,$t)?Ot[$t]:Ot[$t]=ft($t)}($t,function(ft){return new _([0|ft],0>ft?-1:0)}):new _([0|$t],0>$t?-1:0)}function Y($t){if(isNaN($t)||!isFinite($t))return He;if(0>$t)return Vn(Y(-$t));for(var ft=[],Ot=1,jt=0;$t>=Ot;jt++)ft[jt]=$t/Ot|0,Ot*=4294967296;return new _(ft,0)}var He=k(0),mt=k(1),Zt=k(16777216);function Sn($t){if(0!=$t.h)return!1;for(var ft=0;ft<$t.g.length;ft++)if(0!=$t.g[ft])return!1;return!0}function Kn($t){return-1==$t.h}function Vn($t){for(var ft=$t.g.length,Ot=[],jt=0;jt<ft;jt++)Ot[jt]=~$t.g[jt];return new _(Ot,~$t.h).add(mt)}function vr($t,ft){return $t.add(Vn(ft))}function Pr($t,ft){for(;(65535&$t[ft])!=$t[ft];)$t[ft+1]+=$t[ft]>>>16,$t[ft]&=65535,ft++}function Ir($t,ft){this.g=$t,this.h=ft}function Fr($t,ft){if(Sn(ft))throw Error("division by zero");if(Sn($t))return new Ir(He,He);if(Kn($t))return ft=Fr(Vn($t),ft),new Ir(Vn(ft.g),Vn(ft.h));if(Kn(ft))return ft=Fr($t,Vn(ft)),new Ir(Vn(ft.g),ft.h);if(30<$t.g.length){if(Kn($t)||Kn(ft))throw Error("slowDivide_ only works with positive integers.");for(var Ot=mt,jt=ft;0>=jt.l($t);)Ot=Ni(Ot),jt=Ni(jt);var Kt=Yr(Ot,1),tn=Yr(jt,1);for(jt=Yr(jt,2),Ot=Yr(Ot,2);!Sn(jt);){var Pt=tn.add(jt);0>=Pt.l($t)&&(Kt=Kt.add(Ot),tn=Pt),jt=Yr(jt,1),Ot=Yr(Ot,1)}return ft=vr($t,Kt.j(ft)),new Ir(Kt,ft)}for(Kt=He;0<=$t.l(ft);){for(Ot=Math.max(1,Math.floor($t.m()/ft.m())),jt=48>=(jt=Math.ceil(Math.log(Ot)/Math.LN2))?1:Math.pow(2,jt-48),Pt=(tn=Y(Ot)).j(ft);Kn(Pt)||0<Pt.l($t);)Pt=(tn=Y(Ot-=jt)).j(ft);Sn(tn)&&(tn=mt),Kt=Kt.add(tn),$t=vr($t,Pt)}return new Ir(Kt,$t)}function Ni($t){for(var ft=$t.g.length+1,Ot=[],jt=0;jt<ft;jt++)Ot[jt]=$t.i(jt)<<1|$t.i(jt-1)>>>31;return new _(Ot,$t.h)}function Yr($t,ft){var Ot=ft>>5;ft%=32;for(var jt=$t.g.length-Ot,Kt=[],tn=0;tn<jt;tn++)Kt[tn]=0<ft?$t.i(tn+Ot)>>>ft|$t.i(tn+Ot+1)<<32-ft:$t.i(tn+Ot);return new _(Kt,$t.h)}(l=_.prototype).m=function(){if(Kn(this))return-Vn(this).m();for(var $t=0,ft=1,Ot=0;Ot<this.g.length;Ot++){var jt=this.i(Ot);$t+=(0<=jt?jt:4294967296+jt)*ft,ft*=4294967296}return $t},l.toString=function($t){if(2>($t=$t||10)||36<$t)throw Error("radix out of range: "+$t);if(Sn(this))return"0";if(Kn(this))return"-"+Vn(this).toString($t);for(var ft=Y(Math.pow($t,6)),Ot=this,jt="";;){var Kt=Fr(Ot,ft).g,tn=((0<(Ot=vr(Ot,Kt.j(ft))).g.length?Ot.g[0]:Ot.h)>>>0).toString($t);if(Sn(Ot=Kt))return tn+jt;for(;6>tn.length;)tn="0"+tn;jt=tn+jt}},l.i=function($t){return 0>$t?0:$t<this.g.length?this.g[$t]:this.h},l.l=function($t){return Kn($t=vr(this,$t))?-1:Sn($t)?0:1},l.abs=function(){return Kn(this)?Vn(this):this},l.add=function($t){for(var ft=Math.max(this.g.length,$t.g.length),Ot=[],jt=0,Kt=0;Kt<=ft;Kt++){var tn=jt+(65535&this.i(Kt))+(65535&$t.i(Kt)),Pt=(tn>>>16)+(this.i(Kt)>>>16)+($t.i(Kt)>>>16);jt=Pt>>>16,Ot[Kt]=(Pt&=65535)<<16|(tn&=65535)}return new _(Ot,-2147483648&Ot[Ot.length-1]?-1:0)},l.j=function($t){if(Sn(this)||Sn($t))return He;if(Kn(this))return Kn($t)?Vn(this).j(Vn($t)):Vn(Vn(this).j($t));if(Kn($t))return Vn(this.j(Vn($t)));if(0>this.l(Zt)&&0>$t.l(Zt))return Y(this.m()*$t.m());for(var ft=this.g.length+$t.g.length,Ot=[],jt=0;jt<2*ft;jt++)Ot[jt]=0;for(jt=0;jt<this.g.length;jt++)for(var Kt=0;Kt<$t.g.length;Kt++){var tn=this.i(jt)>>>16,Pt=65535&this.i(jt),Wl=$t.i(Kt)>>>16,Td=65535&$t.i(Kt);Ot[2*jt+2*Kt]+=Pt*Td,Pr(Ot,2*jt+2*Kt),Ot[2*jt+2*Kt+1]+=tn*Td,Pr(Ot,2*jt+2*Kt+1),Ot[2*jt+2*Kt+1]+=Pt*Wl,Pr(Ot,2*jt+2*Kt+1),Ot[2*jt+2*Kt+2]+=tn*Wl,Pr(Ot,2*jt+2*Kt+2)}for(jt=0;jt<ft;jt++)Ot[jt]=Ot[2*jt+1]<<16|Ot[2*jt];for(jt=ft;jt<2*ft;jt++)Ot[jt]=0;return new _(Ot,0)},l.A=function($t){return Fr(this,$t).h},l.and=function($t){for(var ft=Math.max(this.g.length,$t.g.length),Ot=[],jt=0;jt<ft;jt++)Ot[jt]=this.i(jt)&$t.i(jt);return new _(Ot,this.h&$t.h)},l.or=function($t){for(var ft=Math.max(this.g.length,$t.g.length),Ot=[],jt=0;jt<ft;jt++)Ot[jt]=this.i(jt)|$t.i(jt);return new _(Ot,this.h|$t.h)},l.xor=function($t){for(var ft=Math.max(this.g.length,$t.g.length),Ot=[],jt=0;jt<ft;jt++)Ot[jt]=this.i(jt)^$t.i(jt);return new _(Ot,this.h^$t.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Vt=Se.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=Y,_.fromString=function Ae($t,ft){if(0==$t.length)throw Error("number format error: empty string");if(2>(ft=ft||10)||36<ft)throw Error("radix out of range: "+ft);if("-"==$t.charAt(0))return Vn(Ae($t.substring(1),ft));if(0<=$t.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ot=Y(Math.pow(ft,8)),jt=He,Kt=0;Kt<$t.length;Kt+=8){var tn=Math.min(8,$t.length-Kt),Pt=parseInt($t.substring(Kt,Kt+tn),ft);8>tn?(tn=Y(Math.pow(ft,tn)),jt=jt.j(tn).add(Y(Pt))):jt=(jt=jt.j(Ot)).add(Y(Pt))}return jt},gt=Se.Integer=_}).apply(typeof Ft<"u"?Ft:typeof self<"u"?self:typeof window<"u"?window:{});var gn,Wt,Le,Ue,ie,de,Be,nt,nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={};(function(){var l,t="function"==typeof Object.defineProperties?Object.defineProperty:function(v,U,re){return v==Array.prototype||v==Object.prototype||(v[U]=re.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof nn&&nn];for(var U=0;U<v.length;++U){var re=v[U];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}(this);!function u(v,U){if(U)e:{var re=s;v=v.split(".");for(var Fe=0;Fe<v.length-1;Fe++){var Jt=v[Fe];if(!(Jt in re))break e;re=re[Jt]}(U=U(Fe=re[v=v[v.length-1]]))!=Fe&&null!=U&&t(re,v,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(v){return v||function(){return function f(v,U){v instanceof String&&(v+="");var re=0,Fe=!1,Jt={next:function(){if(!Fe&&re<v.length){var fn=re++;return{value:U(fn,v[fn]),done:!1}}return Fe=!0,{done:!0,value:void 0}}};return Jt[Symbol.iterator]=function(){return Jt},Jt}(this,function(U,re){return re})}});var _=_||{},R=this||self;function k(v){var U=typeof v;return"array"==(U="object"!=U?U:v?Array.isArray(v)?"array":U:"null")||"object"==U&&"number"==typeof v.length}function Y(v){var U=typeof v;return"object"==U&&null!=v||"function"==U}function Ae(v,U,re){return v.call.apply(v.bind,arguments)}function He(v,U,re){if(!v)throw Error();if(2<arguments.length){var Fe=Array.prototype.slice.call(arguments,2);return function(){var Jt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Jt,Fe),v.apply(U,Jt)}}return function(){return v.apply(U,arguments)}}function mt(v,U,re){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ae:He).apply(null,arguments)}function Zt(v,U){var re=Array.prototype.slice.call(arguments,1);return function(){var Fe=re.slice();return Fe.push.apply(Fe,arguments),v.apply(this,Fe)}}function Sn(v,U){function re(){}re.prototype=U.prototype,v.aa=U.prototype,v.prototype=new re,v.prototype.constructor=v,v.Qb=function(Fe,Jt,fn){for(var rr=Array(arguments.length-2),io=2;io<arguments.length;io++)rr[io-2]=arguments[io];return U.prototype[Jt].apply(Fe,rr)}}function Kn(v){const U=v.length;if(0<U){const re=Array(U);for(let Fe=0;Fe<U;Fe++)re[Fe]=v[Fe];return re}return[]}function Vn(v,U){for(let re=1;re<arguments.length;re++){const Fe=arguments[re];if(k(Fe)){const Jt=v.length||0,fn=Fe.length||0;v.length=Jt+fn;for(let rr=0;rr<fn;rr++)v[Jt+rr]=Fe[rr]}else v.push(Fe)}}function Pr(v){return/^[\s\xa0]*$/.test(v)}function Ir(){var v=R.navigator;return v&&(v=v.userAgent)?v:""}function Fr(v){return Fr[" "](v),v}Fr[" "]=function(){};var Ni=!(-1==Ir().indexOf("Gecko")||-1!=Ir().toLowerCase().indexOf("webkit")&&-1==Ir().indexOf("Edge")||-1!=Ir().indexOf("Trident")||-1!=Ir().indexOf("MSIE")||-1!=Ir().indexOf("Edge"));function Yr(v,U,re){for(const Fe in v)U.call(re,v[Fe],Fe,v)}function ft(v){const U={};for(const re in v)U[re]=v[re];return U}const Ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jt(v,U){let re,Fe;for(let Jt=1;Jt<arguments.length;Jt++){for(re in Fe=arguments[Jt],Fe)v[re]=Fe[re];for(let fn=0;fn<Ot.length;fn++)re=Ot[fn],Object.prototype.hasOwnProperty.call(Fe,re)&&(v[re]=Fe[re])}}function Kt(v){var U=1;v=v.split(":");const re=[];for(;0<U&&v.length;)re.push(v.shift()),U--;return v.length&&re.push(v.join(":")),re}function tn(v){R.setTimeout(()=>{throw v},0)}function Pt(){var v=Ip;let U=null;return v.g&&(U=v.g,v.g=v.g.next,v.g||(v.h=null),U.next=null),U}var Td=new class vr{constructor(U,re){this.i=U,this.j=re,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new mI,v=>v.reset());class mI{constructor(){this.next=this.g=this.h=null}set(U,re){this.h=U,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let Nu,Ph=!1,Ip=new class Wl{constructor(){this.h=this.g=null}add(U,re){const Fe=Td.get();Fe.set(U,re),this.h?this.h.next=Fe:this.g=Fe,this.h=Fe}},G_=()=>{const v=R.Promise.resolve(void 0);Nu=()=>{v.then(W_)}};var W_=()=>{for(var v;v=Pt();){try{v.h.call(v.g)}catch(re){tn(re)}var U=Td;U.j(v),100>U.h&&(U.h++,v.next=U.g,U.g=v)}Ph=!1};function ku(){this.s=this.s,this.C=this.C}function Bs(v,U){this.type=v,this.g=this.target=U,this.defaultPrevented=!1}ku.prototype.s=!1,ku.prototype.ma=function(){this.s||(this.s=!0,this.N())},ku.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Bs.prototype.h=function(){this.defaultPrevented=!0};var K_=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var v=!1,U=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const re=()=>{};R.addEventListener("test",re,U),R.removeEventListener("test",re,U)}catch{}return v}();function kc(v,U){if(Bs.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var re=this.type=v.type,Fe=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=U,U=v.relatedTarget){if(Ni){e:{try{Fr(U.nodeName);var Jt=!0;break e}catch{}Jt=!1}Jt||(U=null)}}else"mouseover"==re?U=v.fromElement:"mouseout"==re&&(U=v.toElement);this.relatedTarget=U,Fe?(this.clientX=void 0!==Fe.clientX?Fe.clientX:Fe.pageX,this.clientY=void 0!==Fe.clientY?Fe.clientY:Fe.pageY,this.screenX=Fe.screenX||0,this.screenY=Fe.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:q_[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&kc.aa.h.call(this)}}Sn(kc,Bs);var q_={2:"touch",3:"pen",4:"mouse"};kc.prototype.h=function(){kc.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Kl="closure_listenable_"+(1e6*Math.random()|0),Mh=0;function xh(v,U,re,Fe,Jt){this.listener=v,this.proxy=null,this.src=U,this.type=re,this.capture=!!Fe,this.ha=Jt,this.key=++Mh,this.da=this.fa=!1}function Ep(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ap(v){this.src=v,this.g={},this.h=0}function xm(v,U){var re=U.type;if(re in v.g){var fn,Fe=v.g[re],Jt=Array.prototype.indexOf.call(Fe,U,void 0);(fn=0<=Jt)&&Array.prototype.splice.call(Fe,Jt,1),fn&&(Ep(U),0==v.g[re].length&&(delete v.g[re],v.h--))}}function Cd(v,U,re,Fe){for(var Jt=0;Jt<v.length;++Jt){var fn=v[Jt];if(!fn.da&&fn.listener==U&&fn.capture==!!re&&fn.ha==Fe)return Jt}return-1}Ap.prototype.add=function(v,U,re,Fe,Jt){var fn=v.toString();(v=this.g[fn])||(v=this.g[fn]=[],this.h++);var rr=Cd(v,U,Fe,Jt);return-1<rr?(U=v[rr],re||(U.fa=!1)):((U=new xh(U,this.src,fn,!!Fe,Jt)).fa=re,v.push(U)),U};var Oh="closure_lm_"+(1e6*Math.random()|0),Om={};function vI(v,U,re,Fe,Jt){if(Fe&&Fe.once)return X_(v,U,re,Fe,Jt);if(Array.isArray(U)){for(var fn=0;fn<U.length;fn++)vI(v,U[fn],re,Fe,Jt);return null}return re=Nh(re),v&&v[Kl]?v.K(U,re,Y(Fe)?!!Fe.capture:!!Fe,Jt):_I(v,U,re,!1,Fe,Jt)}function _I(v,U,re,Fe,Jt,fn){if(!U)throw Error("Invalid event type");var rr=Y(Jt)?!!Jt.capture:!!Jt,io=km(v);if(io||(v[Oh]=io=new Ap(v)),(re=io.add(U,re,Fe,rr,fn)).proxy)return re;if(Fe=function yI(){const U=AI;return function v(re){return U.call(v.src,v.listener,re)}}(),re.proxy=Fe,Fe.src=v,Fe.listener=re,v.addEventListener)K_||(Jt=rr),void 0===Jt&&(Jt=!1),v.addEventListener(U.toString(),Fe,Jt);else if(v.attachEvent)v.attachEvent(EI(U.toString()),Fe);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Fe)}return re}function X_(v,U,re,Fe,Jt){if(Array.isArray(U)){for(var fn=0;fn<U.length;fn++)X_(v,U[fn],re,Fe,Jt);return null}return re=Nh(re),v&&v[Kl]?v.L(U,re,Y(Fe)?!!Fe.capture:!!Fe,Jt):_I(v,U,re,!0,Fe,Jt)}function II(v,U,re,Fe,Jt){if(Array.isArray(U))for(var fn=0;fn<U.length;fn++)II(v,U[fn],re,Fe,Jt);else Fe=Y(Fe)?!!Fe.capture:!!Fe,re=Nh(re),v&&v[Kl]?(v=v.i,(U=String(U).toString())in v.g&&-1<(re=Cd(fn=v.g[U],re,Fe,Jt))&&(Ep(fn[re]),Array.prototype.splice.call(fn,re,1),0==fn.length&&(delete v.g[U],v.h--))):v&&(v=km(v))&&(U=v.g[U.toString()],v=-1,U&&(v=Cd(U,re,Fe,Jt)),(re=-1<v?U[v]:null)&&Nm(re))}function Nm(v){if("number"!=typeof v&&v&&!v.da){var U=v.src;if(U&&U[Kl])xm(U.i,v);else{var re=v.type,Fe=v.proxy;U.removeEventListener?U.removeEventListener(re,Fe,v.capture):U.detachEvent?U.detachEvent(EI(re),Fe):U.addListener&&U.removeListener&&U.removeListener(Fe),(re=km(U))?(xm(re,v),0==re.h&&(re.src=null,U[Oh]=null)):Ep(v)}}}function EI(v){return v in Om?Om[v]:Om[v]="on"+v}function AI(v,U){if(v.da)v=!0;else{U=new kc(U,this);var re=v.listener,Fe=v.ha||v.src;v.fa&&Nm(v),v=re.call(Fe,U)}return v}function km(v){return(v=v[Oh])instanceof Ap?v:null}var Fm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nh(v){return"function"==typeof v?v:(v[Fm]||(v[Fm]=function(U){return v.handleEvent(U)}),v[Fm])}function Jo(){ku.call(this),this.i=new Ap(this),this.M=this,this.F=null}function Ts(v,U){var re,Fe=v.F;if(Fe)for(re=[];Fe;Fe=Fe.F)re.push(Fe);if(v=v.M,Fe=U.type||U,"string"==typeof U)U=new Bs(U,v);else if(U instanceof Bs)U.target=U.target||v;else{var Jt=U;jt(U=new Bs(Fe,v),Jt)}if(Jt=!0,re)for(var fn=re.length-1;0<=fn;fn--){var rr=U.g=re[fn];Jt=Fc(rr,Fe,!0,U)&&Jt}if(Jt=Fc(rr=U.g=v,Fe,!0,U)&&Jt,Jt=Fc(rr,Fe,!1,U)&&Jt,re)for(fn=0;fn<re.length;fn++)Jt=Fc(rr=U.g=re[fn],Fe,!1,U)&&Jt}function Fc(v,U,re,Fe){if(!(U=v.i.g[String(U)]))return!0;U=U.concat();for(var Jt=!0,fn=0;fn<U.length;++fn){var rr=U[fn];if(rr&&!rr.da&&rr.capture==re){var io=rr.listener,Cs=rr.ha||rr.src;rr.fa&&xm(v.i,rr),Jt=!1!==io.call(Cs,Fe)&&Jt}}return Jt&&!Fe.defaultPrevented}function Lm(v,U,re){if("function"==typeof v)re&&(v=mt(v,re));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=mt(v.handleEvent,v)}return 2147483647<Number(U)?-1:R.setTimeout(v,U||0)}function wd(v){v.g=Lm(()=>{v.g=null,v.i&&(v.i=!1,wd(v))},v.l);const U=v.h;v.h=null,v.m.apply(null,U)}Sn(Jo,ku),Jo.prototype[Kl]=!0,Jo.prototype.removeEventListener=function(v,U,re,Fe){II(this,v,U,re,Fe)},Jo.prototype.N=function(){if(Jo.aa.N.call(this),this.i){var U,v=this.i;for(U in v.g){for(var re=v.g[U],Fe=0;Fe<re.length;Fe++)Ep(re[Fe]);delete v.g[U],v.h--}}this.F=null},Jo.prototype.K=function(v,U,re,Fe){return this.i.add(String(v),U,!1,re,Fe)},Jo.prototype.L=function(v,U,re,Fe){return this.i.add(String(v),U,!0,re,Fe)};class Q_ extends ku{constructor(U,re){super(),this.m=U,this.l=re,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:wd(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kh(v){ku.call(this),this.h=v,this.g={}}Sn(kh,ku);var Dd=[];function Vm(v){Yr(v.g,function(U,re){this.g.hasOwnProperty(re)&&Nm(U)},v),v.g={}}kh.prototype.N=function(){kh.aa.N.call(this),Vm(this)},kh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bp=R.JSON.stringify,J_=R.JSON.parse,Y_=class{stringify(v){return R.JSON.stringify(v,void 0)}parse(v){return R.JSON.parse(v,void 0)}};function Um(){}function ey(){}Um.prototype.h=null;var ql={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bm(){Bs.call(this,"d")}function $m(){Bs.call(this,"c")}Sn(Bm,Bs),Sn($m,Bs);var Lc={},Fh=null;function Lh(){return Fh=Fh||new Jo}function jm(v){Bs.call(this,Lc.La,v)}function Sd(v){const U=Lh();Ts(U,new jm(U))}function ty(v,U){Bs.call(this,Lc.STAT_EVENT,v),this.stat=U}function $s(v){const U=Lh();Ts(U,new ty(U,v))}function Tp(v,U){Bs.call(this,Lc.Ma,v),this.size=U}function Fu(v,U){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){v()},U)}function Vh(){this.g=!0}function Rd(v,U,re,Fe){v.info(function(){return"XMLHTTP TEXT ("+U+"): "+function wI(v,U){if(!v.g)return U;if(!U)return null;try{var re=JSON.parse(U);if(re)for(v=0;v<re.length;v++)if(Array.isArray(re[v])){var Fe=re[v];if(!(2>Fe.length)){var Jt=Fe[1];if(Array.isArray(Jt)&&!(1>Jt.length)){var fn=Jt[0];if("noop"!=fn&&"stop"!=fn&&"close"!=fn)for(var rr=1;rr<Jt.length;rr++)Jt[rr]=""}}}return bp(re)}catch{return U}}(v,re)+(Fe?" "+Fe:"")})}Lc.La="serverreachability",Sn(jm,Bs),Lc.STAT_EVENT="statevent",Sn(ty,Bs),Lc.Ma="timingevent",Sn(Tp,Bs),Vh.prototype.xa=function(){this.g=!1},Vh.prototype.info=function(){};var Cp,Pd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Md={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Uh(){}function Lu(v,U,re,Fe){this.j=v,this.i=U,this.l=re,this.R=Fe||1,this.U=new kh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}Sn(Uh,Um),Uh.prototype.g=function(){return new XMLHttpRequest},Uh.prototype.i=function(){return{}},Cp=new Uh;var Bh={},ny={};function Hm(v,U,re){v.L=1,v.v=Rp(Ql(U)),v.m=re,v.P=!0,zm(v,null)}function zm(v,U){v.F=Date.now(),$h(v),v.A=Ql(v.v);var re=v.A,Fe=v.R;Array.isArray(Fe)||(Fe=[String(Fe)]),Vc(re.i,"t",Fe),v.C=0,re=v.j.J,v.h=new xd,v.g=Np(v.j,re?U:null,!v.m),0<v.O&&(v.M=new Q_(mt(v.Y,v,v.g),v.O)),U=v.U,re=v.g,Fe=v.ca;var Jt="readystatechange";Array.isArray(Jt)||(Jt&&(Dd[0]=Jt.toString()),Jt=Dd);for(var fn=0;fn<Jt.length;fn++){var rr=vI(re,Jt[fn],Fe||U.handleEvent,!1,U.h||U);if(!rr)break;U.g[rr.key]=rr}U=v.H?ft(v.H):{},v.m?(v.u||(v.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,U)):(v.u="GET",v.g.ea(v.A,v.u,null,U)),Sd(),function bI(v,U,re,Fe,Jt,fn){v.info(function(){if(v.g)if(fn)for(var rr="",io=fn.split("&"),Cs=0;Cs<io.length;Cs++){var Gi=io[Cs].split("=");if(1<Gi.length){var js=Gi[0];Gi=Gi[1];var Hs=js.split("_");rr=2<=Hs.length&&"type"==Hs[1]?rr+(js+"=")+Gi+"&":rr+(js+"=redacted&")}}else rr=null;else rr=fn;return"XMLHTTP REQ ("+Fe+") [attempt "+Jt+"]: "+U+"\n"+re+"\n"+rr})}(v.i,v.u,v.A,v.l,v.R,v.m)}function wp(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function DI(v,U){var re=v.C,Fe=U.indexOf("\n",re);return-1==Fe?ny:(re=Number(U.substring(re,Fe)),isNaN(re)?Bh:(Fe+=1)+re>U.length?ny:(U=U.slice(Fe,Fe+re),v.C=Fe+re,U))}function $h(v){v.S=Date.now()+v.I,ry(v,v.I)}function ry(v,U){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Fu(mt(v.ba,v),U)}function Dp(v){v.B&&(R.clearTimeout(v.B),v.B=null)}function Od(v){0==v.j.G||v.J||Qh(v.j,v)}function Vu(v){Dp(v);var U=v.M;U&&"function"==typeof U.ma&&U.ma(),v.M=null,Vm(v.U),v.g&&(U=v.g,v.g=null,U.abort(),U.ma())}function jh(v,U){try{var re=v.j;if(0!=re.G&&(re.g==v||Gm(re.h,v)))if(!v.K&&Gm(re.h,v)&&3==re.G){try{var Fe=re.Da.g.parse(U)}catch{Fe=null}if(Array.isArray(Fe)&&3==Fe.length){var Jt=Fe;if(0==Jt[0]){e:if(!re.u){if(re.g){if(!(re.g.F+3e3<v.F))break e;Op(re),Kh(re)}tv(re),$s(18)}}else re.za=Jt[1],0<re.za-re.T&&37500>Jt[2]&&re.F&&0==re.v&&!re.C&&(re.C=Fu(mt(re.Za,re),6e3));if(1>=sy(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else Bc(re,11)}else if((v.K||re.g==v)&&Op(re),!Pr(U))for(Jt=re.Da.g.parse(U),U=0;U<Jt.length;U++){let Gi=Jt[U];if(re.T=Gi[0],Gi=Gi[1],2==re.G)if("c"==Gi[0]){re.K=Gi[1],re.ia=Gi[2];const js=Gi[3];null!=js&&(re.la=js,re.j.info("VER="+re.la));const Hs=Gi[4];null!=Hs&&(re.Aa=Hs,re.j.info("SVER="+re.Aa));const jc=Gi[5];null!=jc&&"number"==typeof jc&&0<jc&&(re.L=Fe=1.5*jc,re.j.info("backChannelRequestTimeoutMs_="+Fe)),Fe=re;const Ca=v.g;if(Ca){const Ud=Ca.g?Ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ud){var fn=Fe.h;fn.g||-1==Ud.indexOf("spdy")&&-1==Ud.indexOf("quic")&&-1==Ud.indexOf("h2")||(fn.j=fn.l,fn.g=new Set,fn.h&&(Wm(fn,fn.h),fn.h=null))}if(Fe.D){const Lp=Ca.g?Ca.g.getResponseHeader("X-HTTP-Session-Id"):null;Lp&&(Fe.ya=Lp,Po(Fe.I,Fe.D,Lp))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-v.F,re.j.info("Handshake RTT: "+re.R+"ms"));var rr=v;if((Fe=re).qa=iv(Fe,Fe.J?Fe.ia:null,Fe.W),rr.K){Sp(Fe.h,rr);var io=rr,Cs=Fe.L;Cs&&(io.I=Cs),io.B&&(Dp(io),$h(io)),Fe.g=rr}else Iy(Fe);0<re.i.length&&xp(re)}else"stop"!=Gi[0]&&"close"!=Gi[0]||Bc(re,7);else 3==re.G&&("stop"==Gi[0]||"close"==Gi[0]?"stop"==Gi[0]?Bc(re,7):Vd(re):"noop"!=Gi[0]&&re.l&&re.l.ta(Gi),re.v=0)}Sd()}catch{}}Lu.prototype.ca=function(v){v=v.target;const U=this.M;U&&3==il(v)?U.j():this.Y(v)},Lu.prototype.Y=function(v){try{if(v==this.g)e:{const Hs=il(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>Hs)&&(3!=Hs||this.g&&(this.h.h||this.g.oa()||Zm(this.g)))){this.J||4!=Hs||7==U||Sd(),Dp(this);var re=this.g.Z();this.X=re;t:if(wp(this)){var Fe=Zm(this.g);v="";var Jt=Fe.length,fn=4==il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vu(this),Od(this);var rr="";break t}this.h.i=new R.TextDecoder}for(U=0;U<Jt;U++)this.h.h=!0,v+=this.h.i.decode(Fe[U],{stream:!(fn&&U==Jt-1)});Fe.length=0,this.h.g+=v,this.C=0,rr=this.h.g}else rr=this.g.oa();if(this.o=200==re,function TI(v,U,re,Fe,Jt,fn,rr){v.info(function(){return"XMLHTTP RESP ("+Fe+") [ attempt "+Jt+"]: "+U+"\n"+re+"\n"+fn+" "+rr})}(this.i,this.u,this.A,this.l,this.R,Hs,re),this.o){if(this.T&&!this.K){t:{if(this.g){var io,Cs=this.g;if((io=Cs.g?Cs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pr(io)){var Gi=io;break t}}Gi=null}if(!(re=Gi)){this.o=!1,this.s=3,$s(12),Vu(this),Od(this);break e}Rd(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jh(this,re)}if(this.P){let Ca;for(re=!0;!this.J&&this.C<rr.length;){if(Ca=DI(this,rr),Ca==ny){4==Hs&&(this.s=4,$s(14),re=!1),Rd(this.i,this.l,null,"[Incomplete Response]");break}if(Ca==Bh){this.s=4,$s(15),Rd(this.i,this.l,rr,"[Invalid Chunk]"),re=!1;break}Rd(this.i,this.l,Ca,null),jh(this,Ca)}if(wp(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Hs||0!=rr.length||this.h.h||(this.s=1,$s(16),re=!1),this.o=this.o&&re,re){if(0<rr.length&&!this.W){this.W=!0;var js=this.j;js.g==this&&js.ba&&!js.M&&(js.j.info("Great, no buffering proxy detected. Bytes received: "+rr.length),nv(js),js.M=!0,$s(11))}}else Rd(this.i,this.l,rr,"[Invalid Chunked Response]"),Vu(this),Od(this)}else Rd(this.i,this.l,rr,null),jh(this,rr);4==Hs&&Vu(this),this.o&&!this.J&&(4==Hs?Qh(this.j,this):(this.o=!1,$h(this)))}else(function zu(v){const U={};v=(v.g&&2<=il(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Fe=0;Fe<v.length;Fe++){if(Pr(v[Fe]))continue;var re=Kt(v[Fe]);const Jt=re[0];if("string"!=typeof(re=re[1]))continue;re=re.trim();const fn=U[Jt]||[];U[Jt]=fn,fn.push(re)}!function $t(v,U){for(const re in v)U.call(void 0,v[re],re,v)}(U,function(Fe){return Fe.join(", ")})})(this.g),400==re&&0<rr.indexOf("Unknown SID")?(this.s=3,$s(12)):(this.s=0,$s(13)),Vu(this),Od(this)}}}catch{}},Lu.prototype.cancel=function(){this.J=!0,Vu(this)},Lu.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function CI(v,U){v.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(Sd(),$s(17)),Vu(this),this.s=2,Od(this)):ry(this,this.S-v)};var SI=class{constructor(v,U){this.g=v,this.map=U}};function iy(v){this.l=v||10,v=R.PerformanceNavigationTiming?0<(v=R.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oy(v){return!!v.h||!!v.g&&v.g.size>=v.j}function sy(v){return v.h?1:v.g?v.g.size:0}function Gm(v,U){return v.h?v.h==U:!!v.g&&v.g.has(U)}function Wm(v,U){v.g?v.g.add(U):v.h=U}function Sp(v,U){v.h&&v.h==U?v.h=null:v.g&&v.g.has(U)&&v.g.delete(U)}function ay(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let U=v.i;for(const re of v.g.values())U=U.concat(re.D);return U}return Kn(v.i)}function Uu(v,U){if(v.forEach&&"function"==typeof v.forEach)v.forEach(U,void 0);else if(k(v)||"string"==typeof v)Array.prototype.forEach.call(v,U,void 0);else for(var re=function PI(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(k(v)||"string"==typeof v){var U=[];v=v.length;for(var re=0;re<v;re++)U.push(re);return U}U=[],re=0;for(const Fe in v)U[re++]=Fe;return U}}}(v),Fe=function RI(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(k(v)){for(var U=[],re=v.length,Fe=0;Fe<re;Fe++)U.push(v[Fe]);return U}for(Fe in U=[],re=0,v)U[re++]=v[Fe];return U}(v),Jt=Fe.length,fn=0;fn<Jt;fn++)U.call(void 0,Fe[fn],re&&re[fn],v)}iy.prototype.cancel=function(){if(this.i=ay(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Nd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xl(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Xl){this.h=v.h,Jl(this,v.j),this.o=v.o,this.g=v.g,Hh(this,v.s),this.l=v.l;var U=v.i,re=new kd;re.i=U.i,U.g&&(re.g=new Map(U.g),re.h=U.h),ly(this,re),this.m=v.m}else v&&(U=String(v).match(Nd))?(this.h=!1,Jl(this,U[1]||"",!0),this.o=zh(U[2]||""),this.g=zh(U[3]||"",!0),Hh(this,U[4]),this.l=zh(U[5]||"",!0),ly(this,U[6]||"",!0),this.m=zh(U[7]||"")):(this.h=!1,this.i=new kd(null,this.h))}function Ql(v){return new Xl(v)}function Jl(v,U,re){v.j=re?zh(U,!0):U,v.j&&(v.j=v.j.replace(/:$/,""))}function Hh(v,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);v.s=U}else v.s=null}function ly(v,U,re){U instanceof kd?(v.i=U,function _A(v,U){U&&!v.j&&(Bu(v),v.i=null,v.g.forEach(function(re,Fe){var Jt=Fe.toLowerCase();Fe!=Jt&&(hy(this,Fe),Vc(this,Jt,re))},v)),v.j=U}(v.i,v.h)):(re||(U=Gh(U,MI)),v.i=new kd(U,v.h))}function Po(v,U,re){v.i.set(U,re)}function Rp(v){return Po(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function zh(v,U){return v?U?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Gh(v,U,re){return"string"==typeof v?(v=encodeURI(v).replace(U,uy),re&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function uy(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Xl.prototype.toString=function(){var v=[],U=this.j;U&&v.push(Gh(U,cy,!0),":");var re=this.g;return(re||"file"==U)&&(v.push("//"),(U=this.o)&&v.push(Gh(U,cy,!0),"@"),v.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(re=this.s)&&v.push(":",String(re))),(re=this.l)&&(this.g&&"/"!=re.charAt(0)&&v.push("/"),v.push(Gh(re,"/"==re.charAt(0)?Pp:dy,!0))),(re=this.i.toString())&&v.push("?",re),(re=this.m)&&v.push("#",Gh(re,xI)),v.join("")};var cy=/[#\/\?@]/g,dy=/[#\?:]/g,Pp=/[#\?]/g,MI=/[#\?@]/g,xI=/#/g;function kd(v,U){this.h=this.g=null,this.i=v||null,this.j=!!U}function Bu(v){v.g||(v.g=new Map,v.h=0,v.i&&function Km(v,U){if(v){v=v.split("&");for(var re=0;re<v.length;re++){var Fe=v[re].indexOf("="),Jt=null;if(0<=Fe){var fn=v[re].substring(0,Fe);Jt=v[re].substring(Fe+1)}else fn=v[re];U(fn,Jt?decodeURIComponent(Jt.replace(/\+/g," ")):"")}}}(v.i,function(U,re){v.add(decodeURIComponent(U.replace(/\+/g," ")),re)}))}function hy(v,U){Bu(v),U=Cl(v,U),v.g.has(U)&&(v.i=null,v.h-=v.g.get(U).length,v.g.delete(U))}function $u(v,U){return Bu(v),U=Cl(v,U),v.g.has(U)}function Vc(v,U,re){hy(v,U),0<re.length&&(v.i=null,v.g.set(Cl(v,U),Kn(re)),v.h+=re.length)}function Cl(v,U){return U=String(U),v.j&&(U=U.toLowerCase()),U}function ju(v,U,re,Fe,Jt){try{Jt&&(Jt.onload=null,Jt.onerror=null,Jt.onabort=null,Jt.ontimeout=null),Fe(re)}catch{}}function py(){this.g=new Y_}function OI(v,U,re){const Fe=re||"";try{Uu(v,function(Jt,fn){let rr=Jt;Y(Jt)&&(rr=bp(Jt)),U.push(Fe+fn+"="+encodeURIComponent(rr))})}catch(Jt){throw U.push(Fe+"type="+encodeURIComponent("_badmap")),Jt}}function Fd(v){this.l=v.Ub||null,this.j=v.eb||!1}function Xm(v,U){Jo.call(this),this.D=v,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function gy(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function wl(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Uc(v)}function Uc(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function my(v){let U="";return Yr(v,function(re,Fe){U+=Fe,U+=":",U+=re,U+="\r\n"}),U}function Qm(v,U,re){e:{for(Fe in re){var Fe=!1;break e}Fe=!0}Fe||(re=my(re),"string"==typeof v?null!=re&&encodeURIComponent(String(re)):Po(v,U,re))}function Vo(v){Jo.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=kd.prototype).add=function(v,U){Bu(this),this.i=null,v=Cl(this,v);var re=this.g.get(v);return re||this.g.set(v,re=[]),re.push(U),this.h+=1,this},l.forEach=function(v,U){Bu(this),this.g.forEach(function(re,Fe){re.forEach(function(Jt){v.call(U,Jt,Fe,this)},this)},this)},l.na=function(){Bu(this);const v=Array.from(this.g.values()),U=Array.from(this.g.keys()),re=[];for(let Fe=0;Fe<U.length;Fe++){const Jt=v[Fe];for(let fn=0;fn<Jt.length;fn++)re.push(U[Fe])}return re},l.V=function(v){Bu(this);let U=[];if("string"==typeof v)$u(this,v)&&(U=U.concat(this.g.get(Cl(this,v))));else{v=Array.from(this.g.values());for(let re=0;re<v.length;re++)U=U.concat(v[re])}return U},l.set=function(v,U){return Bu(this),this.i=null,$u(this,v=Cl(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[U]),this.h+=1,this},l.get=function(v,U){return v&&0<(v=this.V(v)).length?String(v[0]):U},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],U=Array.from(this.g.keys());for(var re=0;re<U.length;re++){var Fe=U[re];const fn=encodeURIComponent(String(Fe)),rr=this.V(Fe);for(Fe=0;Fe<rr.length;Fe++){var Jt=fn;""!==rr[Fe]&&(Jt+="="+encodeURIComponent(String(rr[Fe]))),v.push(Jt)}}return this.i=v.join("&")},Sn(Fd,Um),Fd.prototype.g=function(){return new Xm(this.l,this.j)},Fd.prototype.i=function(v){return function(){return v}}({}),Sn(Xm,Jo),(l=Xm.prototype).open=function(v,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=U,this.readyState=1,Uc(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(U.body=v),(this.D||R).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wl(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gy(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var U=v.value?v.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!v.done}))&&(this.response=this.responseText+=U)}v.done?wl(this):Uc(this),3==this.readyState&&gy(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,wl(this))},l.Qa=function(v){this.g&&(this.response=v,wl(this))},l.ga=function(){this.g&&wl(this)},l.setRequestHeader=function(v,U){this.u.append(v,U)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],U=this.h.entries();for(var re=U.next();!re.done;)v.push((re=re.value)[0]+": "+re[1]),re=U.next();return v.join("\r\n")},Object.defineProperty(Xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Sn(Vo,Jo);var Jm=/^https?$/i,Hu=["POST","PUT"];function Wh(v,U){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=U,v.m=5,Ym(v),Mp(v)}function Ym(v){v.A||(v.A=!0,Ts(v,"complete"),Ts(v,"error"))}function Ld(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=il(v)||2!=v.Z()))if(v.u&&4==il(v))Lm(v.Ea,0,v);else if(Ts(v,"readystatechange"),4==il(v)){v.h=!1;try{const rr=v.Z();e:switch(rr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var re;if(!(re=U)){var Fe;if(Fe=0===rr){var Jt=String(v.D).match(Nd)[1]||null;!Jt&&R.self&&R.self.location&&(Jt=R.self.location.protocol.slice(0,-1)),Fe=!Jm.test(Jt?Jt.toLowerCase():"")}re=Fe}if(re)Ts(v,"complete"),Ts(v,"success");else{v.m=6;try{var fn=2<il(v)?v.g.statusText:""}catch{fn=""}v.l=fn+" ["+v.Z()+"]",Ym(v)}}finally{Mp(v)}}}function Mp(v,U){if(v.g){vy(v);const re=v.g,Fe=v.v[0]?()=>{}:null;v.g=null,v.v=null,U||Ts(v,"ready");try{re.onreadystatechange=Fe}catch{}}}function vy(v){v.I&&(R.clearTimeout(v.I),v.I=null)}function il(v){return v.g?v.g.readyState:0}function Zm(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Yl(v,U,re){return re&&re.internalChannelParams&&re.internalChannelParams[v]||U}function NI(v){this.Aa=0,this.i=[],this.j=new Vh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yl("baseRetryDelayMs",5e3,v),this.cb=Yl("retryDelaySeedMs",1e4,v),this.Wa=Yl("forwardChannelMaxRetries",2,v),this.wa=Yl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new iy(v&&v.concurrentRequestLimit),this.Da=new py,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Vd(v){if(ev(v),3==v.G){var U=v.U++,re=Ql(v.I);if(Po(re,"SID",v.K),Po(re,"RID",U),Po(re,"TYPE","terminate"),Xh(v,re),(U=new Lu(v,v.j,U)).L=2,U.v=Rp(Ql(re)),re=!1,R.navigator&&R.navigator.sendBeacon)try{re=R.navigator.sendBeacon(U.v.toString(),"")}catch{}!re&&R.Image&&((new Image).src=U.v,re=!0),re||(U.g=Np(U.j,null),U.g.ea(U.v)),U.F=Date.now(),$h(U)}rv(v)}function Kh(v){v.g&&(nv(v),v.g.cancel(),v.g=null)}function ev(v){Kh(v),v.u&&(R.clearTimeout(v.u),v.u=null),Op(v),v.h.cancel(),v.s&&("number"==typeof v.s&&R.clearTimeout(v.s),v.s=null)}function xp(v){if(!oy(v.h)&&!v.s){v.s=!0;var U=v.Ga;Nu||G_(),Ph||(Nu(),Ph=!0),Ip.add(U,v),v.B=0}}function _y(v,U){var re;re=U?U.l:v.U++;const Fe=Ql(v.I);Po(Fe,"SID",v.K),Po(Fe,"RID",re),Po(Fe,"AID",v.T),Xh(v,Fe),v.m&&v.o&&Qm(Fe,v.m,v.o),re=new Lu(v,v.j,re,v.B+1),null===v.m&&(re.H=v.o),U&&(v.i=U.D.concat(v.i)),U=yy(v,re,1e3),re.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Wm(v.h,re),Hm(re,Fe,U)}function Xh(v,U){v.H&&Yr(v.H,function(re,Fe){Po(U,Fe,re)}),v.l&&Uu({},function(re,Fe){Po(U,Fe,re)})}function yy(v,U,re){re=Math.min(v.i.length,re);var Fe=v.l?mt(v.l.Na,v.l,v):null;e:{var Jt=v.i;let fn=-1;for(;;){const rr=["count="+re];-1==fn?0<re?(fn=Jt[0].g,rr.push("ofs="+fn)):fn=0:rr.push("ofs="+fn);let io=!0;for(let Cs=0;Cs<re;Cs++){let Gi=Jt[Cs].g;const js=Jt[Cs].map;if(Gi-=fn,0>Gi)fn=Math.max(0,Jt[Cs].g-100),io=!1;else try{OI(js,rr,"req"+Gi+"_")}catch{Fe&&Fe(js)}}if(io){Fe=rr.join("&");break e}}}return v=v.i.splice(0,re),U.D=v,Fe}function Iy(v){if(!v.g&&!v.u){v.Y=1;var U=v.Fa;Nu||G_(),Ph||(Nu(),Ph=!0),Ip.add(U,v),v.v=0}}function tv(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Fu(mt(v.Fa,v),Ay(v,v.v)),v.v++,0))}function nv(v){null!=v.A&&(R.clearTimeout(v.A),v.A=null)}function Ey(v){v.g=new Lu(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var U=Ql(v.qa);Po(U,"RID","rpc"),Po(U,"SID",v.K),Po(U,"AID",v.T),Po(U,"CI",v.F?"0":"1"),!v.F&&v.ja&&Po(U,"TO",v.ja),Po(U,"TYPE","xmlhttp"),Xh(v,U),v.m&&v.o&&Qm(U,v.m,v.o),v.L&&(v.g.I=v.L);var re=v.g;v=v.ia,re.L=1,re.v=Rp(Ql(U)),re.m=null,re.P=!0,zm(re,v)}function Op(v){null!=v.C&&(R.clearTimeout(v.C),v.C=null)}function Qh(v,U){var re=null;if(v.g==U){Op(v),nv(v),v.g=null;var Fe=2}else{if(!Gm(v.h,U))return;re=U.D,Sp(v.h,U),Fe=1}if(0!=v.G)if(U.o)if(1==Fe){re=U.m?U.m.length:0,U=Date.now()-U.F;var Jt=v.B;Ts(Fe=Lh(),new Tp(Fe,re)),xp(v)}else Iy(v);else if(3==(Jt=U.s)||0==Jt&&0<U.X||!(1==Fe&&function qh(v,U){return!(sy(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=U.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Fu(mt(v.Ga,v,U),Ay(v,v.B)),v.B++,0)))}(v,U)||2==Fe&&tv(v)))switch(re&&0<re.length&&(U=v.h,U.i=U.i.concat(re)),Jt){case 1:Bc(v,5);break;case 4:Bc(v,10);break;case 3:Bc(v,6);break;default:Bc(v,2)}}function Ay(v,U){let re=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(re*=2),re*U}function Bc(v,U){if(v.j.info("Error code "+U),2==U){var re=mt(v.fb,v),Fe=v.Xa;const Jt=!Fe;Fe=new Xl(Fe||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Jl(Fe,"https"),Rp(Fe),Jt?function fy(v,U){const re=new Vh;if(R.Image){const Fe=new Image;Fe.onload=Zt(ju,re,"TestLoadImage: loaded",!0,U,Fe),Fe.onerror=Zt(ju,re,"TestLoadImage: error",!1,U,Fe),Fe.onabort=Zt(ju,re,"TestLoadImage: abort",!1,U,Fe),Fe.ontimeout=Zt(ju,re,"TestLoadImage: timeout",!1,U,Fe),R.setTimeout(function(){Fe.ontimeout&&Fe.ontimeout()},1e4),Fe.src=v}else U(!1)}(Fe.toString(),re):function qm(v,U){new Vh;const Fe=new AbortController,Jt=setTimeout(()=>{Fe.abort(),ju(0,0,!1,U)},1e4);fetch(v,{signal:Fe.signal}).then(fn=>{clearTimeout(Jt),ju(0,0,!!fn.ok,U)}).catch(()=>{clearTimeout(Jt),ju(0,0,!1,U)})}(Fe.toString(),re)}else $s(2);v.G=0,v.l&&v.l.sa(U),rv(v),ev(v)}function rv(v){if(v.G=0,v.ka=[],v.l){const U=ay(v.h);(0!=U.length||0!=v.i.length)&&(Vn(v.ka,U),Vn(v.ka,v.i),v.h.i.length=0,Kn(v.i),v.i.length=0),v.l.ra()}}function iv(v,U,re){var Fe=re instanceof Xl?Ql(re):new Xl(re);if(""!=Fe.g)U&&(Fe.g=U+"."+Fe.g),Hh(Fe,Fe.s);else{var Jt=R.location;Fe=Jt.protocol,U=U?U+"."+Jt.hostname:Jt.hostname,Jt=+Jt.port;var fn=new Xl(null);Fe&&Jl(fn,Fe),U&&(fn.g=U),Jt&&Hh(fn,Jt),re&&(fn.l=re),Fe=fn}return U=v.ya,(re=v.D)&&U&&Po(Fe,re,U),Po(Fe,"VER",v.la),Xh(v,Fe),Fe}function Np(v,U,re){if(U&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Vo(v.Ca&&!v.pa?new Fd({eb:re}):v.pa)).Ha(v.J),U}function ov(){}function kp(){}function la(v,U){Jo.call(this),this.g=new NI(U),this.l=v,this.h=U&&U.messageUrlParams||null,v=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(v?v["X-WebChannel-Content-Type"]=U.messageContentType:v={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(v?v["X-WebChannel-Client-Profile"]=U.va:v={"X-WebChannel-Client-Profile":U.va}),this.g.S=v,(v=U&&U.Sb)&&!Pr(v)&&(this.g.m=v),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!Pr(U)&&(this.g.D=U,null!==(v=this.h)&&U in v&&U in(v=this.h)&&delete v[U]),this.j=new $c(this)}function Fp(v){Bm.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var U=v.__sm__;if(U){e:{for(const re in U){v=re;break e}v=void 0}(this.i=v)&&(v=this.i,U=null!==U&&v in U?U[v]:void 0),this.data=U}else this.data=v}function sv(){$m.call(this),this.status=1}function $c(v){this.g=v}(l=Vo.prototype).Ha=function(v){this.J=v},l.ea=function(v,U,re,Fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);U=U?U.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=function Z_(v){return v.h||(v.h=v.i())}(this.o?this.o:Cp),this.g.onreadystatechange=mt(this.Ea,this);try{this.B=!0,this.g.open(U,String(v),!0),this.B=!1}catch(fn){return void Wh(this,fn)}if(v=re||"",re=new Map(this.headers),Fe)if(Object.getPrototypeOf(Fe)===Object.prototype)for(var Jt in Fe)re.set(Jt,Fe[Jt]);else{if("function"!=typeof Fe.keys||"function"!=typeof Fe.get)throw Error("Unknown input type for opt_headers: "+String(Fe));for(const fn of Fe.keys())re.set(fn,Fe.get(fn))}Fe=Array.from(re.keys()).find(fn=>"content-type"==fn.toLowerCase()),Jt=R.FormData&&v instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Hu,U,void 0))||Fe||Jt||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fn,rr]of re)this.g.setRequestHeader(fn,rr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vy(this),this.u=!0,this.g.send(v),this.u=!1}catch(fn){Wh(this,fn)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ts(this,"complete"),Ts(this,"abort"),Mp(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mp(this,!0)),Vo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Ld(this):this.bb())},l.bb=function(){Ld(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<il(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var U=this.g.responseText;return v&&0==U.indexOf(v)&&(U=U.substring(v.length)),J_(U)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=NI.prototype).la=8,l.G=1,l.connect=function(v,U,re,Fe){$s(0),this.W=v,this.H=U||{},re&&void 0!==Fe&&(this.H.OSID=re,this.H.OAID=Fe),this.F=this.X,this.I=iv(this,null,this.W),xp(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Jt=new Lu(this,this.j,v);let fn=this.o;if(this.S&&(fn?(fn=ft(fn),jt(fn,this.S)):fn=this.S),null!==this.m||this.O||(Jt.H=fn,fn=null),this.P)e:{for(var U=0,re=0;re<this.i.length;re++){var Fe=this.i[re];if(void 0===(Fe="__data__"in Fe.map&&"string"==typeof(Fe=Fe.map.__data__)?Fe.length:void 0))break;if(4096<(U+=Fe)){U=re;break e}if(4096===U||re===this.i.length-1){U=re+1;break e}}U=1e3}else U=1e3;U=yy(this,Jt,U),Po(re=Ql(this.I),"RID",v),Po(re,"CVER",22),this.D&&Po(re,"X-HTTP-Session-Id",this.D),Xh(this,re),fn&&(this.O?U="headers="+encodeURIComponent(String(my(fn)))+"&"+U:this.m&&Qm(re,this.m,fn)),Wm(this.h,Jt),this.Ua&&Po(re,"TYPE","init"),this.P?(Po(re,"$req",U),Po(re,"SID","null"),Jt.T=!0,Hm(Jt,re,null)):Hm(Jt,re,U),this.G=2}}else 3==this.G&&(v?_y(this,v):0==this.i.length||oy(this.h)||_y(this))},l.Fa=function(){if(this.u=null,Ey(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Fu(mt(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$s(10),Kh(this),Ey(this))},l.Za=function(){null!=this.C&&(this.C=null,Kh(this),tv(this),$s(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),$s(2)):(this.j.info("Failed to ping google.com"),$s(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=ov.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},kp.prototype.g=function(v,U){return new la(v,U)},Sn(la,Jo),la.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},la.prototype.close=function(){Vd(this.g)},la.prototype.o=function(v){var U=this.g;if("string"==typeof v){var re={};re.__data__=v,v=re}else this.u&&((re={}).__data__=bp(v),v=re);U.i.push(new SI(U.Ya++,v)),3==U.G&&xp(U)},la.prototype.N=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,la.aa.N.call(this)},Sn(Fp,Bm),Sn(sv,$m),Sn($c,ov),$c.prototype.ua=function(){Ts(this.g,"a")},$c.prototype.ta=function(v){Ts(this.g,new Fp(v))},$c.prototype.sa=function(v){Ts(this.g,new sv)},$c.prototype.ra=function(){Ts(this.g,"b")},kp.prototype.createWebChannel=kp.prototype.g,la.prototype.send=la.prototype.o,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,nt=Tn.createWebChannelTransport=function(){return new kp},Be=Tn.getStatEventTarget=function(){return Lh()},de=Tn.Event=Lc,ie=Tn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pd.NO_ERROR=0,Pd.TIMEOUT=8,Pd.HTTP_ERROR=6,Ue=Tn.ErrorCode=Pd,Md.COMPLETE="complete",Le=Tn.EventType=Md,ey.EventType=ql,ql.OPEN="a",ql.CLOSE="b",ql.ERROR="c",ql.MESSAGE="d",Jo.prototype.listen=Jo.prototype.K,Wt=Tn.WebChannel=ey,Tn.FetchXmlHttpFactory=Fd,Vo.prototype.listenOnce=Vo.prototype.L,Vo.prototype.getLastError=Vo.prototype.Ka,Vo.prototype.getLastErrorCode=Vo.prototype.Ba,Vo.prototype.getStatus=Vo.prototype.Z,Vo.prototype.getResponseJson=Vo.prototype.Oa,Vo.prototype.getResponseText=Vo.prototype.oa,Vo.prototype.send=Vo.prototype.ea,Vo.prototype.setWithCredentials=Vo.prototype.Ha,gn=Tn.XhrIo=Vo}).apply(typeof nn<"u"?nn:typeof self<"u"?self:typeof window<"u"?window:{});const At="@firebase/firestore";class Je{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Lt="10.14.0";const Mt=new Qe.Vy("@firebase/firestore");function Xt(){return Mt.logLevel}function kt(l,...t){if(Mt.logLevel<=Qe.$b.DEBUG){const i=t.map(bn);Mt.debug(`Firestore (${Lt}): ${l}`,...i)}}function Mn(l,...t){if(Mt.logLevel<=Qe.$b.ERROR){const i=t.map(bn);Mt.error(`Firestore (${Lt}): ${l}`,...i)}}function en(l,...t){if(Mt.logLevel<=Qe.$b.WARN){const i=t.map(bn);Mt.warn(`Firestore (${Lt}): ${l}`,...i)}}function bn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Qt(l="Unexpected state"){const t=`FIRESTORE (${Lt}) INTERNAL ASSERTION FAILED: `+l;throw Mn(t),new Error(t)}function Dt(l,t){l||Qt()}function it(l,t){return l}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends rt.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cn{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class qt{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class or{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Je.UNAUTHENTICATED))}shutdown(){}}class ir{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Un{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var s=this;Dt(void 0===this.o);let u=this.i;const f=Y=>this.i!==u?(u=this.i,i(Y)):Promise.resolve();let _=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new cn,t.enqueueRetryable(()=>f(this.currentUser))};const R=()=>{const Y=_;t.enqueueRetryable((0,Ie.A)(function*(){yield Y.promise,yield f(s.currentUser)}))},k=Y=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(Y=>k(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?k(Y):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new cn)}},0),R()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dt("string"==typeof s.accessToken),new qt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Dt(null===t||"string"==typeof t),new Je(t)}}class zn{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Er{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new zn(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _r{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cr{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Dt(void 0===this.o);const s=f=>{null!=f.error&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.R;return this.R=f.token,kt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const u=f=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Dt("string"==typeof i.token),this.R=i.token,new _r(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Kr(l){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class hi{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Kr(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function jn(l,t){return l<t?-1:l>t?1:0}function Mr(l,t,i){return l.length===t.length&&l.every((s,u)=>i(s,t[u]))}function Jn(l){return l+"\0"}class Tr{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Tr.fromMillis(Date.now())}static fromDate(t){return Tr.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*i));return new Tr(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?jn(this.nanoseconds,t.nanoseconds):jn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(t){this.timestamp=t}static fromTimestamp(t){return new On(t)}static min(){return new On(new Tr(0,0))}static max(){return new On(new Tr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pi{constructor(t,i,s){void 0===i?i=0:i>t.length&&Qt(),void 0===s?s=t.length-i:s>t.length-i&&Qt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return 0===Pi.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const f=t.get(u),_=i.get(u);if(f<_)return-1;if(f>_)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Qn extends Pi{construct(t,i,s){return new Qn(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Qn(i)}static emptyPath(){return new Qn([])}}const lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Pi{construct(t,i,s){return new Ar(t,i,s)}static isValidIdentifier(t){return lr.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(t){const i=[];let s="",u=0;const f=()=>{if(0===s.length)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;u<t.length;){const R=t[u];if("\\"===R){if(u+1===t.length)throw new Ke(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const k=t[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new Ke(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=k,u+=2}else"`"===R?(_=!_,u++):"."!==R||_?(s+=R,u++):(f(),u++)}if(f(),_)throw new Ke(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ar(i)}static emptyPath(){return new Ar([])}}class Cn{constructor(t){this.path=t}static fromPath(t){return new Cn(Qn.fromString(t))}static fromName(t){return new Cn(Qn.fromString(t).popFirst(5))}static empty(){return new Cn(Qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Qn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return Qn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Cn(new Qn(t.slice()))}}class Gt{constructor(t,i,s,u){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=u}}function Ct(l){return l.fields.find(t=>2===t.kind)}function Yt(l){return l.fields.filter(t=>2!==t.kind)}Gt.UNKNOWN_ID=-1;class Et{constructor(t,i){this.fieldPath=t,this.kind=i}}class oe{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new oe(0,Xe.min())}}function Q(l,t){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=On.fromTimestamp(1e9===s?new Tr(i+1,0):new Tr(i,s));return new Xe(u,Cn.empty(),t)}function le(l){return new Xe(l.readTime,l.key,-1)}class Xe{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Xe(On.min(),Cn.empty(),-1)}static max(){return new Xe(On.max(),Cn.empty(),-1)}}function tt(l,t){let i=l.readTime.compareTo(t.readTime);return 0!==i?i:(i=Cn.comparator(l.documentKey,t.documentKey),0!==i?i:jn(l.largestBatchId,t.largestBatchId))}const ln="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function nr(l){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,Ie.A)(function*(l){if(l.code!==Oe.FAILED_PRECONDITION||l.message!==ln)throw l;kt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new yt((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof yt?i:yt.resolve(i)}catch(i){return yt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):yt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):yt.reject(i)}static resolve(t){return new yt((i,s)=>{i(t)})}static reject(t){return new yt((i,s)=>{s(t)})}static waitFor(t){return new yt((i,s)=>{let u=0,f=0,_=!1;t.forEach(R=>{++u,R.next(()=>{++f,_&&f===u&&i()},k=>s(k))}),_=!0,f===u&&i()})}static or(t){let i=yt.resolve(!1);for(const s of t)i=i.next(u=>u?yt.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(t,i){return new yt((s,u)=>{const f=t.length,_=new Array(f);let R=0;for(let k=0;k<f;k++){const Y=k;i(t[Y]).next(Ae=>{_[Y]=Ae,++R,R===f&&s(_)},Ae=>u(Ae))}})}static doWhile(t,i){return new yt((s,u)=>{const f=()=>{!0===t()?i().next(()=>{f()},u):s()};f()})}}class Cr{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new cn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new tr(t,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=eo(s.target.error);this.V.reject(new tr(t,u))}}static open(t,i,s,u){try{return new Cr(i,t.transaction(u,s))}catch(f){throw new tr(i,f)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(kt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Wi(i)}}class Nn{constructor(t,i,s){this.name=t,this.version=i,this.p=s,12.2===Nn.S((0,rt.ZQ)())&&Mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return kt("SimpleDb","Removing database:",t),ki(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,rt.zW)())return!1;if(Nn.v())return!0;const t=(0,rt.ZQ)(),i=Nn.S(t),s=0<i&&i<10,u=Nr(t),f=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||f)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var i=this;return(0,Ie.A)(function*(){return i.db||(kt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=_=>{s(_.target.result)},f.onblocked=()=>{u(new tr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const R=_.target.error;u("VersionError"===R.name?new Ke(Oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Ke(Oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new tr(t,R))},f.onupgradeneeded=_=>{kt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,f.transaction,_.oldVersion,i.version).next(()=>{kt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,s,u){var f=this;return(0,Ie.A)(function*(){const _="readonly"===i;let R=0;for(;;){++R;try{f.db=yield f.M(t);const k=Cr.open(f.db,t,_?"readonly":"readwrite",s),Y=u(k).next(Ae=>(k.g(),Ae)).catch(Ae=>(k.abort(Ae),yt.reject(Ae))).toPromise();return Y.catch(()=>{}),yield k.m,Y}catch(k){const Y=k,Ae="FirebaseError"!==Y.name&&R<3;if(kt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",Ae),f.close(),!Ae)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Nr(l){const t=l.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Jr{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return ki(this.B.delete())}}class tr extends Ke{constructor(t,i){super(Oe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function oi(l){return"IndexedDbTransactionError"===l.name}class Wi{constructor(t){this.store=t}put(t,i){let s;return void 0!==i?(kt("SimpleDb","PUT",this.store.name,t,i),s=this.store.put(i,t)):(kt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),ki(s)}add(t){return kt("SimpleDb","ADD",this.store.name,t,t),ki(this.store.add(t))}get(t){return ki(this.store.get(t)).next(i=>(void 0===i&&(i=null),kt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return kt("SimpleDb","DELETE",this.store.name,t),ki(this.store.delete(t))}count(){return kt("SimpleDb","COUNT",this.store.name),ki(this.store.count())}U(t,i){const s=this.options(t,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new yt((_,R)=>{f.onerror=k=>{R(k.target.error)},f.onsuccess=k=>{_(k.target.result)}})}{const f=this.cursor(s),_=[];return this.W(f,(R,k)=>{_.push(k)}).next(()=>_)}}G(t,i){const s=this.store.getAll(t,null===i?void 0:i);return new yt((u,f)=>{s.onerror=_=>{f(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(t,i){kt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,i);s.H=!1;const u=this.cursor(s);return this.W(u,(f,_,R)=>R.delete())}J(t,i){let s;i?s=t:(s={},i=t);const u=this.cursor(s);return this.W(u,i)}Y(t){const i=this.cursor({});return new yt((s,u)=>{i.onerror=f=>{const _=eo(f.target.error);u(_)},i.onsuccess=f=>{const _=f.target.result;_?t(_.primaryKey,_.value).next(R=>{R?_.continue():s()}):s()}})}W(t,i){const s=[];return new yt((u,f)=>{t.onerror=_=>{f(_.target.error)},t.onsuccess=_=>{const R=_.target.result;if(!R)return void u();const k=new Jr(R),Y=i(R.primaryKey,R.value,k);if(Y instanceof yt){const Ae=Y.catch(He=>(k.done(),yt.reject(He)));s.push(Ae)}k.isDone?u():null===k.K?R.continue():R.continue(k.K)}}).next(()=>yt.waitFor(s))}options(t,i){let s;return void 0!==t&&("string"==typeof t?s=t:i=t),{index:s,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,i):s.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function ki(l){return new yt((t,i)=>{l.onsuccess=s=>{t(s.target.result)},l.onerror=s=>{const u=eo(s.target.error);i(u)}})}let Vi=!1;function eo(l){const t=Nn.S((0,rt.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vi||(Vi=!0,setTimeout(()=>{throw s},0)),s}}return l}class xr{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;kt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ie.A)(function*(){i.task=null;try{kt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){oi(s)?kt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield nr(s)}yield i.X(6e4)}))}}class pe{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,Ie.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,t))})()}te(t,i){const s=new Set;let u=i,f=!0;return yt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(_=>{if(null!==_&&!s.has(_))return kt("IndexBackfiller",`Processing collection: ${_}`),this.ne(t,_,u).next(R=>{u-=R,s.add(_)});f=!1})).next(()=>i-u)}ne(t,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,s).next(f=>{const _=f.changes;return this.localStore.indexManager.updateIndexEntries(t,_).next(()=>this.re(u,f)).next(R=>(kt("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(t,i,R))).next(()=>_.size)}))}re(t,i){let s=t;return i.changes.forEach((u,f)=>{const _=le(f);tt(_,s)>0&&(s=_)}),new Xe(s.readTime,s.documentKey,Math.max(i.batchId,t.largestBatchId))}}let q=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function Re(l){return null==l}function ne(l){return 0===l&&1/l==-1/0}function se(l){return"number"==typeof l&&Number.isInteger(l)&&!ne(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function xe(l){let t="";for(let i=0;i<l.length;i++)t.length>0&&(t=on(t)),t=Nt(l.get(i),t);return on(t)}function Nt(l,t){let i=t;const s=l.length;for(let u=0;u<s;u++){const f=l.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function on(l){return l+"\x01\x01"}function yn(l){const t=l.length;if(Dt(t>=2),2===t)return Dt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Qn.emptyPath();const i=t-2,s=[];let u="";for(let f=0;f<t;){const _=l.indexOf("\x01",f);switch((_<0||_>i)&&Qt(),l.charAt(_+1)){case"\x01":const R=l.substring(f,_);let k;0===u.length?k=R:(u+=R,k=u,u=""),s.push(k);break;case"\x10":u+=l.substring(f,_),u+="\0";break;case"\x11":u+=l.substring(f,_+1);break;default:Qt()}f=_+2}return new Qn(s)}const he=["userId","batchId"];function $e(l,t){return[l,xe(t)]}function pt(l,t,i){return[l,xe(t),i]}const St={},zt=["prefixPath","collectionGroup","readTime","documentId"],In=["prefixPath","collectionGroup","documentId"],Bn=["collectionGroup","readTime","prefixPath","documentId"],Gn=["canonicalId","targetId"],fr=["targetId","path"],ar=["path","targetId"],Vr=["collectionId","parent"],Ai=["indexId","uid"],Fi=["uid","sequenceNumber"],bi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zr=["indexId","uid","orderedDocumentKey"],_i=["userId","collectionPath","documentId"],Hr=["userId","collectionPath","largestBatchId"],zr=["userId","collectionGroup","largestBatchId"],Ci=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zn=[...Ci,"documentOverlays"],wi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pr=wi,wr=[...pr,"indexConfiguration","indexState","indexEntries"],vo=wr,uo=[...wr,"globals"];class co extends Fn{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function Di(l,t){const i=it(l);return Nn.F(i._e,t)}function _o(l){let t=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t++;return t}function Qi(l,t){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t(i,l[i])}function Mo(l){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t))return!1;return!0}class ii{constructor(t,i){this.comparator=t,this.root=i||Bi.EMPTY}insert(t,i){return new ii(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(t){return new ii(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ui(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ui(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ui(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ui(this.root,t,this.comparator,!0)}}class Ui{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=i?s(t.key,i):1,i&&u&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Bi{constructor(t,i,s,u,f){this.key=t,this.value=i,this.color=null!=s?s:Bi.RED,this.left=null!=u?u:Bi.EMPTY,this.right=null!=f?f:Bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,f){return new Bi(null!=t?t:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const f=s(t,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(t,i,s),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Bi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return Bi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qt();const t=this.left.check();if(t!==this.right.check())throw Qt();return t+(this.isRed()?0:1)}}Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1,Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt()}get value(){throw Qt()}get color(){throw Qt()}get left(){throw Qt()}get right(){throw Qt()}copy(t,i,s,u,f){return this}insert(t,i,s){return new Bi(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(t){this.comparator=t,this.data=new ii(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Co(this.data.getIterator())}getIteratorFrom(t){return new Co(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof ui)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new ui(this.comparator);return i.data=t,i}}class Co{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yo(l){return l.hasNext()?l.getNext():void 0}class ci{constructor(t){this.fields=t,t.sort(Ar.comparator)}static empty(){return new ci([])}unionWith(t){let i=new ui(Ar.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new ci(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Mr(this.fields,t.fields,(i,s)=>i.isEqual(s))}}class M extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new M("Invalid base64 string: "+f):f}}(t);return new fe(i)}static fromUint8Array(t){const i=function(u){let f="";for(let _=0;_<u.length;++_)f+=String.fromCharCode(u[_]);return f}(t);return new fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fe.EMPTY_BYTE_STRING=new fe("");const N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function T(l){if(Dt(!!l),"string"==typeof l){let t=0;const i=N.exec(l);if(Dt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:V(l.seconds),nanos:V(l.nanos)}}function V(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ve(l){return"string"==typeof l?fe.fromBase64String(l):fe.fromUint8Array(l)}function Ye(l){var t,i;return"server_timestamp"===(null===(i=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function bt(l){const t=l.mapValue.fields.__previous_value__;return Ye(t)?bt(t):t}function It(l){const t=T(l.mapValue.fields.__local_write_time__.timestampValue);return new Tr(t.seconds,t.nanos)}class dn{constructor(t,i,s,u,f,_,R,k,Y){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=R,this.longPollingOptions=k,this.useFetchStreams=Y}}class Ut{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Ut("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ut&&t.projectId===this.projectId&&t.database===this.database}}const sn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pn={nullValue:"NULL_VALUE"};function $n(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Ye(l)?4:Bo(l)?9007199254740991:Fo(l)?10:11:Qt()}function Xn(l,t){if(l===t)return!0;const i=$n(l);if(i!==$n(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===t.booleanValue;case 4:return It(l).isEqual(It(t));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const _=T(u.timestampValue),R=T(f.timestampValue);return _.seconds===R.seconds&&_.nanos===R.nanos}(l,t);case 5:return l.stringValue===t.stringValue;case 6:return f=t,Ve(l.bytesValue).isEqual(Ve(f.bytesValue));case 7:return l.referenceValue===t.referenceValue;case 8:return function(u,f){return V(u.geoPointValue.latitude)===V(f.geoPointValue.latitude)&&V(u.geoPointValue.longitude)===V(f.geoPointValue.longitude)}(l,t);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return V(u.integerValue)===V(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const _=V(u.doubleValue),R=V(f.doubleValue);return _===R?ne(_)===ne(R):isNaN(_)&&isNaN(R)}return!1}(l,t);case 9:return Mr(l.arrayValue.values||[],t.arrayValue.values||[],Xn);case 10:case 11:return function(u,f){const _=u.mapValue.fields||{},R=f.mapValue.fields||{};if(_o(_)!==_o(R))return!1;for(const k in _)if(_.hasOwnProperty(k)&&(void 0===R[k]||!Xn(_[k],R[k])))return!1;return!0}(l,t);default:return Qt()}var f}function er(l,t){return void 0!==(l.values||[]).find(i=>Xn(i,t))}function ur(l,t){if(l===t)return 0;const i=$n(l),s=$n(t);if(i!==s)return jn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return jn(l.booleanValue,t.booleanValue);case 2:return function(f,_){const R=V(f.integerValue||f.doubleValue),k=V(_.integerValue||_.doubleValue);return R<k?-1:R>k?1:R===k?0:isNaN(R)?isNaN(k)?0:-1:1}(l,t);case 3:return Ur(l.timestampValue,t.timestampValue);case 4:return Ur(It(l),It(t));case 5:return jn(l.stringValue,t.stringValue);case 6:return function(f,_){const R=Ve(f),k=Ve(_);return R.compareTo(k)}(l.bytesValue,t.bytesValue);case 7:return function(f,_){const R=f.split("/"),k=_.split("/");for(let Y=0;Y<R.length&&Y<k.length;Y++){const Ae=jn(R[Y],k[Y]);if(0!==Ae)return Ae}return jn(R.length,k.length)}(l.referenceValue,t.referenceValue);case 8:return function(f,_){const R=jn(V(f.latitude),V(_.latitude));return 0!==R?R:jn(V(f.longitude),V(_.longitude))}(l.geoPointValue,t.geoPointValue);case 9:return yi(l.arrayValue,t.arrayValue);case 10:return function(f,_){var R,k,Y,Ae;const Zt=null===(R=(f.fields||{}).value)||void 0===R?void 0:R.arrayValue,Sn=null===(k=(_.fields||{}).value)||void 0===k?void 0:k.arrayValue,Kn=jn((null===(Y=null==Zt?void 0:Zt.values)||void 0===Y?void 0:Y.length)||0,(null===(Ae=null==Sn?void 0:Sn.values)||void 0===Ae?void 0:Ae.length)||0);return 0!==Kn?Kn:yi(Zt,Sn)}(l.mapValue,t.mapValue);case 11:return function(f,_){if(f===sn.mapValue&&_===sn.mapValue)return 0;if(f===sn.mapValue)return 1;if(_===sn.mapValue)return-1;const R=f.fields||{},k=Object.keys(R),Y=_.fields||{},Ae=Object.keys(Y);k.sort(),Ae.sort();for(let He=0;He<k.length&&He<Ae.length;++He){const mt=jn(k[He],Ae[He]);if(0!==mt)return mt;const Zt=ur(R[k[He]],Y[Ae[He]]);if(0!==Zt)return Zt}return jn(k.length,Ae.length)}(l.mapValue,t.mapValue);default:throw Qt()}}function Ur(l,t){if("string"==typeof l&&"string"==typeof t&&l.length===t.length)return jn(l,t);const i=T(l),s=T(t),u=jn(i.seconds,s.seconds);return 0!==u?u:jn(i.nanos,s.nanos)}function yi(l,t){const i=l.values||[],s=t.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=ur(i[u],s[u]);if(f)return f}return jn(i.length,s.length)}function Ii(l){return mi(l)}function mi(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=T(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ve(l.bytesValue).toBase64():"referenceValue"in l?Cn.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=mi(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const _ of s)f?f=!1:u+=",",u+=`${_}:${mi(i.fields[_])}`;return u+"}"}(l.mapValue):Qt()}function oo(l,t){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${t.path.canonicalString()}`}}function Ji(l){return!!l&&"integerValue"in l}function Ki(l){return!!l&&"arrayValue"in l}function ho(l){return!!l&&"nullValue"in l}function Uo(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function rs(l){return!!l&&"mapValue"in l}function Fo(l){var t,i;return"__vector__"===(null===(i=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ds(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const t={mapValue:{fields:{}}};return Qi(l.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ds(s)),t}if(l.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ds(l.arrayValue.values[i]);return t}return Object.assign({},l)}function Bo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const $o={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Rs(l){return"nullValue"in l?pn:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?oo(Ut.empty(),Cn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?Fo(l)?$o:{mapValue:{}}:Qt()}function so(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?oo(Ut.empty(),Cn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?$o:"mapValue"in l?Fo(l)?{mapValue:{}}:sn:Qt()}function zs(l,t){const i=ur(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?-1:!l.inclusive&&t.inclusive?1:0}function hs(l,t){const i=ur(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?1:!l.inclusive&&t.inclusive?-1:0}class wo{constructor(t){this.value=t}static empty(){return new wo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!rs(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ds(i)}setAll(t){let i=Ar.emptyPath(),s={},u=[];t.forEach((_,R)=>{if(!i.isImmediateParentOf(R)){const k=this.getFieldsMap(i);this.applyChanges(k,s,u),s={},u=[],i=R.popLast()}_?s[R.lastSegment()]=ds(_):u.push(R.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(t){const i=this.field(t.popLast());rs(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xn(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];rs(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){Qi(i,(u,f)=>t[u]=f);for(const u of s)delete t[u]}clone(){return new wo(ds(this.value))}}function Ps(l){const t=[];return Qi(l.fields,(i,s)=>{const u=new Ar([i]);if(rs(s)){const f=Ps(s.mapValue).fields;if(0===f.length)t.push(u);else for(const _ of f)t.push(u.child(_))}else t.push(u)}),new ci(t)}class Gr{constructor(t,i,s,u,f,_,R){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=_,this.documentState=R}static newInvalidDocument(t){return new Gr(t,0,On.min(),On.min(),On.min(),wo.empty(),0)}static newFoundDocument(t,i,s,u){return new Gr(t,1,i,On.min(),s,u,0)}static newNoDocument(t,i){return new Gr(t,2,i,On.min(),On.min(),wo.empty(),0)}static newUnknownDocument(t,i){return new Gr(t,3,i,On.min(),On.min(),wo.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(On.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=On.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Gr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ei{constructor(t,i){this.position=t,this.inclusive=i}}function ji(l,t,i){let s=0;for(let u=0;u<l.position.length;u++){const f=t[u],_=l.position[u];if(s=f.field.isKeyField()?Cn.comparator(Cn.fromName(_.referenceValue),i.key):ur(_,i.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function fs(l,t){if(null===l)return null===t;if(null===t||l.inclusive!==t.inclusive||l.position.length!==t.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!Xn(l.position[i],t.position[i]))return!1;return!0}class ae{constructor(t,i="asc"){this.field=t,this.dir=i}}function G(l,t){return l.dir===t.dir&&l.field.isEqual(t.field)}class b{}class A extends b{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,s):new mr(t,i,s):"array-contains"===i?new jo(t,s):"in"===i?new Oo(t,s):"not-in"===i?new K(t,s):"array-contains-any"===i?new O(t,s):new A(t,i,s)}static createKeyFieldInFilter(t,i,s){return"in"===i?new br(t,s):new Mi(t,s)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ur(i,this.value)):null!==i&&$n(this.value)===$n(i)&&this.matchesComparison(ur(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class j extends b{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new j(t,i)}matches(t){return ue(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ue(l){return"and"===l.op}function be(l){return"or"===l.op}function ke(l){return ct(l)&&ue(l)}function ct(l){for(const t of l.filters)if(t instanceof j)return!1;return!0}function wt(l){if(l instanceof A)return l.field.canonicalString()+l.op.toString()+Ii(l.value);if(ke(l))return l.filters.map(t=>wt(t)).join(",");{const t=l.filters.map(i=>wt(i)).join(",");return`${l.op}(${t})`}}function ht(l,t){return l instanceof A?(s=l,(u=t)instanceof A&&s.op===u.op&&s.field.isEqual(u.field)&&Xn(s.value,u.value)):l instanceof j?function(s,u){return u instanceof j&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,_,R)=>f&&ht(_,u.filters[R]),!0)}(l,t):void Qt();var s,u}function Dn(l,t){const i=l.filters.concat(t);return j.create(i,l.op)}function Hn(l){return l instanceof A?`${(i=l).field.canonicalString()} ${i.op} ${Ii(i.value)}`:l instanceof j?function(i){return i.op.toString()+" {"+i.getFilters().map(Hn).join(" ,")+"}"}(l):"Filter";var i}class mr extends A{constructor(t,i,s){super(t,i,s),this.key=Cn.fromName(s.referenceValue)}matches(t){const i=Cn.comparator(t.key,this.key);return this.matchesComparison(i)}}class br extends A{constructor(t,i){super(t,"in",i),this.keys=Br(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Mi extends A{constructor(t,i){super(t,"not-in",i),this.keys=Br(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Br(l,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Cn.fromName(s.referenceValue))}class jo extends A{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ki(i)&&er(i.arrayValue,this.value)}}class Oo extends A{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&er(this.value.arrayValue,i)}}class K extends A{constructor(t,i){super(t,"not-in",i)}matches(t){if(er(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!er(this.value.arrayValue,i)}}class O extends A{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ki(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>er(this.value.arrayValue,s))}}class ce{constructor(t,i=null,s=[],u=[],f=null,_=null,R=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=_,this.endAt=R,this.ue=null}}function H(l,t=null,i=[],s=[],u=null,f=null,_=null){return new ce(l,t,i,s,u,f,_)}function we(l){const t=it(l);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>wt(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),Re(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ii(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ii(s)).join(",")),t.ue=i}return t.ue}function En(l,t){if(l.limit!==t.limit||l.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!G(l.orderBy[i],t.orderBy[i]))return!1;if(l.filters.length!==t.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!ht(l.filters[i],t.filters[i]))return!1;return l.collectionGroup===t.collectionGroup&&!!l.path.isEqual(t.path)&&!!fs(l.startAt,t.startAt)&&fs(l.endAt,t.endAt)}function dr(l){return Cn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function xi(l,t){return l.filters.filter(i=>i instanceof A&&i.field.isEqual(t))}function fo(l,t,i){let s=pn,u=!0;for(const f of xi(l,t)){let _=pn,R=!0;switch(f.op){case"<":case"<=":_=Rs(f.value);break;case"==":case"in":case">=":_=f.value;break;case">":_=f.value,R=!1;break;case"!=":case"not-in":_=pn}zs({value:s,inclusive:u},{value:_,inclusive:R})<0&&(s=_,u=R)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(t)){const _=i.position[f];zs({value:s,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}function po(l,t,i){let s=sn,u=!0;for(const f of xi(l,t)){let _=sn,R=!0;switch(f.op){case">=":case">":_=so(f.value),R=!1;break;case"==":case"in":case"<=":_=f.value;break;case"<":_=f.value,R=!1;break;case"!=":case"not-in":_=sn}hs({value:s,inclusive:u},{value:_,inclusive:R})>0&&(s=_,u=R)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(t)){const _=i.position[f];hs({value:s,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}class Io{constructor(t,i=null,s=[],u=[],f=null,_="F",R=null,k=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=_,this.startAt=R,this.endAt=k,this.ce=null,this.le=null,this.he=null}}function Gs(l,t,i,s,u,f,_,R){return new Io(l,t,i,s,u,f,_,R)}function is(l){return new Io(l)}function ca(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function da(l){return null!==l.collectionGroup}function qr(l){const t=it(l);if(null===t.ce){t.ce=[];const i=new Set;for(const f of t.explicitOrderBy)t.ce.push(f),i.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(_){let R=new ui(Ar.comparator);return _.filters.forEach(k=>{k.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(R=R.add(Y.field))})}),R})(t).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||t.ce.push(new ae(f,s))}),i.has(Ar.keyField().canonicalString())||t.ce.push(new ae(Ar.keyField(),s))}return t.ce}function Ti(l){const t=it(l);return t.le||(t.le=function ps(l,t){if("F"===l.limitType)return H(l.path,l.collectionGroup,t,l.filters,l.limit,l.startAt,l.endAt);{t=t.map(u=>new ae(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new ei(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new ei(l.startAt.position,l.startAt.inclusive):null;return H(l.path,l.collectionGroup,t,l.filters,l.limit,i,s)}}(t,qr(l))),t.le}function go(l,t){const i=l.filters.concat([t]);return new Io(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function Va(l,t,i){return new Io(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),t,i,l.startAt,l.endAt)}function Ws(l,t){return En(Ti(l),Ti(t))&&l.limitType===t.limitType}function gs(l){return`${we(Ti(l))}|lt:${l.limitType}`}function Ms(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Hn(u)).join(", ")}]`),Re(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Ii(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Ii(u)).join(",")),`Target(${s})`}(Ti(l))}; limitType=${l.limitType})`}function al(l,t){return t.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Cn.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,t)&&function(s,u){for(const f of qr(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(l,t)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(l,t)&&(u=t,!((s=l).startAt&&!function(_,R,k){const Y=ji(_,R,k);return _.inclusive?Y<=0:Y<0}(s.startAt,qr(s),u)||s.endAt&&!function(_,R,k){const Y=ji(_,R,k);return _.inclusive?Y>=0:Y>0}(s.endAt,qr(s),u)));var s,u}function ha(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Xu(l){return(t,i)=>{let s=!1;for(const u of qr(l)){const f=ll(u,t,i);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function ll(l,t,i){const s=l.field.isKeyField()?Cn.comparator(t.key,i.key):function(f,_,R){const k=_.data.field(f),Y=R.data.field(f);return null!==k&&null!==Y?ur(k,Y):Qt()}(l.field,t,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Qt()}}class Ks{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,t))return f}has(t){return void 0!==this.get(t)}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],t))return void(u[f]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Qi(this.inner,(i,s)=>{for(const[u,f]of s)t(u,f)})}isEmpty(){return Mo(this.inner)}size(){return this.innerSize}}const Sl=new ii(Cn.comparator);function Go(){return Sl}const Ua=new ii(Cn.comparator);function ul(...l){let t=Ua;for(const i of l)t=t.insert(i.key,i);return t}function fa(l){let t=Ua;return l.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function ms(){return xs()}function Ba(){return xs()}function xs(){return new Ks(l=>l.toString(),(l,t)=>l.isEqual(t))}const cl=new ii(Cn.comparator),Rl=new ui(Cn.comparator);function Wr(...l){let t=Rl;for(const i of l)t=t.add(i);return t}const Hc=new ui(jn);function ea(){return Hc}function Sa(l,t){if(l.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ne(t)?"-0":t}}function Wo(l){return{integerValue:""+l}}function vs(l,t){return se(t)?Wo(t):Sa(l,t)}class ta{constructor(){this._=void 0}}function tu(l,t,i){return l instanceof os?function(u,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ye(f)&&(f=bt(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(i,t):l instanceof qs?pa(l,t):l instanceof _s?ga(l,t):function(u,f){const _=ja(u,f),R=Pl(_)+Pl(u.Pe);return Ji(_)&&Ji(u.Pe)?Wo(R):Sa(u.serializer,R)}(l,t)}function $a(l,t,i){return l instanceof qs?pa(l,t):l instanceof _s?ga(l,t):i}function ja(l,t){return l instanceof Ra?Ji(s=t)||(f=s)&&"doubleValue"in f?t:{integerValue:0}:null;var s,f}class os extends ta{}class qs extends ta{constructor(t){super(),this.elements=t}}function pa(l,t){const i=w(t);for(const s of l.elements)i.some(u=>Xn(u,s))||i.push(s);return{arrayValue:{values:i}}}class _s extends ta{constructor(t){super(),this.elements=t}}function ga(l,t){let i=w(t);for(const s of l.elements)i=i.filter(u=>!Xn(u,s));return{arrayValue:{values:i}}}class Ra extends ta{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Pl(l){return V(l.integerValue||l.doubleValue)}function w(l){return Ki(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class W{constructor(t,i){this.field=t,this.transform=i}}class z{constructor(t,i){this.version=t,this.transformResults=i}}class ge{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ge}static exists(t){return new ge(void 0,t)}static updateTime(t){return new ge(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function et(l,t){return void 0!==l.updateTime?t.isFoundDocument()&&t.version.isEqual(l.updateTime):void 0===l.exists||l.exists===t.isFoundDocument()}class an{}function kn(l,t){if(!l.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return l.isNoDocument()?new Ln(l.key,ge.none()):new Oi(l.key,l.data,ge.none());{const i=l.data,s=wo.empty();let u=new ui(Ar.comparator);for(let f of t.fields)if(!u.has(f)){let _=i.field(f);null===_&&f.length>1&&(f=f.popLast(),_=i.field(f)),null===_?s.delete(f):s.set(f,_),u=u.add(f)}return new fi(l.key,s,new ci(u.toArray()),ge.none())}}function Or(l,t,i){l instanceof Oi?function(u,f,_){const R=u.value.clone(),k=$i(u.fieldTransforms,f,_.transformResults);R.setAll(k),f.convertToFoundDocument(_.version,R).setHasCommittedMutations()}(l,t,i):l instanceof fi?function(u,f,_){if(!et(u.precondition,f))return void f.convertToUnknownDocument(_.version);const R=$i(u.fieldTransforms,f,_.transformResults),k=f.data;k.setAll(qi(u)),k.setAll(R),f.convertToFoundDocument(_.version,k).setHasCommittedMutations()}(l,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function di(l,t,i,s){return l instanceof Oi?function(f,_,R,k){if(!et(f.precondition,_))return R;const Y=f.value.clone(),Ae=vi(f.fieldTransforms,k,_);return Y.setAll(Ae),_.convertToFoundDocument(_.version,Y).setHasLocalMutations(),null}(l,t,i,s):l instanceof fi?function(f,_,R,k){if(!et(f.precondition,_))return R;const Y=vi(f.fieldTransforms,k,_),Ae=_.data;return Ae.setAll(qi(f)),Ae.setAll(Y),_.convertToFoundDocument(_.version,Ae).setHasLocalMutations(),null===R?null:R.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(He=>He.field))}(l,t,i,s):(R=i,et(l.precondition,_=t)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):R);var _,R}function Ei(l,t){let i=null;for(const s of l.fieldTransforms){const u=t.data.field(s.field),f=ja(s.transform,u||null);null!=f&&(null===i&&(i=wo.empty()),i.set(s.field,f))}return i||null}function si(l,t){return l.type===t.type&&!!l.key.isEqual(t.key)&&!!l.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Mr(s,u,(f,_)=>function je(l,t){return l.field.isEqual(t.field)&&(u=t.transform,(s=l.transform)instanceof qs&&u instanceof qs||s instanceof _s&&u instanceof _s?Mr(s.elements,u.elements,Xn):s instanceof Ra&&u instanceof Ra?Xn(s.Pe,u.Pe):s instanceof os&&u instanceof os);var s,u}(f,_))))&&(0===l.type?l.value.isEqual(t.value):1!==l.type||l.data.isEqual(t.data)&&l.fieldMask.isEqual(t.fieldMask));var s,u}class Oi extends an{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class fi extends an{constructor(t,i,s,u,f=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function qi(l){const t=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);t.set(i,s)}}),t}function $i(l,t,i){const s=new Map;Dt(l.length===i.length);for(let u=0;u<i.length;u++){const f=l[u],_=f.transform,R=t.data.field(f.field);s.set(f.field,$a(_,R,i[u]))}return s}function vi(l,t,i){const s=new Map;for(const u of l){const f=u.transform,_=i.data.field(u.field);s.set(u.field,tu(f,_,t))}return s}class Ln extends an{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gr extends an{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xi{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(t.key)&&Or(f,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=di(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=di(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Ba();return this.mutations.forEach(u=>{const f=t.get(u.key),_=f.overlayedDocument;let R=this.applyToLocalView(_,f.mutatedFields);R=i.has(u.key)?null:R;const k=kn(_,R);null!==k&&s.set(u.key,k),_.isValidDocument()||_.convertToNoDocument(On.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Wr())}isEqual(t){return this.batchId===t.batchId&&Mr(this.mutations,t.mutations,(i,s)=>si(i,s))&&Mr(this.baseMutations,t.baseMutations,(i,s)=>si(i,s))}}class Do{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){Dt(t.mutations.length===s.length);let u=function(){return cl}();const f=t.mutations;for(let _=0;_<f.length;_++)u=u.insert(f[_].key,s[_].version);return new Do(t,i,s,u)}}class Hi{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Os{constructor(t,i){this.count=t,this.unchangedNames=i}}var Xr,Rr;function Yo(l){switch(l){default:return Qt();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function $r(l){if(void 0===l)return Mn("GRPC error has no .code"),Oe.UNKNOWN;switch(l){case Xr.OK:return Oe.OK;case Xr.CANCELLED:return Oe.CANCELLED;case Xr.UNKNOWN:return Oe.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return Oe.INTERNAL;case Xr.UNAVAILABLE:return Oe.UNAVAILABLE;case Xr.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Xr.NOT_FOUND:return Oe.NOT_FOUND;case Xr.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Xr.ABORTED:return Oe.ABORTED;case Xr.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Xr.DATA_LOSS:return Oe.DATA_LOSS;default:return Qt()}}(Rr=Xr||(Xr={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";function Ns(){return new TextEncoder}const Ml=new gt([4294967295,4294967295],0);function to(l){const t=Ns().encode(l),i=new Vt;return i.update(t),new Uint8Array(i.digest())}function dl(l){const t=new DataView(l.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new gt([i,s],0),new gt([u,f],0)]}class va{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Zo(`Invalid padding: ${i}`);if(s<0)throw new Zo(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new Zo(`Invalid hash count: ${s}`);if(0===t.length&&0!==i)throw new Zo(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=gt.fromNumber(this.Ie)}Ee(t,i,s){let u=t.add(i.multiply(gt.fromNumber(s)));return 1===u.compare(Ml)&&(u=new gt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=to(t),[s,u]=dl(i);for(let f=0;f<this.hashCount;f++){const _=this.Ee(s,u,f);if(!this.de(_))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),_=new va(f,u,i);return s.forEach(R=>_.insert(R)),_}insert(t){if(0===this.Ie)return;const i=to(t),[s,u]=dl(i);for(let f=0;f<this.hashCount;f++){const _=this.Ee(s,u,f);this.Ae(_)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xs{constructor(t,i,s,u,f){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,ks.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Xs(On.min(),u,new ii(jn),Go(),Wr())}}class ks{constructor(t,i,s,u,f){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new ks(s,i,Wr(),Wr(),Wr())}}class Qs{constructor(t,i,s,u){this.Re=t,this.removedTargetIds=i,this.key=s,this.Ve=u}}class no{constructor(t,i){this.targetId=t,this.me=i}}class Fs{constructor(t,i,s=fe.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class yr{constructor(){this.fe=0,this.ge=na(),this.pe=fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Wr(),i=Wr(),s=Wr();return this.ge.forEach((u,f)=>{switch(f){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Qt()}}),new ks(this.pe,this.ye,t,i,s)}Ce(){this.we=!1,this.ge=na()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qu{constructor(t){this.Le=t,this.Be=new Map,this.ke=Go(),this.qe=Ha(),this.Qe=new ii(jn)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const s=this.Ge(i);switch(t.state){case 0:this.ze(i)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(t.resumeToken));break;default:Qt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,s=t.me.count,u=this.Je(i);if(u){const f=u.target;if(dr(f))if(0===s){const _=new Cn(f.path);this.Ue(i,_,Gr.newNoDocument(_,On.min()))}else Dt(1===s);else{const _=this.Ye(i);if(_!==s){const R=this.Ze(t),k=R?this.Xe(R,t,_):1;0!==k&&(this.je(i),this.Qe=this.Qe.insert(i,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let _,R;try{_=Ve(s).toUint8Array()}catch(k){if(k instanceof M)return en("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{R=new va(_,u,f)}catch(k){return en(k instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===R.Ie?null:R}Xe(t,i,s){return i.me.count===s-this.nt(t,i.targetId)?0:2}nt(t,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const _=this.Le.tt(),R=`projects/${_.projectId}/databases/${_.database}/documents/${f.path.canonicalString()}`;t.mightContain(R)||(this.Ue(i,f,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((f,_)=>{const R=this.Je(_);if(R){if(f.current&&dr(R.target)){const k=new Cn(R.target.path);null!==this.ke.get(k)||this.it(_,k)||this.Ue(_,k,Gr.newNoDocument(k,t))}f.be&&(i.set(_,f.ve()),f.Ce())}});let s=Wr();this.qe.forEach((f,_)=>{let R=!0;_.forEachWhile(k=>{const Y=this.Je(k);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(R=!1,!1)}),R&&(s=s.add(f))}),this.ke.forEach((f,_)=>_.setReadTime(t));const u=new Xs(t,i,this.Qe,this.ke,s);return this.ke=Go(),this.qe=Ha(),this.Qe=new ii(jn),u}$e(t,i){if(!this.ze(t))return;const s=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new yr,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new ui(jn),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||kt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new yr),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Ha(){return new ii(Cn.comparator)}function na(){return new ii(Cn.comparator)}const Ju={asc:"ASCENDING",desc:"DESCENDING"},za={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},So={and:"AND",or:"OR"};class hl{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mo(l,t){return l.useProto3Json||Re(t)?t:{value:t}}function ro(l,t){return l.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ga(l,t){return l.useProto3Json?t.toBase64():t.toUint8Array()}function Wa(l,t){return ro(l,t.toTimestamp())}function Yi(l){return Dt(!!l),On.fromTimestamp(function(i){const s=T(i);return new Tr(s.seconds,s.nanos)}(l))}function ss(l,t){return _a(l,t).canonicalString()}function _a(l,t){const i=(u=l,new Qn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function Yu(l){const t=Qn.fromString(l);return Dt(Ko(t)),t}function Pa(l,t){return ss(l.databaseId,t.path)}function ys(l,t){const i=Yu(t);if(i.get(1)!==l.databaseId.projectId)throw new Ke(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Ke(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new Cn(zd(i))}function zc(l,t){return ss(l.databaseId,t)}function Hd(l){const t=Yu(l);return 4===t.length?Qn.emptyPath():zd(t)}function Zu(l){return new Qn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function zd(l){return Dt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function sf(l,t,i){return{name:Pa(l,t),fields:i.value.mapValue.fields}}function af(l,t,i){const s=ys(l,t.name),u=Yi(t.updateTime),f=t.createTime?Yi(t.createTime):On.min(),_=new wo({mapValue:{fields:t.fields}}),R=Gr.newFoundDocument(s,u,f,_);return i&&R.setHasCommittedMutations(),i?R.setHasCommittedMutations():R}function F(l,t){let i;if(t instanceof Oi)i={update:sf(l,t.key,t.value)};else if(t instanceof Ln)i={delete:Pa(l,t.key)};else if(t instanceof fi)i={update:sf(l,t.key,t.data),updateMask:Ka(t.fieldMask)};else{if(!(t instanceof gr))return Qt();i={verify:Pa(l,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(f,_){const R=_.transform;if(R instanceof os)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof qs)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof _s)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ra)return{fieldPath:_.field.canonicalString(),increment:R.Pe};throw Qt()}(0,s))),t.precondition.isNone||(i.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:Wa(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Qt()),i;var f}function S(l,t){const i=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?ge.updateTime(Yi(f.updateTime)):void 0!==f.exists?ge.exists(f.exists):ge.none():ge.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(_,R){let k=null;"setToServerValue"in R?(Dt("REQUEST_TIME"===R.setToServerValue),k=new os):"appendMissingElements"in R?k=new qs(R.appendMissingElements.values||[]):"removeAllFromArray"in R?k=new _s(R.removeAllFromArray.values||[]):"increment"in R?k=new Ra(_,R.increment):Qt();const Y=Ar.fromServerFormat(R.fieldPath);return new W(Y,k)}(l,u)):[];var f;if(t.update){const u=ys(l,t.update.name),f=new wo({mapValue:{fields:t.update.fields}});if(t.updateMask){const _=new ci((t.updateMask.fieldPaths||[]).map(Ae=>Ar.fromServerFormat(Ae)));return new fi(u,f,_,i,s)}return new Oi(u,f,i,s)}if(t.delete){const u=ys(l,t.delete);return new Ln(u,i)}if(t.verify){const u=ys(l,t.verify);return new gr(u,i)}return Qt()}function Ee(l,t){return{documents:[zc(l,t.path)]}}function De(l,t){const i={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=zc(l,u);const f=function(Y){if(0!==Y.length)return Ho(j.create(Y,"and"))}(t.filters);f&&(i.structuredQuery.where=f);const _=function(Y){if(0!==Y.length)return Y.map(Ae=>{return{field:zi((mt=Ae).field),direction:jr(mt.dir)};var mt})}(t.orderBy);_&&(i.structuredQuery.orderBy=_);const R=mo(l,t.limit);return null!==R&&(i.structuredQuery.limit=R),t.startAt&&(i.structuredQuery.startAt={before:(Y=t.startAt).inclusive,values:Y.position}),t.endAt&&(i.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(t.endAt)),{_t:i,parent:u};var Y}function An(l){let t=Hd(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Dt(1===s);const Ae=i.from[0];Ae.allDescendants?u=Ae.collectionId:t=t.child(Ae.collectionId)}let f=[];i.where&&(f=function(He){const mt=Yn(He);return mt instanceof j&&ke(mt)?mt.getFilters():[mt]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(mt=>{return new ae(ko((Sn=mt).field),function(Vn){switch(Vn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Sn.direction));var Sn}));let R=null;i.limit&&(R=function(He){let mt;return mt="object"==typeof He?He.value:He,Re(mt)?null:mt}(i.limit));let k=null;var He;i.startAt&&(k=new ei((He=i.startAt).values||[],!!He.before));let Y=null;return i.endAt&&(Y=function(He){return new ei(He.values||[],!He.before)}(i.endAt)),Gs(t,u,_,f,R,"F",k,Y)}function Yn(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ko(i.unaryFilter.field);return A.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=ko(i.unaryFilter.field);return A.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ko(i.unaryFilter.field);return A.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=ko(i.unaryFilter.field);return A.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Qt()}}(l):void 0!==l.fieldFilter?A.create(ko((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return j.create(i.compositeFilter.filters.map(s=>Yn(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Qt()}}(i.compositeFilter.op))}(l):Qt();var i}function jr(l){return Ju[l]}function Li(l){return za[l]}function ri(l){return So[l]}function zi(l){return{fieldPath:l.canonicalString()}}function ko(l){return Ar.fromServerFormat(l.fieldPath)}function Ho(l){return l instanceof A?function(i){if("=="===i.op){if(Uo(i.value))return{unaryFilter:{field:zi(i.field),op:"IS_NAN"}};if(ho(i.value))return{unaryFilter:{field:zi(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Uo(i.value))return{unaryFilter:{field:zi(i.field),op:"IS_NOT_NAN"}};if(ho(i.value))return{unaryFilter:{field:zi(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(i.field),op:Li(i.op),value:i.value}}}(l):l instanceof j?function(i){const s=i.getFilters().map(u=>Ho(u));return 1===s.length?s[0]:{compositeFilter:{op:ri(i.op),filters:s}}}(l):Qt()}function Ka(l){const t=[];return l.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Ko(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Ls{constructor(t,i,s,u,f=On.min(),_=On.min(),R=fe.EMPTY_BYTE_STRING,k=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=R,this.expectedCount=k}withSequenceNumber(t){return new Ls(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fl{constructor(t){this.ct=t}}function xl(l,t){const i=t.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:ra(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:Pa(f=l.ct,(_=t).key),fields:_.data.value.mapValue.fields,updateTime:ro(f,_.version.toTimestamp()),createTime:ro(f,_.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:ya(t.version)};else{if(!t.isUnknownDocument())return Qt();s.unknownDocument={path:i.path.toArray(),version:ya(t.version)}}var f,_;return s}function ra(l){const t=l.toTimestamp();return[t.seconds,t.nanoseconds]}function ya(l){const t=l.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ol(l){const t=new Tr(l.seconds,l.nanoseconds);return On.fromTimestamp(t)}function qo(l,t){const i=(t.baseMutations||[]).map(f=>S(l.ct,f));for(let f=0;f<t.mutations.length-1;++f)f+1<t.mutations.length&&void 0!==t.mutations[f+1].transform&&(t.mutations[f].updateTransforms=t.mutations[f+1].transform.fieldTransforms,t.mutations.splice(f+1,1),++f);const s=t.mutations.map(f=>S(l.ct,f)),u=Tr.fromMillis(t.localWriteTimeMs);return new Xi(t.batchId,u,i,s)}function ru(l){const t=Ol(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?Ol(l.lastLimboFreeSnapshotVersion):On.min();let s;return s=void 0!==l.query.documents?(Dt(1===(f=l.query).documents.length),Ti(is(Hd(f.documents[0])))):function(f){return Ti(An(f))}(l.query),new Ls(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,t,i,fe.fromBase64String(l.resumeToken));var f}function qa(l,t){const i=ya(t.snapshotVersion),s=ya(t.lastLimboFreeSnapshotVersion);let u;u=dr(t.target)?Ee(l.ct,t.target):De(l.ct,t.target)._t;const f=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:we(t.target),readTime:i,resumeToken:f,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Si(l){const t=An({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Va(t,t.limit,"L"):t}function ec(l,t){return new Hi(t.largestBatchId,S(l.ct,t.overlayMutation))}function iu(l,t){const i=t.path.lastSegment();return[l,xe(t.path.popLast()),i]}function as(l,t,i,s){return{indexId:l,uid:t,sequenceNumber:i,readTime:ya(s.readTime),documentKey:xe(s.documentKey.path),largestBatchId:s.largestBatchId}}class Gd{getBundleMetadata(t,i){return Nl(t).get(i).next(s=>{if(s)return{id:(f=s).bundleId,createTime:Ol(f.createTime),version:f.version};var f})}saveBundleMetadata(t,i){return Nl(t).put({bundleId:(u=i).id,createTime:ya(Yi(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return pl(t).get(i).next(s=>{if(s)return{name:(f=s).name,query:Si(f.bundledQuery),readTime:Ol(f.readTime)};var f})}saveNamedQuery(t,i){return pl(t).put({name:(u=i).name,readTime:ya(Yi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Nl(l){return Di(l,"bundles")}function pl(l){return Di(l,"namedQueries")}class ls{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new ls(t,i.uid||"")}getOverlay(t,i){return kl(t).get(iu(this.userId,i)).next(s=>s?ec(this.serializer,s):null)}getOverlays(t,i){const s=ms();return yt.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){const u=[];return s.forEach((f,_)=>{const R=new Hi(i,_);u.push(this.ht(t,R))}),yt.waitFor(u)}removeOverlaysForBatchId(t,i,s){const u=new Set;i.forEach(_=>u.add(xe(_.getCollectionPath())));const f=[];return u.forEach(_=>{const R=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);f.push(kl(t).j("collectionPathOverlayIndex",R))}),yt.waitFor(f)}getOverlaysForCollection(t,i,s){const u=ms(),f=xe(i),_=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return kl(t).U("collectionPathOverlayIndex",_).next(R=>{for(const k of R){const Y=ec(this.serializer,k);u.set(Y.getKey(),Y)}return u})}getOverlaysForCollectionGroup(t,i,s,u){const f=ms();let _;const R=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return kl(t).J({index:"collectionGroupOverlayIndex",range:R},(k,Y,Ae)=>{const He=ec(this.serializer,Y);f.size()<u||He.largestBatchId===_?(f.set(He.getKey(),He),_=He.largestBatchId):Ae.done()}).next(()=>f)}ht(t,i){return kl(t).put(function(u,f,_){const[R,k,Y]=iu(f,_.mutation.key);return{userId:f,collectionPath:k,documentId:Y,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:F(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function kl(l){return Di(l,"documentOverlays")}class Wd{Pt(t){return Di(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?fe.fromUint8Array(s):fe.EMPTY_BYTE_STRING})}setSessionToken(t,i){return this.Pt(t).put({name:"sessionToken",value:i.toUint8Array()})}}class Xa{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(V(t.integerValue));else if("doubleValue"in t){const s=V(t.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),ne(s)?i.At(0):i.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(i,20),"string"==typeof s&&(s=T(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(Ve(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in t?Bo(t)?this.dt(i,Number.MAX_SAFE_INTEGER):Fo(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):Qt()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const s=t.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(t,i){var s,u;const f=t.fields||{};this.dt(i,53);const _="value",R=(null===(u=null===(s=f[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(V(R)),this.Vt(_,i),this.Tt(f[_],i)}bt(t,i){const s=t.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(t,i){this.dt(i,37),Cn.fromName(t).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}function ia(l){if(0===l)return 8;let t=0;return!(l>>4)&&(t+=4,l<<=4),!(l>>6)&&(t+=2,l<<=2),!(l>>7)&&(t+=1),t}function tc(l){const t=64-function(s){let u=0;for(let f=0;f<8;++f){const _=ia(255&s[f]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(t/8)}Xa.vt=new Xa;class Gc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const i=this.qt(t),s=tc(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(t){const i=this.qt(t),s=tc(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const i=function(f){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,f,!1),new Uint8Array(_.buffer)}(t),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(t){const i=255&t;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const i=t+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class lf{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class gl{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Fl{constructor(){this.jt=new Gc,this.Ht=new lf(this.jt),this.Jt=new gl(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ma{constructor(t,i,s,u){this.indexId=t,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new Ma(this.indexId,this.documentKey,this.arrayValue,s)}}function Js(l,t){let i=l.indexId-t.indexId;return 0!==i?i:(i=ou(l.arrayValue,t.arrayValue),0!==i?i:(i=ou(l.directionalValue,t.directionalValue),0!==i?i:Cn.comparator(l.documentKey,t.documentKey)))}function ou(l,t){for(let i=0;i<l.length&&i<t.length;++i){const s=l[i]-t[i];if(0!==s)return s}return l.length-t.length}class oa{constructor(t){this.Xt=new ui((i,s)=>Ar.comparator(i.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const i of t.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(Dt(t.collectionGroup===this.collectionId),this.nn)return!1;const i=Ct(t);if(void 0!==i&&!this.sn(i))return!1;const s=Yt(t);let u=new Set,f=0,_=0;for(;f<s.length&&this.sn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!u.has(R.field.canonicalString())){const k=s[f];if(!this.on(R,k)||!this._n(this.en[_++],k))return!1}++f}for(;f<s.length;++f)if(_>=this.en.length||!this._n(this.en[_++],s[f]))return!1;return!0}an(){if(this.nn)return null;let t=new ui(Ar.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Et(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),i.push(new Et(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),i.push(new Et(s.field,"asc"===s.dir?0:1)));return new Gt(Gt.UNKNOWN_ID,this.collectionId,i,oe.empty())}sn(t){for(const i of this.tn)if(this.on(i,t))return!0;return!1}on(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Qr(l){var t,i;if(Dt(l instanceof A||l instanceof j),l instanceof A){if(l instanceof Oo){const u=(null===(i=null===(t=l.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(f=>A.create(l.field,"==",f)))||[];return j.create(u,"or")}return l}const s=l.filters.map(u=>Qr(u));return j.create(s,l.op)}function nc(l){if(0===l.getFilters().length)return[];const t=Kd(Qr(l));return Dt(ag(t)),su(t)||rc(t)?[t]:t.getFilters()}function su(l){return l instanceof A}function rc(l){return l instanceof j&&ke(l)}function ag(l){return su(l)||rc(l)||function(i){if(i instanceof j&&be(i)){for(const s of i.getFilters())if(!su(s)&&!rc(s))return!1;return!0}return!1}(l)}function Kd(l){if(Dt(l instanceof A||l instanceof j),l instanceof A)return l;if(1===l.filters.length)return Kd(l.filters[0]);const t=l.filters.map(s=>Kd(s));let i=j.create(t,l.op);return i=oc(i),ag(i)?i:(Dt(i instanceof j),Dt(ue(i)),Dt(i.filters.length>1),i.filters.reduce((s,u)=>ic(s,u)))}function ic(l,t){let i;return Dt(l instanceof A||l instanceof j),Dt(t instanceof A||t instanceof j),i=l instanceof A?t instanceof A?j.create([l,t],"and"):uf(l,t):t instanceof A?uf(t,l):function(u,f){if(Dt(u.filters.length>0&&f.filters.length>0),ue(u)&&ue(f))return Dn(u,f.getFilters());const _=be(u)?u:f,R=be(u)?f:u,k=_.filters.map(Y=>ic(Y,R));return j.create(k,"or")}(l,t),oc(i)}function uf(l,t){if(ue(t))return Dn(t,l.getFilters());{const i=t.filters.map(s=>ic(l,s));return j.create(i,"or")}}function oc(l){if(Dt(l instanceof A||l instanceof j),l instanceof A)return l;const t=l.getFilters();if(1===t.length)return oc(t[0]);if(ct(l))return l;const i=t.map(u=>oc(u)),s=[];return i.forEach(u=>{u instanceof A?s.push(u):u instanceof j&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:j.create(s,l.op)}class Qa{constructor(){this.un=new qd}addToCollectionParentIndex(t,i){return this.un.add(i),yt.resolve()}getCollectionParents(t,i){return yt.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return yt.resolve()}deleteFieldIndex(t,i){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,i){return yt.resolve()}getDocumentsMatchingTarget(t,i){return yt.resolve(null)}getIndexType(t,i){return yt.resolve(0)}getFieldIndexes(t,i){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,i){return yt.resolve(Xe.min())}getMinOffsetFromCollectionGroup(t,i){return yt.resolve(Xe.min())}updateCollectionGroup(t,i,s){return yt.resolve()}updateIndexEntries(t,i){return yt.resolve()}}class qd{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new ui(Qn.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new ui(Qn.comparator)).toArray()}}const Wc=new Uint8Array(0);class Xd{constructor(t,i){this.databaseId=i,this.cn=new qd,this.ln=new Ks(s=>we(s),(s,u)=>En(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:s,parent:xe(u)};return cf(t).put(f)}return yt.resolve()}getCollectionParents(t,i){const s=[],u=IDBKeyRange.bound([i,""],[Jn(i),""],!1,!0);return cf(t).U(u).next(f=>{for(const _ of f){if(_.collectionId!==i)break;s.push(yn(_.parent))}return s})}addFieldIndex(t,i){const s=hn(t),u={indexId:(R=i).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var R;delete u.indexId;const f=s.add(u);if(i.indexState){const _=ti(t);return f.next(R=>{_.put(as(R,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(t,i){const s=hn(t),u=ti(t),f=ml(t);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=hn(t),s=ml(t),u=ti(t);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,i){return yt.forEach(this.hn(i),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const f=new oa(s).an();if(null!=f)return this.addFieldIndex(t,f)}}))}getDocumentsMatchingTarget(t,i){const s=ml(t);let u=!0;const f=new Map;return yt.forEach(this.hn(i),_=>this.Pn(t,_).next(R=>{u&&(u=!!R),f.set(_,R)})).next(()=>{if(u){let _=Wr();const R=[];return yt.forEach(f,(k,Y)=>{var Ir;kt("IndexedDbIndexManager",`Using index ${Ir=k,`id=${Ir.indexId}|cg=${Ir.collectionGroup}|f=${Ir.fields.map(Fr=>`${Fr.fieldPath}:${Fr.kind}`).join(",")}`} to execute ${we(i)}`);const Ae=function(Ir,Fr){const Ni=Ct(Fr);if(void 0===Ni)return null;for(const Yr of xi(Ir,Ni.fieldPath))switch(Yr.op){case"array-contains-any":return Yr.value.arrayValue.values||[];case"array-contains":return[Yr.value]}return null}(Y,k),He=function(Ir,Fr){const Ni=new Map;for(const Yr of Yt(Fr))for(const $t of xi(Ir,Yr.fieldPath))switch($t.op){case"==":case"in":Ni.set(Yr.fieldPath.canonicalString(),$t.value);break;case"not-in":case"!=":return Ni.set(Yr.fieldPath.canonicalString(),$t.value),Array.from(Ni.values())}return null}(Y,k),mt=function(Ir,Fr){const Ni=[];let Yr=!0;for(const $t of Yt(Fr)){const ft=0===$t.kind?fo(Ir,$t.fieldPath,Ir.startAt):po(Ir,$t.fieldPath,Ir.startAt);Ni.push(ft.value),Yr&&(Yr=ft.inclusive)}return new ei(Ni,Yr)}(Y,k),Zt=function(Ir,Fr){const Ni=[];let Yr=!0;for(const $t of Yt(Fr)){const ft=0===$t.kind?po(Ir,$t.fieldPath,Ir.endAt):fo(Ir,$t.fieldPath,Ir.endAt);Ni.push(ft.value),Yr&&(Yr=ft.inclusive)}return new ei(Ni,Yr)}(Y,k),Sn=this.In(k,Y,mt),Kn=this.In(k,Y,Zt),Vn=this.Tn(k,Y,He),vr=this.En(k.indexId,Ae,Sn,mt.inclusive,Kn,Zt.inclusive,Vn);return yt.forEach(vr,Pr=>s.G(Pr,i.limit).next(Ir=>{Ir.forEach(Fr=>{const Ni=Cn.fromSegments(Fr.documentKey);_.has(Ni)||(_=_.add(Ni),R.push(Ni))})}))}).next(()=>R)}return yt.resolve(null)})}hn(t){let i=this.ln.get(t);return i||(i=0===t.filters.length?[t]:nc(j.create(t.filters,"and")).map(s=>H(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,i),i)}En(t,i,s,u,f,_,R){const k=(null!=i?i.length:1)*Math.max(s.length,f.length),Y=k/(null!=i?i.length:1),Ae=[];for(let He=0;He<k;++He){const mt=i?this.dn(i[He/Y]):Wc,Zt=this.An(t,mt,s[He%Y],u),Sn=this.Rn(t,mt,f[He%Y],_),Kn=R.map(Vn=>this.An(t,mt,Vn,!0));Ae.push(...this.createRange(Zt,Sn,Kn))}return Ae}An(t,i,s,u){const f=new Ma(t,Cn.empty(),i,s);return u?f:f.Zt()}Rn(t,i,s,u){const f=new Ma(t,Cn.empty(),i,s);return u?f.Zt():f}Pn(t,i){const s=new oa(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(f=>{let _=null;for(const R of f)s.rn(R)&&(!_||R.fields.length>_.fields.length)&&(_=R);return _})}getIndexType(t,i){let s=2;const u=this.hn(i);return yt.forEach(u,f=>this.Pn(t,f).next(_=>{_?0!==s&&_.fields.length<function(k){let Y=new ui(Ar.comparator),Ae=!1;for(const He of k.filters)for(const mt of He.getFlattenedFilters())mt.field.isKeyField()||("array-contains"===mt.op||"array-contains-any"===mt.op?Ae=!0:Y=Y.add(mt.field));for(const He of k.orderBy)He.field.isKeyField()||(Y=Y.add(He.field));return Y.size+(Ae?1:0)}(f)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(t,i){const s=new Fl;for(const u of Yt(t)){const f=i.data.field(u.fieldPath);if(null==f)return null;const _=s.Yt(u.kind);Xa.vt.It(f,_)}return s.zt()}dn(t){const i=new Fl;return Xa.vt.It(t,i.Yt(0)),i.zt()}mn(t,i){const s=new Fl;return Xa.vt.It(oo(this.databaseId,i),s.Yt(function(f){const _=Yt(f);return 0===_.length?0:_[_.length-1].kind}(t))),s.zt()}Tn(t,i,s){if(null===s)return[];let u=[];u.push(new Fl);let f=0;for(const _ of Yt(t)){const R=s[f++];for(const k of u)if(this.fn(i,_.fieldPath)&&Ki(R))u=this.gn(u,_,R);else{const Y=k.Yt(_.kind);Xa.vt.It(R,Y)}}return this.pn(u)}In(t,i,s){return this.Tn(t,i,s.position)}pn(t){const i=[];for(let s=0;s<t.length;++s)i[s]=t[s].zt();return i}gn(t,i,s){const u=[...t],f=[];for(const _ of s.arrayValue.values||[])for(const R of u){const k=new Fl;k.seed(R.zt()),Xa.vt.It(_,k.Yt(i.kind)),f.push(k)}return f}fn(t,i){return!!t.filters.find(s=>s instanceof A&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,i){const s=hn(t),u=ti(t);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(f=>{const _=[];return yt.forEach(f,R=>u.get([R.indexId,this.uid]).next(k=>{_.push(function(Ae,He){const mt=He?new oe(He.sequenceNumber,new Xe(Ol(He.readTime),new Cn(yn(He.documentKey)),He.largestBatchId)):oe.empty(),Zt=Ae.fields.map(([Sn,Kn])=>new Et(Ar.fromServerFormat(Sn),Kn));return new Gt(Ae.indexId,Ae.collectionGroup,Zt,mt)}(R,k))})).next(()=>_)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:jn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,s){const u=hn(t),f=ti(t);return this.yn(t).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(R=>yt.forEach(R,k=>f.put(as(k.indexId,this.uid,_,s)))))}updateIndexEntries(t,i){const s=new Map;return yt.forEach(i,(u,f)=>{const _=s.get(u.collectionGroup);return(_?yt.resolve(_):this.getFieldIndexes(t,u.collectionGroup)).next(R=>(s.set(u.collectionGroup,R),yt.forEach(R,k=>this.wn(t,u,k).next(Y=>{const Ae=this.Sn(f,k);return Y.isEqual(Ae)?yt.resolve():this.bn(t,f,k,Y,Ae)}))))})}Dn(t,i,s,u){return ml(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(t,i,s,u){return ml(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(t,i,s){const u=ml(t);let f=new ui(Js);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(_,R)=>{f=f.add(new Ma(s.indexId,i,R.arrayValue,R.directionalValue))}).next(()=>f)}Sn(t,i){let s=new ui(Js);const u=this.Vn(i,t);if(null==u)return s;const f=Ct(i);if(null!=f){const _=t.data.field(f.fieldPath);if(Ki(_))for(const R of _.arrayValue.values||[])s=s.add(new Ma(i.indexId,t.key,this.dn(R),u))}else s=s.add(new Ma(i.indexId,t.key,Wc,u));return s}bn(t,i,s,u,f){kt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(k,Y,Ae,He,mt){const Zt=k.getIterator(),Sn=Y.getIterator();let Kn=yo(Zt),Vn=yo(Sn);for(;Kn||Vn;){let vr=!1,Pr=!1;if(Kn&&Vn){const Ir=Ae(Kn,Vn);Ir<0?Pr=!0:Ir>0&&(vr=!0)}else null!=Kn?Pr=!0:vr=!0;vr?(He(Vn),Vn=yo(Sn)):Pr?(mt(Kn),Kn=yo(Zt)):(Kn=yo(Zt),Vn=yo(Sn))}}(u,f,Js,R=>{_.push(this.Dn(t,i,s,R))},R=>{_.push(this.vn(t,i,s,R))}),yt.waitFor(_)}yn(t){let i=1;return ti(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,s){s=s.sort((_,R)=>Js(_,R)).filter((_,R,k)=>!R||0!==Js(_,k[R-1]));const u=[];u.push(t);for(const _ of s){const R=Js(_,t),k=Js(_,i);if(0===R)u[0]=t.Zt();else if(R>0&&k<0)u.push(_),u.push(_.Zt());else if(k>0)break}u.push(i);const f=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];f.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Wc,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Wc,[]]))}return f}Cn(t,i){return Js(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Kc)}getMinOffset(t,i){return yt.mapArray(this.hn(i),s=>this.Pn(t,s).next(u=>u||Qt())).next(Kc)}}function cf(l){return Di(l,"collectionParents")}function ml(l){return Di(l,"indexEntries")}function hn(l){return Di(l,"indexConfiguration")}function ti(l){return Di(l,"indexState")}function Kc(l){Dt(0!==l.length);let t=l[0].indexState.offset,i=t.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;tt(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Xe(t.readTime,t.documentKey,i)}const sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ai{constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new ai(t,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qc(l,t,i){const s=l.store("mutations"),u=l.store("documentMutations"),f=[],_=IDBKeyRange.only(i.batchId);let R=0;const k=s.J({range:_},(Ae,He,mt)=>(R++,mt.delete()));f.push(k.next(()=>{Dt(1===R)}));const Y=[];for(const Ae of i.mutations){const He=pt(t,Ae.key.path,i.batchId);f.push(u.delete(He)),Y.push(Ae.key)}return yt.waitFor(f).next(()=>Y)}function Ja(l){if(!l)return 0;let t;if(l.document)t=l.document;else if(l.unknownDocument)t=l.unknownDocument;else{if(!l.noDocument)throw Qt();t=l.noDocument}return JSON.stringify(t).length}ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(41943040,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);class Is{constructor(t,i,s,u){this.userId=t,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,i,s,u){Dt(""!==t.uid);const f=t.isAuthenticated()?t.uid:"";return new Is(f,i,s,u)}checkEmpty(t){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ia(t).J({index:"userMutationsIndex",range:s},(u,f,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(t,i,s,u){const f=Ya(t),_=Ia(t);return _.add({}).next(R=>{Dt("number"==typeof R);const k=new Xi(R,i,s,u),Y=function(Zt,Sn,Kn){const Vn=Kn.baseMutations.map(Pr=>F(Zt.ct,Pr)),vr=Kn.mutations.map(Pr=>F(Zt.ct,Pr));return{userId:Sn,batchId:Kn.batchId,localWriteTimeMs:Kn.localWriteTime.toMillis(),baseMutations:Vn,mutations:vr}}(this.serializer,this.userId,k),Ae=[];let He=new ui((mt,Zt)=>jn(mt.canonicalString(),Zt.canonicalString()));for(const mt of u){const Zt=pt(this.userId,mt.key.path,R);He=He.add(mt.key.path.popLast()),Ae.push(_.put(Y)),Ae.push(f.put(Zt,St))}return He.forEach(mt=>{Ae.push(this.indexManager.addToCollectionParentIndex(t,mt))}),t.addOnCommittedListener(()=>{this.Fn[R]=k.keys()}),yt.waitFor(Ae).next(()=>k)})}lookupMutationBatch(t,i){return Ia(t).get(i).next(s=>s?(Dt(s.userId===this.userId),qo(this.serializer,s)):null)}Mn(t,i){return this.Fn[i]?yt.resolve(this.Fn[i]):this.lookupMutationBatch(t,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return Ia(t).J({index:"userMutationsIndex",range:u},(_,R,k)=>{R.userId===this.userId&&(Dt(R.batchId>=s),f=qo(this.serializer,R)),k.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ia(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,_)=>{s=f.batchId,_.done()}).next(()=>s)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ia(t).U("userMutationsIndex",i).next(s=>s.map(u=>qo(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const s=$e(this.userId,i.path),u=IDBKeyRange.lowerBound(s),f=[];return Ya(t).J({range:u},(_,R,k)=>{const[Y,Ae,He]=_,mt=yn(Ae);if(Y===this.userId&&i.path.isEqual(mt))return Ia(t).get(He).next(Zt=>{if(!Zt)throw Qt();Dt(Zt.userId===this.userId),f.push(qo(this.serializer,Zt))});k.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new ui(jn);const u=[];return i.forEach(f=>{const _=$e(this.userId,f.path),R=IDBKeyRange.lowerBound(_),k=Ya(t).J({range:R},(Y,Ae,He)=>{const[mt,Zt,Sn]=Y,Kn=yn(Zt);mt===this.userId&&f.path.isEqual(Kn)?s=s.add(Sn):He.done()});u.push(k)}),yt.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1,f=$e(this.userId,s),_=IDBKeyRange.lowerBound(f);let R=new ui(jn);return Ya(t).J({range:_},(k,Y,Ae)=>{const[He,mt,Zt]=k,Sn=yn(mt);He===this.userId&&s.isPrefixOf(Sn)?Sn.length===u&&(R=R.add(Zt)):Ae.done()}).next(()=>this.xn(t,R))}xn(t,i){const s=[],u=[];return i.forEach(f=>{u.push(Ia(t).get(f).next(_=>{if(null===_)throw Qt();Dt(_.userId===this.userId),s.push(qo(this.serializer,_))}))}),yt.waitFor(u).next(()=>s)}removeMutationBatch(t,i){return qc(t._e,this.userId,i).next(s=>(t.addOnCommittedListener(()=>{this.On(i.batchId)}),yt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return yt.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return Ya(t).J({range:s},(f,_,R)=>{if(f[0]===this.userId){const k=yn(f[1]);u.push(k)}else R.done()}).next(()=>{Dt(0===u.length)})})}containsKey(t,i){return Xc(t,this.userId,i)}Nn(t){return lg(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xc(l,t,i){const s=$e(t,i.path),u=s[1],f=IDBKeyRange.lowerBound(s);let _=!1;return Ya(l).J({range:f,H:!0},(R,k,Y)=>{const[Ae,He,mt]=R;Ae===t&&He===u&&(_=!0),Y.done()}).next(()=>_)}function Ia(l){return Di(l,"mutations")}function Ya(l){return Di(l,"documentMutations")}function lg(l){return Di(l,"mutationQueues")}class au{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new au(0)}static kn(){return new au(-1)}}class df{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.qn(t).next(i=>{const s=new au(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(i=>On.fromTimestamp(new Tr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(t,u)))}addTargetData(t,i){return this.Kn(t,i).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(t,s))))}updateTargetData(t,i){return this.Kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Za(t).delete(i.targetId)).next(()=>this.qn(t)).next(s=>(Dt(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,i,s){let u=0;const f=[];return Za(t).J((_,R)=>{const k=ru(R);k.sequenceNumber<=i&&null===s.get(k.targetId)&&(u++,f.push(this.removeTargetData(t,k)))}).next(()=>yt.waitFor(f)).next(()=>u)}forEachTarget(t,i){return Za(t).J((s,u)=>{const f=ru(u);i(f)})}qn(t){return Qd(t).get("targetGlobalKey").next(i=>(Dt(null!==i),i))}Qn(t,i){return Qd(t).put("targetGlobalKey",i)}Kn(t,i){return Za(t).put(qa(this.serializer,i))}$n(t,i){let s=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,s=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(i=>i.targetCount)}getTargetData(t,i){const s=we(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Za(t).J({range:u,index:"queryTargetsIndex"},(_,R,k)=>{const Y=ru(R);En(i,Y.target)&&(f=Y,k.done())}).next(()=>f)}addMatchingKeys(t,i,s){const u=[],f=xo(t);return i.forEach(_=>{const R=xe(_.path);u.push(f.put({targetId:s,path:R})),u.push(this.referenceDelegate.addReference(t,s,_))}),yt.waitFor(u)}removeMatchingKeys(t,i,s){const u=xo(t);return yt.forEach(i,f=>{const _=xe(f.path);return yt.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(t,s,f)])})}removeMatchingKeysForTargetId(t,i){const s=xo(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=xo(t);let f=Wr();return u.J({range:s,H:!0},(_,R,k)=>{const Y=yn(_[1]),Ae=new Cn(Y);f=f.add(Ae)}).next(()=>f)}containsKey(t,i){const s=xe(i.path),u=IDBKeyRange.bound([s],[Jn(s)],!1,!0);let f=0;return xo(t).J({index:"documentTargetsIndex",H:!0,range:u},([_,R],k,Y)=>{0!==_&&(f++,Y.done())}).next(()=>f>0)}ot(t,i){return Za(t).get(i).next(s=>s?ru(s):null)}}function Za(l){return Di(l,"targets")}function Qd(l){return Di(l,"targetGlobal")}function xo(l){return Di(l,"targetDocuments")}function Ea([l,t],[i,s]){const u=jn(l,i);return 0===u?jn(t,s):u}class hf{constructor(t){this.Un=t,this.buffer=new ui(Ea),this.Wn=0}Gn(){return++this.Wn}zn(t){const i=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ea(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Es{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var i=this;kt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ie.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){oi(s)?kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield nr(s)}yield i.Hn(3e5)}))}}class el{constructor(t,i){this.Jn=t,this.params=i}calculateTargetCount(t,i){return this.Jn.Yn(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(0===i)return yt.resolve(q.oe);const s=new hf(i);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Jn.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(sc)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sc):this.Xn(t,i))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,i){let s,u,f,_,R,k,Y;const Ae=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(He=>(He>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${He}`),u=this.params.maximumSequenceNumbersToCollect):u=He,_=Date.now(),this.nthSequenceNumber(t,u))).next(He=>(s=He,R=Date.now(),this.removeTargets(t,s,i))).next(He=>(f=He,k=Date.now(),this.removeOrphanedDocuments(t,s))).next(He=>(Y=Date.now(),Xt()<=Qe.$b.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-Ae}ms\n\tDetermined least recently used ${u} in `+(R-_)+`ms\n\tRemoved ${f} targets in `+(k-R)+`ms\n\tRemoved ${He} documents in `+(Y-k)+`ms\nTotal Duration: ${Y-Ae}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:He})))}}class pf{constructor(t,i){this.db=t,this.garbageCollector=function ff(l,t){return new el(l,t)}(this,i)}Yn(t){const i=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}er(t){let i=0;return this.Zn(t,s=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Zn(t,i){return this.tr(t,(s,u)=>i(u))}addReference(t,i,s){return Qc(t,s)}removeReference(t,i,s){return Qc(t,s)}removeTargets(t,i,s){return this.db.getTargetCache().removeTargets(t,i,s)}markPotentiallyOrphaned(t,i){return Qc(t,i)}nr(t,i){return function(u,f){let _=!1;return lg(u).Y(R=>Xc(u,R,f).next(k=>(k&&(_=!0),yt.resolve(!k)))).next(()=>_)}(t,i)}removeOrphanedDocuments(t,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(t,(_,R)=>{if(R<=i){const k=this.nr(t,_).next(Y=>{if(!Y)return f++,s.getEntry(t,_).next(()=>(s.removeEntry(_,On.min()),xo(t).delete([0,xe(_.path)])))});u.push(k)}}).next(()=>yt.waitFor(u)).next(()=>s.apply(t)).next(()=>f)}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,i){return Qc(t,i)}tr(t,i){const s=xo(t);let u,f=q.oe;return s.J({index:"documentTargetsIndex"},([_,R],{path:k,sequenceNumber:Y})=>{0===_?(f!==q.oe&&i(new Cn(yn(u)),f),f=Y,u=k):f=q.oe}).next(()=>{f!==q.oe&&i(new Cn(yn(u)),f)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Qc(l,t){return xo(l).put((u=l.currentSequenceNumber,{targetId:0,path:xe(t.path),sequenceNumber:u}));var u}class gf{constructor(){this.changes=new Ks(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Gr.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?yt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Jd{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,s){return Vl(t).put(s)}removeEntry(t,i,s){return Vl(t).delete(function(f,_){const R=f.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],ra(_),R[R.length-1]]}(i,s))}updateMetadata(t,i){return this.getMetadata(t).next(s=>(s.byteSize+=i,this.rr(t,s)))}getEntry(t,i){let s=Gr.newInvalidDocument(i);return Vl(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(lu(i))},(u,f)=>{s=this.ir(i,f)}).next(()=>s)}sr(t,i){let s={size:0,document:Gr.newInvalidDocument(i)};return Vl(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(lu(i))},(u,f)=>{s={document:this.ir(i,f),size:Ja(f)}}).next(()=>s)}getEntries(t,i){let s=Go();return this._r(t,i,(u,f)=>{const _=this.ir(u,f);s=s.insert(u,_)}).next(()=>s)}ar(t,i){let s=Go(),u=new ii(Cn.comparator);return this._r(t,i,(f,_)=>{const R=this.ir(f,_);s=s.insert(f,R),u=u.insert(f,Ja(_))}).next(()=>({documents:s,ur:u}))}_r(t,i,s){if(i.isEmpty())return yt.resolve();let u=new ui(Zd);i.forEach(k=>u=u.add(k));const f=IDBKeyRange.bound(lu(u.first()),lu(u.last())),_=u.getIterator();let R=_.getNext();return Vl(t).J({index:"documentKeyIndex",range:f},(k,Y,Ae)=>{const He=Cn.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;R&&Zd(R,He)<0;)s(R,null),R=_.getNext();R&&R.isEqual(He)&&(s(R,Y),R=_.hasNext()?_.getNext():null),R?Ae.$(lu(R)):Ae.done()}).next(()=>{for(;R;)s(R,null),R=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(t,i,s,u,f){const _=i.path,R=[_.popLast().toArray(),_.lastSegment(),ra(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],k=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vl(t).U(IDBKeyRange.bound(R,k,!0)).next(Y=>{null==f||f.incrementDocumentReadCount(Y.length);let Ae=Go();for(const He of Y){const mt=this.ir(Cn.fromSegments(He.prefixPath.concat(He.collectionGroup,He.documentId)),He);mt.isFoundDocument()&&(al(i,mt)||u.has(mt.key))&&(Ae=Ae.insert(mt.key,mt))}return Ae})}getAllFromCollectionGroup(t,i,s,u){let f=Go();const _=Yc(i,s),R=Yc(i,Xe.max());return Vl(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,R,!0)},(k,Y,Ae)=>{const He=this.ir(Cn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);f=f.insert(He.key,He),f.size===u&&Ae.done()}).next(()=>f)}newChangeBuffer(t){return new Yd(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return Ll(t).get("remoteDocumentGlobalKey").next(i=>(Dt(!!i),i))}rr(t,i){return Ll(t).put("remoteDocumentGlobalKey",i)}ir(t,i){if(i){const s=function nu(l,t){let i;if(t.document)i=af(l.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=Cn.fromSegments(t.noDocument.path),u=Ol(t.noDocument.readTime);i=Gr.newNoDocument(s,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qt();{const s=Cn.fromSegments(t.unknownDocument.path),u=Ol(t.unknownDocument.version);i=Gr.newUnknownDocument(s,u)}}return t.readTime&&i.setReadTime(function(u){const f=new Tr(u[0],u[1]);return On.fromTimestamp(f)}(t.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(On.min()))return s}return Gr.newInvalidDocument(t)}}function Jc(l){return new Jd(l)}class Yd extends gf{constructor(t,i){super(),this.cr=t,this.trackRemovals=i,this.lr=new Ks(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const i=[];let s=0,u=new ui((f,_)=>jn(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const R=this.lr.get(f);if(i.push(this.cr.removeEntry(t,f,R.readTime)),_.isValidDocument()){const k=xl(this.cr.serializer,_);u=u.add(f.path.popLast());const Y=Ja(k);s+=Y-R.size,i.push(this.cr.addEntry(t,f,k))}else if(s-=R.size,this.trackRemovals){const k=xl(this.cr.serializer,_.convertToNoDocument(On.min()));i.push(this.cr.addEntry(t,f,k))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(t,f))}),i.push(this.cr.updateMetadata(t,s)),yt.waitFor(i)}getFromCache(t,i){return this.cr.sr(t,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,i){return this.cr.ar(t,i).next(({documents:s,ur:u})=>(u.forEach((f,_)=>{this.lr.set(f,{size:_,readTime:s.get(f).readTime})}),s))}}function Ll(l){return Di(l,"remoteDocumentGlobal")}function Vl(l){return Di(l,"remoteDocumentsV14")}function lu(l){const t=l.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Yc(l,t){const i=t.documentKey.path.toArray();return[l,ra(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Zd(l,t){const i=l.path.toArray(),s=t.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<s.length-2;++f)if(u=jn(i[f],s[f]),u)return u;return u=jn(i.length,s.length),u||(u=jn(i[i.length-2],s[s.length-2]),u||jn(i[i.length-1],s[s.length-1]))}class mf{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Zc{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==s&&di(s.mutation,u,ci.empty(),Tr.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Wr()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Wr()){const u=ms();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(f=>{let _=ul();return f.forEach((R,k)=>{_=_.insert(R,k.overlayedDocument)}),_}))}getOverlayedDocuments(t,i){const s=ms();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Wr()))}populateOverlays(t,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(t,u).next(f=>{f.forEach((_,R)=>{i.set(_,R)})})}computeViews(t,i,s,u){let f=Go();const _=xs(),R=xs();return i.forEach((k,Y)=>{const Ae=s.get(Y.key);u.has(Y.key)&&(void 0===Ae||Ae.mutation instanceof fi)?f=f.insert(Y.key,Y):void 0!==Ae?(_.set(Y.key,Ae.mutation.getFieldMask()),di(Ae.mutation,Y,Ae.mutation.getFieldMask(),Tr.now())):_.set(Y.key,ci.empty())}),this.recalculateAndSaveOverlays(t,f).next(k=>(k.forEach((Y,Ae)=>_.set(Y,Ae)),i.forEach((Y,Ae)=>{var He;return R.set(Y,new mf(Ae,null!==(He=_.get(Y))&&void 0!==He?He:null))}),R))}recalculateAndSaveOverlays(t,i){const s=xs();let u=new ii((_,R)=>_-R),f=Wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(_=>{for(const R of _)R.keys().forEach(k=>{const Y=i.get(k);if(null===Y)return;let Ae=s.get(k)||ci.empty();Ae=R.applyToLocalView(Y,Ae),s.set(k,Ae);const He=(u.get(R.batchId)||Wr()).add(k);u=u.insert(R.batchId,He)})}).next(()=>{const _=[],R=u.getReverseIterator();for(;R.hasNext();){const k=R.getNext(),Y=k.key,Ae=k.value,He=Ba();Ae.forEach(mt=>{if(!f.has(mt)){const Zt=kn(i.get(mt),s.get(mt));null!==Zt&&He.set(mt,Zt),f=f.add(mt)}}),_.push(this.documentOverlayCache.saveOverlays(t,Y,He))}return yt.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return Cn.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):da(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u);var _}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(f=>{const _=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-f.size):yt.resolve(ms());let R=-1,k=f;return _.next(Y=>yt.forEach(Y,(Ae,He)=>(R<He.largestBatchId&&(R=He.largestBatchId),f.get(Ae)?yt.resolve():this.remoteDocumentCache.getEntry(t,Ae).next(mt=>{k=k.insert(Ae,mt)}))).next(()=>this.populateOverlays(t,Y,f)).next(()=>this.computeViews(t,k,Y,Wr())).next(Ae=>({batchId:R,changes:fa(Ae)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Cn(i)).next(s=>{let u=ul();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const f=i.collectionGroup;let _=ul();return this.indexManager.getCollectionParents(t,f).next(R=>yt.forEach(R,k=>{const Y=(He=i,mt=k.child(f),new Io(mt,null,He.explicitOrderBy.slice(),He.filters.slice(),He.limit,He.limitType,He.startAt,He.endAt));var He,mt;return this.getDocumentsMatchingCollectionQuery(t,Y,s,u).next(Ae=>{Ae.forEach((He,mt)=>{_=_.insert(He,mt)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(t,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,f,u))).next(_=>{f.forEach((k,Y)=>{const Ae=Y.getKey();null===_.get(Ae)&&(_=_.insert(Ae,Gr.newInvalidDocument(Ae)))});let R=ul();return _.forEach((k,Y)=>{const Ae=f.get(k);void 0!==Ae&&di(Ae.mutation,Y,ci.empty(),Tr.now()),al(i,Y)&&(R=R.insert(k,Y))}),R})}}class vf{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return yt.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:Yi(u.createTime)}),yt.resolve();var u}getNamedQuery(t,i){return yt.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(u=i).name,query:Si(u.bundledQuery),readTime:Yi(u.readTime)}),yt.resolve();var u}}class eh{constructor(){this.overlays=new ii(Cn.comparator),this.Ir=new Map}getOverlay(t,i){return yt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=ms();return yt.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,f)=>{this.ht(t,i,f)}),yt.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),yt.resolve()}getOverlaysForCollection(t,i,s){const u=ms(),f=i.length+1,_=new Cn(i.child("")),R=this.overlays.getIteratorFrom(_);for(;R.hasNext();){const k=R.getNext().value,Y=k.getKey();if(!i.isPrefixOf(Y.path))break;Y.path.length===f&&k.largestBatchId>s&&u.set(k.getKey(),k)}return yt.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let f=new ii((Y,Ae)=>Y-Ae);const _=this.overlays.getIterator();for(;_.hasNext();){const Y=_.getNext().value;if(Y.getKey().getCollectionGroup()===i&&Y.largestBatchId>s){let Ae=f.get(Y.largestBatchId);null===Ae&&(Ae=ms(),f=f.insert(Y.largestBatchId,Ae)),Ae.set(Y.getKey(),Y)}}const R=ms(),k=f.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((Y,Ae)=>R.set(Y,Ae)),!(R.size()>=u)););return yt.resolve(R)}ht(t,i,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new Hi(i,s));let f=this.Ir.get(i);void 0===f&&(f=Wr(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}class ug{constructor(){this.sessionToken=fe.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,yt.resolve()}}class zo{constructor(){this.Tr=new ui(Eo.Er),this.dr=new ui(Eo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const s=new Eo(t,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Vr(new Eo(t,i))}mr(t,i){t.forEach(s=>this.removeReference(s,i))}gr(t){const i=new Cn(new Qn([])),s=new Eo(i,t),u=new Eo(i,t+1),f=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),f.push(_.key)}),f}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new Cn(new Qn([])),s=new Eo(i,t),u=new Eo(i,t+1);let f=Wr();return this.dr.forEachInRange([s,u],_=>{f=f.add(_.key)}),f}containsKey(t){const i=new Eo(t,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&t.isEqual(s.key)}}class Eo{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return Cn.comparator(t.key,i.key)||jn(t.wr,i.wr)}static Ar(t,i){return jn(t.wr,i.wr)||Cn.comparator(t.key,i.key)}}class Zi{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new ui(Eo.Er)}checkEmpty(t){return yt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,s,u){const f=this.Sr;this.Sr++;const _=new Xi(f,i,s,u);this.mutationQueue.push(_);for(const R of u)this.br=this.br.add(new Eo(R.key,f)),this.indexManager.addToCollectionParentIndex(t,R.key.path.popLast());return yt.resolve(_)}lookupMutationBatch(t,i){return yt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.vr(i+1),f=u<0?0:u;return yt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Eo(i,0),u=new Eo(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],_=>{const R=this.Dr(_.wr);f.push(R)}),yt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new ui(jn);return i.forEach(u=>{const f=new Eo(u,0),_=new Eo(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,_],R=>{s=s.add(R.wr)})}),yt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let f=s;Cn.isDocumentKey(f)||(f=f.child(""));const _=new Eo(new Cn(f),0);let R=new ui(jn);return this.br.forEachWhile(k=>{const Y=k.key.path;return!!s.isPrefixOf(Y)&&(Y.length===u&&(R=R.add(k.wr)),!0)},_),yt.resolve(this.Cr(R))}Cr(t){const i=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){Dt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return yt.forEach(i.mutations,u=>{const f=new Eo(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,i){const s=new Eo(i,0),u=this.br.firstAfterOrEqual(s);return yt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return yt.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class th{constructor(t){this.Mr=t,this.docs=new ii(Cn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,_=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return yt.resolve(s?s.document.mutableCopy():Gr.newInvalidDocument(i))}getEntries(t,i){let s=Go();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Gr.newInvalidDocument(u))}),yt.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let f=Go();const _=i.path,R=new Cn(_.child("")),k=this.docs.getIteratorFrom(R);for(;k.hasNext();){const{key:Y,value:{document:Ae}}=k.getNext();if(!_.isPrefixOf(Y.path))break;Y.path.length>_.length+1||tt(le(Ae),s)<=0||(u.has(Ae.key)||al(i,Ae))&&(f=f.insert(Ae.key,Ae.mutableCopy()))}return yt.resolve(f)}getAllFromCollectionGroup(t,i,s,u){Qt()}Or(t,i){return yt.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new cg(this)}getSize(t){return yt.resolve(this.size)}}class cg extends gf{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),yt.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class nh{constructor(t){this.persistence=t,this.Nr=new Ks(i=>we(i),En),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zo,this.targetCount=0,this.kr=au.Bn()}forEachTarget(t,i){return this.Nr.forEach((s,u)=>i(u)),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),yt.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new au(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,yt.resolve()}updateTargetData(t,i){return this.Kn(i),yt.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,i,s){let u=0;const f=[];return this.Nr.forEach((_,R)=>{R.sequenceNumber<=i&&null===s.get(R.targetId)&&(this.Nr.delete(_),f.push(this.removeMatchingKeysForTargetId(t,R.targetId)),u++)}),yt.waitFor(f).next(()=>u)}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,i){const s=this.Nr.get(i)||null;return yt.resolve(s)}addMatchingKeys(t,i,s){return this.Br.Rr(i,s),yt.resolve()}removeMatchingKeys(t,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(_=>{f.push(u.markPotentiallyOrphaned(t,_))}),yt.waitFor(f)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),yt.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Br.yr(i);return yt.resolve(s)}containsKey(t,i){return yt.resolve(this.Br.containsKey(i))}}class rh{constructor(t,i){this.qr={},this.overlays={},this.Qr=new q(0),this.Kr=!1,this.Kr=!0,this.$r=new ug,this.referenceDelegate=t(this),this.Ur=new nh(this),this.indexManager=new Qa,this.remoteDocumentCache=new th(s=>this.referenceDelegate.Wr(s)),this.serializer=new fl(i),this.Gr=new vf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new eh,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.qr[t.toKey()];return s||(s=new Zi(i,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,s){kt("MemoryPersistence","Starting transaction:",t);const u=new ih(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(t,i){return yt.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,i)))}}class ih extends Fn{constructor(t){super(),this.currentSequenceNumber=t}}class uu{constructor(t){this.persistence=t,this.Jr=new zo,this.Yr=null}static Zr(t){return new uu(t)}get Xr(){if(this.Yr)return this.Yr;throw Qt()}addReference(t,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),yt.resolve()}removeReference(t,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),yt.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),yt.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.Xr,s=>{const u=Cn.fromPath(s);return this.ei(t,u).next(f=>{f||i.removeEntry(u,On.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return yt.or([()=>yt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class Oa{constructor(t){this.serializer=t}O(t,i,s,u){const f=new Cr("createOrUpgrade",i);var k;s<1&&u>=1&&(t.createObjectStore("owner"),(k=t).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",he,{unique:!0}),k.createObjectStore("documentMutations"),dg(t),function(k){k.createObjectStore("remoteDocuments")}(t));let _=yt.resolve();return s<3&&u>=3&&(0!==s&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(t),dg(t)),_=_.next(()=>function(k){const Y=k.store("targetGlobal"),Ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:On.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",Ae)}(f))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(k,Y){return Y.store("mutations").U().next(Ae=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",he,{unique:!0});const He=Y.store("mutations"),mt=Ae.map(Zt=>He.put(Zt));return yt.waitFor(mt)})}(t,f))),_=_.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(_=_.next(()=>this.ni(f))),s<6&&u>=6&&(_=_.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(t),this.ri(f)))),s<7&&u>=7&&(_=_.next(()=>this.ii(f))),s<8&&u>=8&&(_=_.next(()=>this.si(t,f))),s<9&&u>=9&&(_=_.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(_=_.next(()=>this.oi(f))),s<11&&u>=11&&(_=_.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(_=_.next(()=>{!function(k){const Y=k.createObjectStore("documentOverlays",{keyPath:_i});Y.createIndex("collectionPathOverlayIndex",Hr,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",zr,{unique:!1})}(t)})),s<13&&u>=13&&(_=_.next(()=>function(k){const Y=k.createObjectStore("remoteDocumentsV14",{keyPath:zt});Y.createIndex("documentKeyIndex",In),Y.createIndex("collectionGroupIndex",Bn)}(t)).next(()=>this._i(t,f)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(t,f))),s<15&&u>=15&&(_=_.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Ai}).createIndex("sequenceNumberIndex",Fi,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:bi}).createIndex("documentKeyIndex",Zr,{unique:!1})}(t))),s<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(k){k.createObjectStore("globals",{keyPath:"name"})}(t)})),_}ri(t){let i=0;return t.store("remoteDocuments").J((s,u)=>{i+=Ja(u)}).next(()=>{const s={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const i=t.store("mutationQueues"),s=t.store("mutations");return i.U().next(u=>yt.forEach(u,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(R=>yt.forEach(R,k=>{Dt(k.userId===f.userId);const Y=qo(this.serializer,k);return qc(t,f.userId,Y).next(()=>{})}))}))}ii(t){const i=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((_,R)=>{const k=new Qn(_),Y=[0,xe(k)];f.push(i.get(Y).next(Ae=>Ae?yt.resolve():i.put({targetId:0,path:xe(k),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>yt.waitFor(f))})}si(t,i){t.createObjectStore("collectionParents",{keyPath:Vr});const s=i.store("collectionParents"),u=new qd,f=_=>{if(u.add(_)){const R=_.lastSegment(),k=_.popLast();return s.put({collectionId:R,parent:xe(k)})}};return i.store("remoteDocuments").J({H:!0},(_,R)=>{const k=new Qn(_);return f(k.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,R,k],Y)=>{const Ae=yn(R);return f(Ae.popLast())}))}oi(t){const i=t.store("targets");return i.J((s,u)=>{const f=ru(u),_=qa(this.serializer,f);return i.put(_)})}_i(t,i){const s=i.store("remoteDocuments"),u=[];return s.J((f,_)=>{const R=i.store("remoteDocumentsV14"),k=(He=_,He.document?new Cn(Qn.fromString(He.document.name).popFirst(5)):He.noDocument?Cn.fromSegments(He.noDocument.path):He.unknownDocument?Cn.fromSegments(He.unknownDocument.path):Qt()).path.toArray(),Y={prefixPath:k.slice(0,k.length-2),collectionGroup:k[k.length-2],documentId:k[k.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var He;u.push(R.put(Y))}).next(()=>yt.waitFor(u))}ai(t,i){const s=i.store("mutations"),u=Jc(this.serializer),f=new rh(uu.Zr,this.serializer.ct);return s.U().next(_=>{const R=new Map;return _.forEach(k=>{var Y;let Ae=null!==(Y=R.get(k.userId))&&void 0!==Y?Y:Wr();qo(this.serializer,k).keys().forEach(He=>Ae=Ae.add(He)),R.set(k.userId,Ae)}),yt.forEach(R,(k,Y)=>{const Ae=new Je(Y),He=ls.lt(this.serializer,Ae),mt=f.getIndexManager(Ae),Zt=Is.lt(Ae,this.serializer,mt,f.referenceDelegate);return new Zc(u,Zt,He,mt).recalculateAndSaveOverlaysForDocumentKeys(new co(i,q.oe),k).next()})})}}function dg(l){l.createObjectStore("targetDocuments",{keyPath:fr}).createIndex("documentTargetsIndex",ar,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gn,{unique:!0}),l.createObjectStore("targetGlobal")}const vl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ul{constructor(t,i,s,u,f,_,R,k,Y,Ae,He=17){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=s,this.ui=f,this.window=_,this.document=R,this.ci=Y,this.li=Ae,this.hi=He,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=mt=>Promise.resolve(),!Ul.D())throw new Ke(Oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pf(this,u),this.Ai=i+"main",this.serializer=new fl(k),this.Ri=new Nn(this.Ai,this.hi,new Oa(this.serializer)),this.$r=new Wd,this.Ur=new df(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Jc(this.serializer),this.Gr=new Gd,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===Ae&&Mn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(Oe.FAILED_PRECONDITION,vl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new q(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var i=this;return this.di=function(){var s=(0,Ie.A)(function*(u){if(i.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var i=(0,Ie.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,Ie.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Bl(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(i=>this.isPrimary&&!i?this.bi(t).next(()=>!1):!!i&&this.Di(t).next(()=>!0))).catch(t=>{if(oi(t))return kt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Aa(t).get("owner").next(i=>yt.resolve(this.vi(i)))}Ci(t){return Bl(t).delete(this.clientId)}Fi(){var t=this;return(0,Ie.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Di(s,"clientMetadata");return u.U().next(f=>{const _=t.xi(f,18e5),R=f.filter(k=>-1===_.indexOf(k));return yt.forEach(R,k=>u.delete(k.clientId)).next(()=>R)})}).catch(()=>[]);if(t.Vi)for(const s of i)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?yt.resolve(!0):Aa(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Ke(Oe.FAILED_PRECONDITION,vl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bl(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&kt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,Ie.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new co(i,q.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,i){return t.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Bl(t).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,i){return Is.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Xd(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return ls.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,i,s){kt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",f=17===(k=this.hi)?uo:16===k?vo:15===k?wr:14===k?pr:13===k?wi:12===k?Zn:11===k?Ci:void Qt();var k;let _;return this.Ri.runTransaction(t,u,f,R=>(_=new co(R,this.Qr?this.Qr.next():q.oe),"readwrite-primary"===i?this.wi(_).next(k=>!!k||this.Si(_)).next(k=>{if(!k)throw Mn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ke(Oe.FAILED_PRECONDITION,ln);return s(_)}).next(k=>this.Di(_).next(()=>k)):this.Ki(_).next(()=>s(_)))).then(R=>(_.raiseOnCommittedEvent(),R))}Ki(t){return Aa(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ke(Oe.FAILED_PRECONDITION,vl)})}Di(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Aa(t).put("owner",i)}static D(){return Nn.D()}bi(t){const i=Aa(t);return i.get("owner").next(s=>this.vi(s)?(kt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):yt.resolve())}Mi(t,i){const s=Date.now();return!(t<s-i||t>s&&(Mn(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,rt.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(t)));return kt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Mn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Mn("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Aa(l){return Di(l,"owner")}function Bl(l){return Di(l,"clientMetadata")}function ac(l,t){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+t+"/"+i+"/"}class ed{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(t,i){let s=Wr(),u=Wr();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new ed(t,i.fromCache,s,u)}}class hg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $l{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,rt.nr)()?8:Nr((0,rt.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,s,u){const f={result:null};return this.Yi(t,i).next(_=>{f.result=_}).next(()=>{if(!f.result)return this.Zi(t,i,u,s).next(_=>{f.result=_})}).next(()=>{if(f.result)return;const _=new hg;return this.Xi(t,i,_).next(R=>{if(f.result=R,this.zi)return this.es(t,i,_,R.size)})}).next(()=>f.result)}es(t,i,s,u){return s.documentReadCount<this.ji?(Xt()<=Qe.$b.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",Ms(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),yt.resolve()):(Xt()<=Qe.$b.DEBUG&&kt("QueryEngine","Query:",Ms(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Xt()<=Qe.$b.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",Ms(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):yt.resolve())}Yi(t,i){if(ca(i))return yt.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Va(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const _=Wr(...f);return this.Ji.getDocuments(t,_).next(R=>this.indexManager.getMinOffset(t,s).next(k=>{const Y=this.ts(i,R);return this.ns(i,Y,_,k.readTime)?this.Yi(t,Va(i,null,"F")):this.rs(t,Y,i,k)}))})))}Zi(t,i,s,u){return ca(i)||u.isEqual(On.min())?yt.resolve(null):this.Ji.getDocuments(t,s).next(f=>{const _=this.ts(i,f);return this.ns(i,_,s,u)?yt.resolve(null):(Xt()<=Qe.$b.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ms(i)),this.rs(t,_,i,Q(u,-1)).next(R=>R))})}ts(t,i){let s=new ui(Xu(t));return i.forEach((u,f)=>{al(t,f)&&(s=s.add(f))}),s}ns(t,i,s,u){if(null===t.limit)return!1;if(s.size!==i.size)return!0;const f="F"===t.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(t,i,s){return Xt()<=Qe.$b.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",Ms(i)),this.Ji.getDocumentsMatchingQuery(t,i,Xe.min(),s)}rs(t,i,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(f=>(i.forEach(_=>{f=f.insert(_.key,_)}),f))}}class lc{constructor(t,i,s,u){this.persistence=t,this.ss=i,this.serializer=u,this.os=new ii(jn),this._s=new Ks(f=>we(f),En),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zc(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function _f(l,t,i,s){return new lc(l,t,i,s)}function uc(l,t){return td.apply(this,arguments)}function td(){return(td=(0,Ie.A)(function*(l,t){const i=it(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.ls(t),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const _=[],R=[];let k=Wr();for(const Y of u){_.push(Y.batchId);for(const Ae of Y.mutations)k=k.add(Ae.key)}for(const Y of f){R.push(Y.batchId);for(const Ae of Y.mutations)k=k.add(Ae.key)}return i.localDocuments.getDocuments(s,k).next(Y=>({hs:Y,removedBatchIds:_,addedBatchIds:R}))})})})).apply(this,arguments)}function yf(l){const t=it(l);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function p(l,t,i){let s=Wr(),u=Wr();return i.forEach(f=>s=s.add(f)),t.getEntries(l,s).next(f=>{let _=Go();return i.forEach((R,k)=>{const Y=f.get(R);k.isFoundDocument()!==Y.isFoundDocument()&&(u=u.add(R)),k.isNoDocument()&&k.version.isEqual(On.min())?(t.removeEntry(R,k.readTime),_=_.insert(R,k)):!Y.isValidDocument()||k.version.compareTo(Y.version)>0||0===k.version.compareTo(Y.version)&&Y.hasPendingWrites?(t.addEntry(k),_=_.insert(R,k)):kt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Y.version," Watch version:",k.version)}),{Ps:_,Is:u}})}function m(l,t){const i=it(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function D(l,t){const i=it(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,t).next(f=>f?(u=f,yt.resolve(u)):i.Ur.allocateTargetId(s).next(_=>(u=new Ls(t,_,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(t,s.targetId)),s})}function te(l,t,i){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,Ie.A)(function*(l,t,i){const s=it(l),u=s.os.get(t),f=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",f,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!oi(_))throw _;kt("LocalStore",`Failed to update sequence numbers for target ${t}: ${_}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function Rt(l,t,i){const s=it(l);let u=On.min(),f=Wr();return s.persistence.runTransaction("Execute query","readwrite",_=>function(k,Y,Ae){const He=it(k),mt=He._s.get(Ae);return void 0!==mt?yt.resolve(He.os.get(mt)):He.Ur.getTargetData(Y,Ae)}(s,_,Ti(t)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,R.targetId).next(k=>{f=k})}).next(()=>s.ss.getDocumentsMatchingQuery(_,t,i?u:On.min(),i?f:Wr())).next(R=>(hr(s,ha(t),R),{documents:R,Ts:f})))}function rn(l,t){const i=it(l),s=it(i.Ur),u=i.os.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,t).next(_=>_?_.target:null))}function xn(l,t){const i=it(l),s=i.us.get(t)||On.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,t,Q(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(hr(i,t,u),u))}function hr(l,t,i){let s=l.us.get(t)||On.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.us.set(t,s)}function pi(){return(pi=(0,Ie.A)(function*(l,t,i,s){const u=it(l);let f=Wr(),_=Go();for(const Y of i){const Ae=t.Es(Y.metadata.name);Y.document&&(f=f.add(Ae));const He=t.ds(Y);He.setReadTime(t.As(Y.metadata.readTime)),_=_.insert(Ae,He)}const R=u.cs.newChangeBuffer({trackRemovals:!0}),k=yield D(u,(Ae=s,Ti(is(Qn.fromString(`__bundle__/docs/${Ae}`)))));var Ae;return u.persistence.runTransaction("Apply bundle documents","readwrite",Y=>p(Y,R,_).next(Ae=>(R.apply(Y),Ae)).next(Ae=>u.Ur.removeMatchingKeysForTargetId(Y,k.targetId).next(()=>u.Ur.addMatchingKeys(Y,f,k.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Y,Ae.Ps,Ae.Is)).next(()=>Ae.Ps)))})).apply(this,arguments)}function Ys(l,t){return ba.apply(this,arguments)}function ba(){return(ba=(0,Ie.A)(function*(l,t,i=Wr()){const s=yield D(l,Ti(Si(t.bundledQuery))),u=it(l);return u.persistence.runTransaction("Save named query","readwrite",f=>{const _=Yi(t.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(f,t);const R=s.withResumeToken(fe.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(R.targetId,R),u.Ur.updateTargetData(f,R).next(()=>u.Ur.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(f,t))})})).apply(this,arguments)}function cu(l,t){return`firestore_clients_${l}_${t}`}function oh(l,t,i){let s=`firestore_mutations_${l}_${i}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Vs(l,t){return`firestore_targets_${l}_${t}`}class cc{constructor(t,i,s,u){this.user=t,this.batchId=i,this.state=s,this.error=u}static Rs(t,i,s){const u=JSON.parse(s);let f,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(f=new Ke(u.error.code,u.error.message))),_?new cc(t,i,u.state,f):(Mn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class tl{constructor(t,i,s){this.targetId=t,this.state=i,this.error=s}static Rs(t,i){const s=JSON.parse(i);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new Ke(s.error.code,s.error.message))),f?new tl(t,s.state,u):(Mn("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class _l{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Rs(t,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=ea();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=se(s.activeTargetIds[_]),f=f.add(s.activeTargetIds[_]);return u?new _l(t,f):(Mn("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class dc{constructor(t,i){this.clientId=t,this.onlineState=i}static Rs(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new dc(i.clientId,i.onlineState):(Mn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class jl{constructor(){this.activeTargetIds=ea()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Hl{constructor(t,i,s,u,f){this.window=t,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ii(jn),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=cu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new jl),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ie.A)(function*(){const i=yield t.syncEngine.Qi();for(const u of i){if(u===t.ps)continue;const f=t.getItem(cu(t.persistenceKey,u));if(f){const _=_l.Rs(u,f);_&&(t.Ss=t.Ss.insert(_.clientId,_))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,i,s){this.qs(t,i,s),this.Qs(t)}addLocalQueryTarget(t,i=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Vs(this.persistenceKey,t));if(u){const f=tl.Rs(t,u);f&&(s=f.state)}}return i&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Vs(this.persistenceKey,t))}updateQueryState(t,i,s){this.$s(t,i,s)}handleUserChange(t,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return kt("SharedClientState","READ",t,i),i}setItem(t,i){kt("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){kt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var i=this;const s=t;if(s.storageArea===this.storage){if(kt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void Mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Ie.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(_){let R=q.oe;if(null!=_)try{const k=JSON.parse(_);Dt("number"==typeof k),R=k}catch(k){Mn("SharedClientState","Failed to read sequence number from WebStorage",k)}return R}(s.newValue);u!==q.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,i,s){const u=new cc(this.currentUser,t,i,s),f=oh(this.persistenceKey,this.currentUser,t);this.setItem(f,u.Vs())}Qs(t){const i=oh(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,i,s){const u=Vs(this.persistenceKey,t),f=new tl(t,i,s);this.setItem(u,f.Vs())}Ws(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Os,i)}Gs(t){const i=this.Cs.exec(t);return i?i[1]:null}js(t,i){const s=this.Gs(t);return _l.Rs(s,i)}Hs(t,i){const s=this.Fs.exec(t),u=Number(s[1]);return cc.Rs(new Je(void 0!==s[2]?s[2]:null),u,i)}Ys(t,i){const s=this.Ms.exec(t),u=Number(s[1]);return tl.Rs(u,i)}Ls(t){return dc.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var i=this;return(0,Ie.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.no(t.batchId,t.state,t.error);kt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,i){const s=i?this.Ss.insert(t,i):this.Ss.remove(t),u=this.ks(this.Ss),f=this.ks(s),_=[],R=[];return f.forEach(k=>{u.has(k)||_.push(k)}),u.forEach(k=>{f.has(k)||R.push(k)}),this.syncEngine.io(_,R).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let i=ea();return t.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class sh{constructor(){this.so=new jl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,s){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new jl,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class If{_o(t){}shutdown(){}}class hc{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fc=null;function Ef(){return null===fc?fc=268435456+Math.round(2147483648*Math.random()):fc++,"0x"+fc.toString(16)}const u0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Af{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Lo="WebChannelConnection";class c0 extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,s,u,f,_){const R=Ef(),k=this.xo(i,s.toUriEncodedString());kt("RestConnection",`Sending RPC '${i}' ${R}:`,k,u);const Y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(Y,f,_),this.No(i,k,Y,u).then(Ae=>(kt("RestConnection",`Received RPC '${i}' ${R}: `,Ae),Ae),Ae=>{throw en("RestConnection",`RPC '${i}' ${R} failed with error: `,Ae,"url: ",k,"request:",u),Ae})}Lo(i,s,u,f,_,R){return this.Mo(i,s,u,f,_)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+Lt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,_)=>i[_]=f),u&&u.headers.forEach((f,_)=>i[_]=f)}xo(i,s){return`${this.Do}/v1/${s}:${u0[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,s,u){const f=Ef();return new Promise((_,R)=>{const k=new gn;k.setWithCredentials(!0),k.listenOnce(Le.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Ue.NO_ERROR:const Ae=k.getResponseJson();kt(Lo,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(Ae)),_(Ae);break;case Ue.TIMEOUT:kt(Lo,`RPC '${t}' ${f} timed out`),R(new Ke(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ue.HTTP_ERROR:const He=k.getStatus();if(kt(Lo,`RPC '${t}' ${f} failed with status:`,He,"response text:",k.getResponseText()),He>0){let mt=k.getResponseJson();Array.isArray(mt)&&(mt=mt[0]);const Zt=null==mt?void 0:mt.error;if(Zt&&Zt.status&&Zt.message){const Sn=function(Vn){const vr=Vn.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(vr)>=0?vr:Oe.UNKNOWN}(Zt.status);R(new Ke(Sn,Zt.message))}else R(new Ke(Oe.UNKNOWN,"Server responded with status "+k.getStatus()))}else R(new Ke(Oe.UNAVAILABLE,"Connection failed."));break;default:Qt()}}finally{kt(Lo,`RPC '${t}' ${f} completed.`)}});const Y=JSON.stringify(u);kt(Lo,`RPC '${t}' ${f} sending request:`,u),k.send(i,"POST",Y,s,15)})}Bo(t,i,s){const u=Ef(),f=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],_=nt(),R=Be(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(k.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Oo(k.initMessageHeaders,i,s),k.encodeInitMessageHeaders=!0;const Ae=f.join("");kt(Lo,`Creating RPC '${t}' stream ${u}: ${Ae}`,k);const He=_.createWebChannel(Ae,k);let mt=!1,Zt=!1;const Sn=new Af({Io:Vn=>{Zt?kt(Lo,`Not sending because RPC '${t}' stream ${u} is closed:`,Vn):(mt||(kt(Lo,`Opening RPC '${t}' stream ${u} transport.`),He.open(),mt=!0),kt(Lo,`RPC '${t}' stream ${u} sending:`,Vn),He.send(Vn))},To:()=>He.close()}),Kn=(Vn,vr,Pr)=>{Vn.listen(vr,Ir=>{try{Pr(Ir)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return Kn(He,Wt.EventType.OPEN,()=>{Zt||(kt(Lo,`RPC '${t}' stream ${u} transport opened.`),Sn.yo())}),Kn(He,Wt.EventType.CLOSE,()=>{Zt||(Zt=!0,kt(Lo,`RPC '${t}' stream ${u} transport closed`),Sn.So())}),Kn(He,Wt.EventType.ERROR,Vn=>{Zt||(Zt=!0,en(Lo,`RPC '${t}' stream ${u} transport errored:`,Vn),Sn.So(new Ke(Oe.UNAVAILABLE,"The operation could not be completed")))}),Kn(He,Wt.EventType.MESSAGE,Vn=>{var vr;if(!Zt){const Pr=Vn.data[0];Dt(!!Pr);const Fr=Pr.error||(null===(vr=Pr[0])||void 0===vr?void 0:vr.error);if(Fr){kt(Lo,`RPC '${t}' stream ${u} received error:`,Fr);const Ni=Fr.status;let Yr=function(Ot){const jt=Xr[Ot];if(void 0!==jt)return $r(jt)}(Ni),$t=Fr.message;void 0===Yr&&(Yr=Oe.INTERNAL,$t="Unknown error status: "+Ni+" with message "+Fr.message),Zt=!0,Sn.So(new Ke(Yr,$t)),He.close()}else kt(Lo,`RPC '${t}' stream ${u} received:`,Pr),Sn.bo(Pr)}}),Kn(R,de.STAT_EVENT,Vn=>{Vn.stat===ie.PROXY?kt(Lo,`RPC '${t}' stream ${u} detected buffering proxy`):Vn.stat===ie.NOPROXY&&kt(Lo,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Sn.wo()},0),Sn}}function fg(){return typeof window<"u"?window:null}function ah(){return typeof document<"u"?document:null}function yl(l){return new hl(l,!0)}class du{constructor(t,i,s=1e3,u=1.5,f=6e4){this.ui=t,this.timerId=i,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&kt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Xo{constructor(t,i,s,u,f,_,R,k){this.ui=t,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=R,this.listener=k,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new du(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,Ie.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,Ie.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var s=this;return(0,Ie.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():i&&i.code===Oe.RESOURCE_EXHAUSTED?(Mn(i.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===Oe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{t(()=>{const u=new Ke(Oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,i){const s=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,Ie.A)(function*(){t.state=0,t.start()}))}I_(t){return kt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d0 extends Xo{constructor(t,i,s,u,f,_){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,_),this.serializer=f}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function P(l,t){let i;if("targetChange"in t){const s="NO_CHANGE"===(Y=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Qt(),u=t.targetChange.targetIds||[],f=function(Y,Ae){return Y.useProto3Json?(Dt(void 0===Ae||"string"==typeof Ae),fe.fromBase64String(Ae||"")):(Dt(void 0===Ae||Ae instanceof Buffer||Ae instanceof Uint8Array),fe.fromUint8Array(Ae||new Uint8Array))}(l,t.targetChange.resumeToken),_=t.targetChange.cause,R=_&&function(Y){const Ae=void 0===Y.code?Oe.UNKNOWN:$r(Y.code);return new Ke(Ae,Y.message||"")}(_);i=new Fs(s,u,f,R||null)}else if("documentChange"in t){const s=t.documentChange,u=ys(l,s.document.name),f=Yi(s.document.updateTime),_=s.document.createTime?Yi(s.document.createTime):On.min(),R=new wo({mapValue:{fields:s.document.fields}}),k=Gr.newFoundDocument(u,f,_,R);i=new Qs(s.targetIds||[],s.removedTargetIds||[],k.key,k)}else if("documentDelete"in t){const s=t.documentDelete,u=ys(l,s.document),f=s.readTime?Yi(s.readTime):On.min(),_=Gr.newNoDocument(u,f);i=new Qs([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in t){const s=t.documentRemove,u=ys(l,s.document);i=new Qs([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Qt();{const s=t.filter,{count:u=0,unchangedNames:f}=s,_=new Os(u,f);i=new no(s.targetId,_)}}var Y;return i}(this.serializer,t),s=function(f){if(!("targetChange"in f))return On.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?On.min():_.readTime?Yi(_.readTime):On.min()}(t);return this.listener.d_(i,s)}A_(t){const i={};i.database=Zu(this.serializer),i.addTarget=function(f,_){let R;const k=_.target;if(R=dr(k)?{documents:Ee(f,k)}:{query:De(f,k)._t},R.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){R.resumeToken=Ga(f,_.resumeToken);const Y=mo(f,_.expectedCount);null!==Y&&(R.expectedCount=Y)}else if(_.snapshotVersion.compareTo(On.min())>0){R.readTime=ro(f,_.snapshotVersion.toTimestamp());const Y=mo(f,_.expectedCount);null!==Y&&(R.expectedCount=Y)}return R}(this.serializer,t);const s=function Ht(l,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qt()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);s&&(i.labels=s),this.a_(i)}R_(t){const i={};i.database=Zu(this.serializer),i.removeTarget=t,this.a_(i)}}class Rv extends Xo{constructor(t,i,s,u,f,_){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,_),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,Dt(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function B(l,t){return l&&l.length>0?(Dt(void 0!==t),l.map(i=>function(u,f){let _=Yi(u.updateTime?u.updateTime:f);return _.isEqual(On.min())&&(_=Yi(f)),new z(_,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),s=Yi(t.commitTime);return this.listener.g_(s,i)}p_(){const t={};t.database=Zu(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>F(this.serializer,s))};this.a_(i)}}class pg extends class{}{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Ke(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Mo(t,_a(i,s),u,f,_)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ke(Oe.UNKNOWN,f.toString())})}Lo(t,i,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,R])=>this.connection.Lo(t,_a(i,s),u,_,R,f)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Ke(Oe.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class h0{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mn(i),this.D_=!1):kt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Pv{constructor(t,i,s,u,f){var _=this;this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(R=>{s.enqueueAndForget((0,Ie.A)(function*(){var k;fu(_)&&(kt("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,Ie.A)(function*(Ae){const He=it(Ae);He.L_.add(4),yield pc(He),He.q_.set("Unknown"),He.L_.delete(4),yield hu(He)}),function Y(Ae){return k.apply(this,arguments)})(_))}))}),this.q_=new h0(s,u)}}function hu(l){return gg.apply(this,arguments)}function gg(){return(gg=(0,Ie.A)(function*(l){if(fu(l))for(const t of l.B_)yield t(!0)})).apply(this,arguments)}function pc(l){return lh.apply(this,arguments)}function lh(){return(lh=(0,Ie.A)(function*(l){for(const t of l.B_)yield t(!1)})).apply(this,arguments)}function gc(l,t){const i=it(l);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),bf(i)?vg(i):mu(i).r_()&&mg(i,t))}function mc(l,t){const i=it(l),s=mu(i);i.N_.delete(t),s.r_()&&Mv(i,t),0===i.N_.size&&(s.r_()?s.o_():fu(i)&&i.q_.set("Unknown"))}function mg(l,t){if(l.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(On.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mu(l).A_(t)}function Mv(l,t){l.Q_.xe(t),mu(l).R_(t)}function vg(l){l.Q_=new Qu({getRemoteKeysForTarget:t=>l.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>l.N_.get(t)||null,tt:()=>l.datastore.serializer.databaseId}),mu(l).start(),l.q_.v_()}function bf(l){return fu(l)&&!mu(l).n_()&&l.N_.size>0}function fu(l){return 0===it(l).L_.size}function _g(l){l.Q_=void 0}function f0(l){return yg.apply(this,arguments)}function yg(){return(yg=(0,Ie.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function XE(l){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,Ie.A)(function*(l){l.N_.forEach((t,i)=>{mg(l,t)})})).apply(this,arguments)}function xv(l,t){return As.apply(this,arguments)}function As(){return(As=(0,Ie.A)(function*(l,t){_g(l),bf(l)?(l.q_.M_(t),vg(l)):l.q_.set("Unknown")})).apply(this,arguments)}function QE(l,t,i){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,Ie.A)(function*(l,t,i){if(l.q_.set("Online"),t instanceof Fs&&2===t.state&&t.cause)try{yield(s=(0,Ie.A)(function*(f,_){const R=_.cause;for(const k of _.targetIds)f.N_.has(k)&&(yield f.remoteSyncer.rejectListen(k,R),f.N_.delete(k),f.Q_.removeTarget(k))}),function u(f,_){return s.apply(this,arguments)})(l,t)}catch(s){kt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Eg(l,s)}else if(t instanceof Qs?l.Q_.Ke(t):t instanceof no?l.Q_.He(t):l.Q_.We(t),!i.isEqual(On.min()))try{const s=yield yf(l.localStore);i.compareTo(s)>=0&&(yield function(f,_){const R=f.Q_.rt(_);return R.targetChanges.forEach((k,Y)=>{if(k.resumeToken.approximateByteSize()>0){const Ae=f.N_.get(Y);Ae&&f.N_.set(Y,Ae.withResumeToken(k.resumeToken,_))}}),R.targetMismatches.forEach((k,Y)=>{const Ae=f.N_.get(k);if(!Ae)return;f.N_.set(k,Ae.withResumeToken(fe.EMPTY_BYTE_STRING,Ae.snapshotVersion)),Mv(f,k);const He=new Ls(Ae.target,k,Y,Ae.sequenceNumber);mg(f,He)}),f.remoteSyncer.applyRemoteEvent(R)}(l,i))}catch(s){kt("RemoteStore","Failed to raise snapshot:",s),yield Eg(l,s)}var s}),Ig.apply(this,arguments)}function Eg(l,t,i){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,Ie.A)(function*(l,t,i){if(!oi(t))throw t;l.L_.add(1),yield pc(l),l.q_.set("Offline"),i||(i=()=>yf(l.localStore)),l.asyncQueue.enqueueRetryable((0,Ie.A)(function*(){kt("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield hu(l)}))})).apply(this,arguments)}function p0(l,t){return t().catch(i=>Eg(l,i,t))}function pu(l){return wf.apply(this,arguments)}function wf(){return(wf=(0,Ie.A)(function*(l){const t=it(l),i=vu(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;uh(t);)try{const u=yield m(t.localStore,s);if(null===u){0===t.O_.length&&i.o_();break}s=u.batchId,g0(t,u)}catch(u){yield Eg(t,u)}Ov(t)&&gu(t)})).apply(this,arguments)}function uh(l){return fu(l)&&l.O_.length<10}function g0(l,t){l.O_.push(t);const i=vu(l);i.r_()&&i.V_&&i.m_(t.mutations)}function Ov(l){return fu(l)&&!vu(l).n_()&&l.O_.length>0}function gu(l){vu(l).start()}function JE(l){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,Ie.A)(function*(l){vu(l).p_()})).apply(this,arguments)}function Il(l){return nd.apply(this,arguments)}function nd(){return(nd=(0,Ie.A)(function*(l){const t=vu(l);for(const i of l.O_)t.m_(i.mutations)})).apply(this,arguments)}function Nv(l,t,i){return Df.apply(this,arguments)}function Df(){return(Df=(0,Ie.A)(function*(l,t,i){const s=l.O_.shift(),u=Do.from(s,t,i);yield p0(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield pu(l)})).apply(this,arguments)}function YE(l,t){return ch.apply(this,arguments)}function ch(){return ch=(0,Ie.A)(function*(l,t){var i;t&&vu(l).V_&&(yield(i=(0,Ie.A)(function*(u,f){if(Yo(R=f.code)&&R!==Oe.ABORTED){const _=u.O_.shift();vu(u).s_(),yield p0(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,f)),yield pu(u)}var R}),function s(u,f){return i.apply(this,arguments)})(l,t)),Ov(l)&&gu(l)}),ch.apply(this,arguments)}function dh(l,t){return bg.apply(this,arguments)}function bg(){return(bg=(0,Ie.A)(function*(l,t){const i=it(l);i.asyncQueue.verifyOperationInProgress(),kt("RemoteStore","RemoteStore received new credentials");const s=fu(i);i.L_.add(3),yield pc(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield hu(i)})).apply(this,arguments)}function Ao(l,t){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,Ie.A)(function*(l,t){const i=it(l);t?(i.L_.delete(2),yield hu(i)):t||(i.L_.add(2),yield pc(i),i.q_.set("Unknown"))})).apply(this,arguments)}function mu(l){return l.K_||(l.K_=function(i,s,u){const f=it(i);return f.w_(),new d0(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:f0.bind(null,l),Ro:XE.bind(null,l),mo:xv.bind(null,l),d_:QE.bind(null,l)}),l.B_.push(function(){var t=(0,Ie.A)(function*(i){i?(l.K_.s_(),bf(l)?vg(l):l.q_.set("Unknown")):(yield l.K_.stop(),_g(l))});return function(i){return t.apply(this,arguments)}}())),l.K_}function vu(l){return l.U_||(l.U_=function(i,s,u){const f=it(i);return f.w_(),new Rv(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JE.bind(null,l),mo:YE.bind(null,l),f_:Il.bind(null,l),g_:Nv.bind(null,l)}),l.B_.push(function(){var t=(0,Ie.A)(function*(i){i?(l.U_.s_(),yield pu(l)):(yield l.U_.stop(),l.O_.length>0&&(kt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return t.apply(this,arguments)}}())),l.U_}class Cg{constructor(t,i,s,u,f){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,f){const _=Date.now()+s,R=new Cg(t,i,_,u,f);return R.start(s),R}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(Oe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(l,t){if(Mn("AsyncQueue",`${t}: ${l}`),oi(l))return new Ke(Oe.UNAVAILABLE,`${t}: ${l}`);throw l}class vc{constructor(t){this.comparator=t?(i,s)=>t(i,s)||Cn.comparator(i.key,s.key):(i,s)=>Cn.comparator(i.key,s.key),this.keyedMap=ul(),this.sortedSet=new ii(this.comparator)}static emptySet(t){return new vc(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof vc)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const s=new vc;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class wg{constructor(){this.W_=new ii(Cn.comparator)}track(t){const i=t.doc.key,s=this.W_.get(i);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(i):1===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Qt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,s)=>{t.push(s)}),t}}class yu{constructor(t,i,s,u,f,_,R,k,Y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=R,this.excludesMetadataChanges=k,this.hasCachedResults=Y}static fromInitialDocuments(t,i,s,u,f){const _=[];return i.forEach(R=>{_.push({type:0,doc:R})}),new yu(t,i,vc.emptySet(i),_,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ws(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class m0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class v0{constructor(){this.queries=Dg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=it(i),f=u.queries;u.queries=Dg(),f.forEach((_,R)=>{for(const k of R.j_)k.onError(s)})}(this,new Ke(Oe.ABORTED,"Firestore shutting down"))}}function Dg(){return new Ks(l=>gs(l),Ws)}function Sg(l,t){return nl.apply(this,arguments)}function nl(){return(nl=(0,Ie.A)(function*(l,t){const i=it(l);let s=3;const u=t.query;let f=i.queries.get(u);f?!f.H_()&&t.J_()&&(s=2):(f=new m0,s=t.J_()?0:1);try{switch(s){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const R=_u(_,`Initialization of query '${Ms(t.query)}' failed`);return void t.onError(R)}i.queries.set(u,f),f.j_.push(t),t.Z_(i.onlineState),f.z_&&t.X_(f.z_)&&kv(i)})).apply(this,arguments)}function Rg(l,t){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,Ie.A)(function*(l,t){const i=it(l),s=t.query;let u=3;const f=i.queries.get(s);if(f){const _=f.j_.indexOf(t);_>=0&&(f.j_.splice(_,1),0===f.j_.length?u=t.J_()?0:1:!f.H_()&&t.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function ZE(l,t){const i=it(l);let s=!1;for(const u of t){const _=i.queries.get(u.query);if(_){for(const R of _.j_)R.X_(u)&&(s=!0);_.z_=u}}s&&kv(i)}function eA(l,t,i){const s=it(l),u=s.queries.get(t);if(u)for(const f of u.j_)f.onError(i);s.queries.delete(t)}function kv(l){l.Y_.forEach(t=>{t.next()})}var Fv,_0;(_0=Fv||(Fv={})).ea="default",_0.Cache="cache";class Pg{constructor(t,i,s){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new yu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=yu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Fv.Cache}}class rd{constructor(t,i){this.aa=t,this.byteLength=i}ua(){return"metadata"in this.aa}}class id{constructor(t){this.serializer=t}Es(t){return ys(this.serializer,t)}ds(t){return t.metadata.exists?af(this.serializer,t.document,!1):Gr.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Yi(t)}}class Lv{constructor(t,i,s){this.ca=t,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vv(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++i;const s=Qn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(t){const i=new Map,s=new id(this.serializer);for(const u of t)if(u.metadata.queries){const f=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const R=(i.get(_)||Wr()).add(f);i.set(_,R)}}return i}complete(){var t=this;return(0,Ie.A)(function*(){const i=yield function Dr(l,t,i,s){return pi.apply(this,arguments)}(t.localStore,new id(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield Ys(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:i}})()}}function Vv(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Rf{constructor(t){this.key=t}}class od{constructor(t){this.key=t}}class Uv{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Wr(),this.mutatedKeys=Wr(),this.Aa=Xu(t),this.Ra=new vc(this.Aa)}get Va(){return this.Ta}ma(t,i){const s=i?i.fa:new wg,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,_=u,R=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Y="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((Ae,He)=>{const mt=u.get(Ae),Zt=al(this.query,He)?He:null,Sn=!!mt&&this.mutatedKeys.has(mt.key),Kn=!!Zt&&(Zt.hasLocalMutations||this.mutatedKeys.has(Zt.key)&&Zt.hasCommittedMutations);let Vn=!1;mt&&Zt?mt.data.isEqual(Zt.data)?Sn!==Kn&&(s.track({type:3,doc:Zt}),Vn=!0):this.ga(mt,Zt)||(s.track({type:2,doc:Zt}),Vn=!0,(k&&this.Aa(Zt,k)>0||Y&&this.Aa(Zt,Y)<0)&&(R=!0)):!mt&&Zt?(s.track({type:0,doc:Zt}),Vn=!0):mt&&!Zt&&(s.track({type:1,doc:mt}),Vn=!0,(k||Y)&&(R=!0)),Vn&&(Zt?(_=_.add(Zt),f=Kn?f.add(Ae):f.delete(Ae)):(_=_.delete(Ae),f=f.delete(Ae)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const Ae="F"===this.query.limitType?_.last():_.first();_=_.delete(Ae.key),f=f.delete(Ae.key),s.track({type:1,doc:Ae})}return{Ra:_,fa:s,ns:R,mutatedKeys:f}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const f=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const _=t.fa.G_();_.sort((Ae,He)=>function(Zt,Sn){const Kn=Vn=>{switch(Vn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt()}};return Kn(Zt)-Kn(Sn)}(Ae.type,He.type)||this.Aa(Ae.doc,He.doc)),this.pa(s),u=null!=u&&u;const R=i&&!u?this.ya():[],k=0===this.da.size&&this.current&&!u?1:0,Y=k!==this.Ea;return this.Ea=k,0!==_.length||Y?{snapshot:new yu(this.query,t.Ra,f,_,t.mutatedKeys,0===k,Y,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Wr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return t.forEach(s=>{this.da.has(s)||i.push(new od(s))}),this.da.forEach(s=>{t.has(s)||i.push(new Rf(s))}),i}ba(t){this.Ta=t.Ts,this.da=Wr();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return yu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Mg{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Bv{constructor(t){this.key=t,this.va=!1}}class hh{constructor(t,i,s,u,f,_){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new Ks(R=>gs(R),Ws),this.Ma=new Map,this.xa=new Set,this.Oa=new ii(Cn.comparator),this.Na=new Map,this.La=new zo,this.Ba={},this.ka=new Map,this.qa=au.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function fh(l,t){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,Ie.A)(function*(l,t,i=!0){const s=jf(l);let u;const f=s.Fa.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield $v(s,t,i,!0),u})).apply(this,arguments)}function xg(l,t){return Og.apply(this,arguments)}function Og(){return(Og=(0,Ie.A)(function*(l,t){const i=jf(l);yield $v(i,t,!0,!1)})).apply(this,arguments)}function $v(l,t,i,s){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,Ie.A)(function*(l,t,i,s){const u=yield D(l.localStore,Ti(t)),f=u.targetId,_=l.sharedClientState.addLocalQueryTarget(f,i);let R;return s&&(R=yield Mf(l,t,f,"current"===_,u.resumeToken)),l.isPrimaryClient&&i&&gc(l.remoteStore,u),R})).apply(this,arguments)}function Mf(l,t,i,s,u){return ph.apply(this,arguments)}function ph(){return ph=(0,Ie.A)(function*(l,t,i,s,u){l.Ka=(He,mt,Zt)=>{return(Sn=(0,Ie.A)(function*(Vn,vr,Pr,Ir){let Fr=vr.view.ma(Pr);Fr.ns&&(Fr=yield Rt(Vn.localStore,vr.query,!1).then(({documents:ft})=>vr.view.ma(ft,Fr)));const Ni=Ir&&Ir.targetChanges.get(vr.targetId),Yr=Ir&&null!=Ir.targetMismatches.get(vr.targetId),$t=vr.view.applyChanges(Fr,Vn.isPrimaryClient,Ni,Yr);return Vf(Vn,vr.targetId,$t.wa),$t.snapshot}),function Kn(Vn,vr,Pr,Ir){return Sn.apply(this,arguments)})(l,He,mt,Zt);var Sn};const f=yield Rt(l.localStore,t,!0),_=new Uv(t,f.Ts),R=_.ma(f.documents),k=ks.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),Y=_.applyChanges(R,l.isPrimaryClient,k);Vf(l,i,Y.wa);const Ae=new Mg(t,i,_);return l.Fa.set(t,Ae),l.Ma.has(i)?l.Ma.get(i).push(t):l.Ma.set(i,[t]),Y.snapshot}),ph.apply(this,arguments)}function y0(l,t,i){return Us.apply(this,arguments)}function Us(){return(Us=(0,Ie.A)(function*(l,t,i){const s=it(l),u=s.Fa.get(t),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(_=>!Ws(_,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield te(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&mc(s.remoteStore,u.targetId),sd(s,u.targetId)}).catch(nr))):(sd(s,u.targetId),yield te(s.localStore,u.targetId,!0))})).apply(this,arguments)}function kg(l,t){return xf.apply(this,arguments)}function xf(){return(xf=(0,Ie.A)(function*(l,t){const i=it(l),s=i.Fa.get(t),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),mc(i.remoteStore,s.targetId))})).apply(this,arguments)}function jv(){return(jv=(0,Ie.A)(function*(l,t,i){const s=Hf(l);try{const u=yield function(_,R){const k=it(_),Y=Tr.now(),Ae=R.reduce((Zt,Sn)=>Zt.add(Sn.key),Wr());let He,mt;return k.persistence.runTransaction("Locally write mutations","readwrite",Zt=>{let Sn=Go(),Kn=Wr();return k.cs.getEntries(Zt,Ae).next(Vn=>{Sn=Vn,Sn.forEach((vr,Pr)=>{Pr.isValidDocument()||(Kn=Kn.add(vr))})}).next(()=>k.localDocuments.getOverlayedDocuments(Zt,Sn)).next(Vn=>{He=Vn;const vr=[];for(const Pr of R){const Ir=Ei(Pr,He.get(Pr.key).overlayedDocument);null!=Ir&&vr.push(new fi(Pr.key,Ir,Ps(Ir.value.mapValue),ge.exists(!0)))}return k.mutationQueue.addMutationBatch(Zt,Y,vr,R)}).next(Vn=>{mt=Vn;const vr=Vn.applyToLocalDocumentSet(He,Kn);return k.documentOverlayCache.saveOverlays(Zt,Vn.batchId,vr)})}).then(()=>({batchId:mt.batchId,changes:fa(He)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(_,R,k){let Y=_.Ba[_.currentUser.toKey()];Y||(Y=new ii(jn)),Y=Y.insert(R,k),_.Ba[_.currentUser.toKey()]=Y}(s,u.batchId,i),yield Na(s,u.changes),yield pu(s.remoteStore)}catch(u){const f=_u(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function I0(l,t){return us.apply(this,arguments)}function us(){return(us=(0,Ie.A)(function*(l,t){const i=it(l);try{const s=yield function E(l,t){const i=it(l),s=t.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const R=[];t.targetChanges.forEach((Ae,He)=>{const mt=u.get(He);if(!mt)return;R.push(i.Ur.removeMatchingKeys(f,Ae.removedDocuments,He).next(()=>i.Ur.addMatchingKeys(f,Ae.addedDocuments,He)));let Zt=mt.withSequenceNumber(f.currentSequenceNumber);var Kn,Vn,vr;null!==t.targetMismatches.get(He)?Zt=Zt.withResumeToken(fe.EMPTY_BYTE_STRING,On.min()).withLastLimboFreeSnapshotVersion(On.min()):Ae.resumeToken.approximateByteSize()>0&&(Zt=Zt.withResumeToken(Ae.resumeToken,s)),u=u.insert(He,Zt),Vn=Zt,vr=Ae,(0===(Kn=mt).resumeToken.approximateByteSize()||Vn.snapshotVersion.toMicroseconds()-Kn.snapshotVersion.toMicroseconds()>=3e8||vr.addedDocuments.size+vr.modifiedDocuments.size+vr.removedDocuments.size>0)&&R.push(i.Ur.updateTargetData(f,Zt))});let k=Go(),Y=Wr();if(t.documentUpdates.forEach(Ae=>{t.resolvedLimboDocuments.has(Ae)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(f,Ae))}),R.push(p(f,_,t.documentUpdates).next(Ae=>{k=Ae.Ps,Y=Ae.Is})),!s.isEqual(On.min())){const Ae=i.Ur.getLastRemoteSnapshotVersion(f).next(He=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));R.push(Ae)}return yt.waitFor(R).next(()=>_.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,k,Y)).next(()=>k)}).then(f=>(i.os=u,f))}(i.localStore,t);t.targetChanges.forEach((u,f)=>{const _=i.Na.get(f);_&&(Dt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?Dt(_.va):u.removedDocuments.size>0&&(Dt(_.va),_.va=!1))}),yield Na(i,s,t)}catch(s){yield nr(s)}})).apply(this,arguments)}function _c(l,t,i){const s=it(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((f,_)=>{const R=_.view.Z_(t);R.snapshot&&u.push(R.snapshot)}),function(_,R){const k=it(_);k.onlineState=R;let Y=!1;k.queries.forEach((Ae,He)=>{for(const mt of He.j_)mt.Z_(R)&&(Y=!0)}),Y&&kv(k)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function Hv(l,t,i){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,Ie.A)(function*(l,t,i){const s=it(l);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Na.get(t),f=u&&u.key;if(f){let _=new ii(Cn.comparator);_=_.insert(f,Gr.newNoDocument(f,On.min()));const R=Wr().add(f),k=new Xs(On.min(),new Map,new ii(jn),_,R);yield I0(s,k),s.Oa=s.Oa.remove(f),s.Na.delete(t),Uf(s)}else yield te(s.localStore,t,!1).then(()=>sd(s,t,i)).catch(nr)})).apply(this,arguments)}function E0(l,t){return kf.apply(this,arguments)}function kf(){return(kf=(0,Ie.A)(function*(l,t){const i=it(l),s=t.batch.batchId;try{const u=yield function Sv(l,t){const i=it(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(R,k,Y,Ae){const He=Y.batch,mt=He.keys();let Zt=yt.resolve();return mt.forEach(Sn=>{Zt=Zt.next(()=>Ae.getEntry(k,Sn)).next(Kn=>{const Vn=Y.docVersions.get(Sn);Dt(null!==Vn),Kn.version.compareTo(Vn)<0&&(He.applyToRemoteDocument(Kn,Y),Kn.isValidDocument()&&(Kn.setReadTime(Y.commitVersion),Ae.addEntry(Kn)))})}),Zt.next(()=>R.mutationQueue.removeMutationBatch(k,He))}(i,s,t,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let k=Wr();for(let Y=0;Y<R.mutationResults.length;++Y)R.mutationResults[Y].transformResults.length>0&&(k=k.add(R.batch.mutations[Y].key));return k}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,t);Lg(i,s,null),Fg(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Na(i,u)}catch(u){yield nr(u)}})).apply(this,arguments)}function A0(l,t,i){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,Ie.A)(function*(l,t,i){const s=it(l);try{const u=yield function(_,R){const k=it(_);return k.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let Ae;return k.mutationQueue.lookupMutationBatch(Y,R).next(He=>(Dt(null!==He),Ae=He.keys(),k.mutationQueue.removeMutationBatch(Y,He))).next(()=>k.mutationQueue.performConsistencyCheck(Y)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(Y,Ae,R)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,Ae)).next(()=>k.localDocuments.getDocuments(Y,Ae))})}(s.localStore,t);Lg(s,t,i),Fg(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),yield Na(s,u)}catch(u){yield nr(u)}})).apply(this,arguments)}function Lf(){return(Lf=(0,Ie.A)(function*(l,t){const i=it(l);fu(i.remoteStore)||kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const R=it(_);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>R.mutationQueue.getHighestUnacknowledgedBatchId(k))}(i.localStore);if(-1===s)return void t.resolve();const u=i.ka.get(s)||[];u.push(t),i.ka.set(s,u)}catch(s){const u=_u(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function Fg(l,t){(l.ka.get(t)||[]).forEach(i=>{i.resolve()}),l.ka.delete(t)}function Lg(l,t,i){const s=it(l);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(t);f&&(i?f.reject(i):f.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function sd(l,t,i=null){l.sharedClientState.removeLocalQueryTarget(t);for(const s of l.Ma.get(t))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(t),l.isPrimaryClient&&l.La.gr(t).forEach(s=>{l.La.containsKey(s)||zv(l,s)})}function zv(l,t){l.xa.delete(t.path.canonicalString());const i=l.Oa.get(t);null!==i&&(mc(l.remoteStore,i),l.Oa=l.Oa.remove(t),l.Na.delete(i),Uf(l))}function Vf(l,t,i){for(const s of i)s instanceof Rf?(l.La.addReference(s.key,t),Gv(l,s)):s instanceof od?(kt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,t),l.La.containsKey(s.key)||zv(l,s.key)):Qt()}function Gv(l,t){const i=t.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(kt("SyncEngine","New document in limbo: "+i),l.xa.add(s),Uf(l))}function Uf(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const t=l.xa.values().next().value;l.xa.delete(t);const i=new Cn(Qn.fromString(t)),s=l.qa.next();l.Na.set(s,new Bv(i)),l.Oa=l.Oa.insert(i,s),gc(l.remoteStore,new Ls(Ti(is(i.path)),s,"TargetPurposeLimboResolution",q.oe))}}function Na(l,t,i){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Ie.A)(function*(l,t,i){const s=it(l),u=[],f=[],_=[];var R;s.Fa.isEmpty()||(s.Fa.forEach((R,k)=>{_.push(s.Ka(k,t,i).then(Y=>{var Ae;if((Y||i)&&s.isPrimaryClient){const He=Y?!Y.fromCache:null===(Ae=null==i?void 0:i.targetChanges.get(k.targetId))||void 0===Ae?void 0:Ae.current;s.sharedClientState.updateQueryState(k.targetId,He?"current":"not-current")}if(Y){u.push(Y);const He=ed.Wi(k.targetId,Y);f.push(He)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(R=(0,Ie.A)(function*(Y,Ae){const He=it(Y);try{yield He.persistence.runTransaction("notifyLocalViewChanges","readwrite",mt=>yt.forEach(Ae,Zt=>yt.forEach(Zt.$i,Sn=>He.persistence.referenceDelegate.addReference(mt,Zt.targetId,Sn)).next(()=>yt.forEach(Zt.Ui,Sn=>He.persistence.referenceDelegate.removeReference(mt,Zt.targetId,Sn)))))}catch(mt){if(!oi(mt))throw mt;kt("LocalStore","Failed to update sequence numbers: "+mt)}for(const mt of Ae){const Zt=mt.targetId;if(!mt.fromCache){const Sn=He.os.get(Zt),Vn=Sn.withLastLimboFreeSnapshotVersion(Sn.snapshotVersion);He.os=He.os.insert(Zt,Vn)}}}),function k(Y,Ae){return R.apply(this,arguments)})(s.localStore,f))}),Bf.apply(this,arguments)}function Wv(l,t){return $f.apply(this,arguments)}function $f(){return($f=(0,Ie.A)(function*(l,t){const i=it(l);if(!i.currentUser.isEqual(t)){kt("SyncEngine","User change. New user:",t.toKey());const s=yield uc(i.localStore,t);i.currentUser=t,(f=i).ka.forEach(R=>{R.forEach(k=>{k.reject(new Ke(Oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Na(i,s.hs)}var f})).apply(this,arguments)}function Kv(l,t){const i=it(l),s=i.Na.get(t);if(s&&s.va)return Wr().add(s.key);{let u=Wr();const f=i.Ma.get(t);if(!f)return u;for(const _ of f){const R=i.Fa.get(_);u=u.unionWith(R.view.Va)}return u}}function T0(l,t){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,Ie.A)(function*(l,t){const i=it(l),s=yield Rt(i.localStore,t.query,!0),u=t.view.ba(s);return i.isPrimaryClient&&Vf(i,t.targetId,u.wa),u})).apply(this,arguments)}function C0(l,t){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,Ie.A)(function*(l,t){const i=it(l);return xn(i.localStore,t).then(s=>Na(i,s))})).apply(this,arguments)}function qv(l,t,i,s){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,Ie.A)(function*(l,t,i,s){const u=it(l),f=yield function(R,k){const Y=it(R),Ae=it(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",He=>Ae.Mn(He,k).next(mt=>mt?Y.localDocuments.getDocuments(He,mt):yt.resolve(null)))}(u.localStore,t);var k;null!==f?("pending"===i?yield pu(u.remoteStore):"acknowledged"===i||"rejected"===i?(Lg(u,t,s||null),Fg(u,t),k=t,it(it(u.localStore).mutationQueue).On(k)):Qt(),yield Na(u,f)):kt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Bg(){return(Bg=(0,Ie.A)(function*(l,t){const i=it(l);if(jf(i),Hf(i),!0===t&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield Jv(i,s.toArray());i.Qa=!0,yield Ao(i.remoteStore,!0);for(const f of u)gc(i.remoteStore,f)}else if(!1===t&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((f,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(sd(i,_),te(i.localStore,_,!0))),mc(i.remoteStore,_)}),yield u,yield Jv(i,s),function(_){const R=it(_);R.Na.forEach((k,Y)=>{mc(R.remoteStore,Y)}),R.La.pr(),R.Na=new Map,R.Oa=new ii(Cn.comparator)}(i),i.Qa=!1,yield Ao(i.remoteStore,!1)}})).apply(this,arguments)}function Jv(l,t,i){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,Ie.A)(function*(l,t,i){const s=it(l),u=[],f=[];for(const _ of t){let R;const k=s.Ma.get(_);if(k&&0!==k.length){R=yield D(s.localStore,Ti(k[0]));for(const Y of k){const Ae=s.Fa.get(Y),He=yield T0(s,Ae);He.snapshot&&f.push(He.snapshot)}}else{const Y=yield rn(s.localStore,_);R=yield D(s.localStore,Y),yield Mf(s,Zv(Y),_,!1,R.resumeToken)}u.push(R)}return s.Ca.d_(f),u})).apply(this,arguments)}function Zv(l){return Gs(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function e_(l){return i=it(l).localStore,it(it(i).persistence).Qi();var i}function $g(l,t,i,s){return jg.apply(this,arguments)}function jg(){return(jg=(0,Ie.A)(function*(l,t,i,s){const u=it(l);if(u.Qa)return void kt("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(t);if(f&&f.length>0)switch(i){case"current":case"not-current":{const _=yield xn(u.localStore,ha(f[0])),R=Xs.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,fe.EMPTY_BYTE_STRING);yield Na(u,_,R);break}case"rejected":yield te(u.localStore,t,!0),sd(u,t,s);break;default:Qt()}})).apply(this,arguments)}function Iu(l,t,i){return ad.apply(this,arguments)}function ad(){return(ad=(0,Ie.A)(function*(l,t,i){const s=jf(l);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){kt("SyncEngine","Adding an already active target "+u);continue}const f=yield rn(s.localStore,u),_=yield D(s.localStore,f);yield Mf(s,Zv(f),_.targetId,!1,_.resumeToken),gc(s.remoteStore,_)}for(const u of i)s.Ma.has(u)&&(yield te(s.localStore,u,!1).then(()=>{mc(s.remoteStore,u),sd(s,u)}).catch(nr))}})).apply(this,arguments)}function jf(l){const t=it(l);return t.remoteStore.remoteSyncer.applyRemoteEvent=I0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hv.bind(null,t),t.Ca.d_=ZE.bind(null,t.eventManager),t.Ca.$a=eA.bind(null,t.eventManager),t}function Hf(l){const t=it(l);return t.remoteStore.remoteSyncer.applySuccessfulWrite=E0.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=A0.bind(null,t),t}let gh=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,Ie.A)(function*(){s.serializer=yl(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return _f(this.persistence,new $l,i.initialUser,this.serializer)}Ga(i){return new rh(uu.Zr,this.serializer)}Wa(i){return new sh}terminate(){var i=this;return(0,Ie.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class Hg extends gh{constructor(t,i,s){super(),this.Ja=t,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,s=this;return(0,Ie.A)(function*(){yield i().call(s,t),yield s.Ja.initialize(s,t),yield Hf(s.Ja.syncEngine),yield pu(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return _f(this.persistence,new $l,t.initialUser,this.serializer)}ja(t,i){return new Es(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}Ha(t,i){const s=new pe(i,this.persistence);return new xr(t.asyncQueue,s)}Ga(t){const i=ac(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new Ul(this.synchronizeTabs,i,t.clientId,s,t.asyncQueue,fg(),ah(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new sh}}class t_ extends Hg{constructor(t,i){super(t,i,!1),this.Ja=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,s=this;return(0,Ie.A)(function*(){yield i().call(s,t);const u=s.Ja.syncEngine;s.sharedClientState instanceof Hl&&(s.sharedClientState.syncEngine={no:qv.bind(null,u),ro:$g.bind(null,u),io:Iu.bind(null,u),Qi:e_.bind(null,u),eo:C0.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var f=(0,Ie.A)(function*(_){yield function Qv(l,t){return Bg.apply(this,arguments)}(s.Ja.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}Wa(t){const i=fg();if(!Hl.D(i))throw new Ke(Oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ac(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Hl(i,t.asyncQueue,s,t.clientId,t.initialUser)}}let ld=(()=>{class l{initialize(i,s){var u=this;return(0,Ie.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>_c(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=Wv.bind(null,u.syncEngine),yield Ao(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new v0}createDatastore(i){const s=yl(i.databaseInfo.databaseId),u=new c0(i.databaseInfo);return new pg(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,f=this.datastore,_=i.asyncQueue,R=s=>_c(this.syncEngine,s,0),k=hc.D()?new hc:new If,new Pv(u,f,_,R,k);var u,f,_,R,k}createSyncEngine(i,s){return function(f,_,R,k,Y,Ae,He){const mt=new hh(f,_,R,k,Y,Ae);return He&&(mt.Qa=!0),mt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,Ie.A)(function*(){var s,u,f;yield(f=(0,Ie.A)(function*(R){const k=it(R);kt("RemoteStore","RemoteStore shutting down."),k.L_.add(5),yield pc(k),k.k_.shutdown(),k.q_.set("Unknown")}),function _(R){return f.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function w0(l,t=10240){let i=0;return{read:()=>(0,Ie.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+t),done:!1};return i+=t,s}return{done:!0}})(),cancel:()=>(0,Ie.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class zg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Mn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout(()=>{this.muted||t(i)},0)}}class Gf{constructor(t,i){this.Xa=t,this.serializer=i,this.metadata=new cn,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,Ie.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,Ie.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,Ie.A)(function*(){const i=yield t.nu();if(null===i)return null;const s=t.eu.decode(i),u=Number(s);isNaN(u)&&t.ru(`length string (${s}) is not valid number`);const f=yield t.iu(u);return new rd(JSON.parse(f),i.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,Ie.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const i=t.su();i<0&&t.ru("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),s})()}iu(t){var i=this;return(0,Ie.A)(function*(){for(;i.buffer.length<t;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),s})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,Ie.A)(function*(){const i=yield t.Xa.read();if(!i.done){const s=new Uint8Array(t.buffer.length+i.value.length);s.set(t.buffer),s.set(i.value,t.buffer.length),t.buffer=s}return i.done})()}}class D0{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,Ie.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Ke(Oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,Ie.A)(function*(_,R){const k=it(_),Y={documents:R.map(Zt=>Pa(k.serializer,Zt))},Ae=yield k.Lo("BatchGetDocuments",k.serializer.databaseId,Qn.emptyPath(),Y,R.length),He=new Map;Ae.forEach(Zt=>{const Sn=function I(l,t){return"found"in t?function(s,u){Dt(!!u.found);const f=ys(s,u.found.name),_=Yi(u.found.updateTime),R=u.found.createTime?Yi(u.found.createTime):On.min(),k=new wo({mapValue:{fields:u.found.fields}});return Gr.newFoundDocument(f,_,R,k)}(l,t):"missing"in t?function(s,u){Dt(!!u.missing),Dt(!!u.readTime);const f=ys(s,u.missing),_=Yi(u.readTime);return Gr.newNoDocument(f,_)}(l,t):Qt()}(k.serializer,Zt);He.set(Sn.key.toString(),Sn)});const mt=[];return R.forEach(Zt=>{const Sn=He.get(Zt.toString());Dt(!!Sn),mt.push(Sn)}),mt}),function f(_,R){return u.apply(this,arguments)})(i.datastore,t);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ln(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ie.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var s;t.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const f=Cn.fromPath(u);t.mutations.push(new gr(f,t.precondition(f)))}),yield(s=(0,Ie.A)(function*(f,_){const R=it(f),k={writes:_.map(Y=>F(R.serializer,Y))};yield R.Mo("Commit",R.serializer.databaseId,Qn.emptyPath(),k)}),function u(f,_){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Qt();i=On.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new Ke(Oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(On.min())?ge.exists(!1):ge.updateTime(i):ge.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(On.min()))throw new Ke(Oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ge.updateTime(i)}return ge.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Gg{constructor(t,i,s,u,f){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=f,this._u=s.maxAttempts,this.t_=new du(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,Ie.A)(function*(){const i=new D0(t.datastore),s=t.cu(i);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(f=>{t.lu(f)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const i=this.updateFunction(t);return!Re(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Yo(i)}return!1}}class Wg{constructor(t,i,s,u,f){var _=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Je.UNAUTHENTICATED,this.clientId=hi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var R=(0,Ie.A)(function*(k){kt("FirestoreClient","Received user=",k.uid),yield _.authCredentialListener(k),_.user=k});return function(k){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(s,R=>(kt("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=_u(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Eu(l,t){return yc.apply(this,arguments)}function yc(){return yc=(0,Ie.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress(),kt("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield t.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,Ie.A)(function*(f){s.isEqual(f)||(yield uc(t.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=t}),yc.apply(this,arguments)}function mh(l,t){return Au.apply(this,arguments)}function Au(){return(Au=(0,Ie.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress();const i=yield Ic(l);kt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,l.configuration),l.setCredentialChangeListener(s=>dh(t.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>dh(t.remoteStore,u)),l._onlineComponents=t})).apply(this,arguments)}function Ic(l){return bu.apply(this,arguments)}function bu(){return(bu=(0,Ie.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){kt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Eu(l,l._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===Oe.FAILED_PRECONDITION||u.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;en("Error using user provided cache. Falling back to memory cache: "+t),yield Eu(l,new gh)}}else kt("FirestoreClient","Using default OfflineComponentProvider"),yield Eu(l,new gh);var u;return l._offlineComponents})).apply(this,arguments)}function ud(l){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,Ie.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(kt("FirestoreClient","Using user provided OnlineComponentProvider"),yield mh(l,l._uninitializedComponentsProvider._online)):(kt("FirestoreClient","Using default OnlineComponentProvider"),yield mh(l,new ld))),l._onlineComponents})).apply(this,arguments)}function Ac(l){return Ic(l).then(t=>t.persistence)}function zl(l){return Ic(l).then(t=>t.localStore)}function S0(l){return ud(l).then(t=>t.remoteStore)}function vh(l){return ud(l).then(t=>t.syncEngine)}function dd(l){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,Ie.A)(function*(l){const t=yield ud(l),i=t.eventManager;return i.onListen=fh.bind(null,t.syncEngine),i.onUnlisten=y0.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=xg.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=kg.bind(null,t.syncEngine),i})).apply(this,arguments)}function qg(l,t,i={}){const s=new cn;return l.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return function(f,_,R,k,Y){const Ae=new zg({next:mt=>{Ae.Za(),_.enqueueAndForget(()=>Rg(f,He));const Zt=mt.docs.has(R);!Zt&&mt.fromCache?Y.reject(new Ke(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):Zt&&mt.fromCache&&k&&"server"===k.source?Y.reject(new Ke(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(mt)},error:mt=>Y.reject(mt)}),He=new Pg(is(R.path),Ae,{includeMetadataChanges:!0,_a:!0});return Sg(f,He)}(yield dd(l),l.asyncQueue,t,i,s)})),s.promise}function n_(l,t,i={}){const s=new cn;return l.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return function(f,_,R,k,Y){const Ae=new zg({next:mt=>{Ae.Za(),_.enqueueAndForget(()=>Rg(f,He)),mt.fromCache&&"server"===k.source?Y.reject(new Ke(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(mt)},error:mt=>Y.reject(mt)}),He=new Pg(R,Ae,{includeMetadataChanges:!0,_a:!0});return Sg(f,He)}(yield dd(l),l.asyncQueue,t,i,s)})),s.promise}function i_(l){const t={};return void 0!==l.timeoutSeconds&&(t.timeoutSeconds=l.timeoutSeconds),t}const Ih=new Map;function Eh(l,t,i){if(!i)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${t}.`)}function Qg(l,t,i,s){if(!0===t&&!0===s)throw new Ke(Oe.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function o_(l){if(!Cn.isDocumentKey(l))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Jg(l){if(Cn.isDocumentKey(l))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function hd(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const t=(s=l).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof l?"a function":Qt()}function Ri(l,t){if("_delegate"in l&&(l=l._delegate),!(l instanceof t)){if(t.name===l.constructor.name)throw new Ke(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hd(l);throw new Ke(Oe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return l}function Tu(l,t){if(t<=0)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${t}.`)}class Yg{constructor(t){var i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new Ke(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ke(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Qg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=i_(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cu{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yg(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new or;switch(s.type){case"firstParty":return new Er(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ke(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,Ie.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Ih.get(i);s&&(kt("ComponentProvider","Removing Datastore"),Ih.delete(i),s.terminate())}(this),Promise.resolve()}}class cs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new cs(this.firestore,t,this._query)}}class bo{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bo(this.firestore,t,this._key)}}class ka extends cs{constructor(t,i,s){super(t,i,is(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bo(this.firestore,null,new Cn(t))}withConverter(t){return new ka(this.firestore,t,this._path)}}function em(l,t,...i){if(l=(0,rt.Ku)(l),Eh("collection","path",t),l instanceof Cu){const s=Qn.fromString(t,...i);return Jg(s),new ka(l,null,s)}{if(!(l instanceof bo||l instanceof ka))throw new Ke(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Qn.fromString(t,...i));return Jg(s),new ka(l.firestore,null,s)}}function fd(l,t,...i){if(l=(0,rt.Ku)(l),1===arguments.length&&(t=hi.newId()),Eh("doc","path",t),l instanceof Cu){const s=Qn.fromString(t,...i);return o_(s),new bo(l,null,new Cn(s))}{if(!(l instanceof bo||l instanceof ka))throw new Ke(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Qn.fromString(t,...i));return o_(s),new bo(l.firestore,l instanceof ka?l.converter:null,new Cn(s))}}function bc(l,t){return l=(0,rt.Ku)(l),t=(0,rt.Ku)(t),(l instanceof bo||l instanceof ka)&&(t instanceof bo||t instanceof ka)&&l.firestore===t.firestore&&l.path===t.path&&l.converter===t.converter}function tm(l,t){return l=(0,rt.Ku)(l),t=(0,rt.Ku)(t),l instanceof cs&&t instanceof cs&&l.firestore===t.firestore&&Ws(l._query,t._query)&&l.converter===t.converter}class s_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new du(this,"async_queue_retry"),this.Vu=()=>{const s=ah();s&&kt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const i=ah();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=ah();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,Ie.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(i){if(!oi(i))throw i;kt("AsyncQueue","Operation failed with retryable error: "+i)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const i=this.mu.then(()=>(this.du=!0,t().catch(s=>{throw this.Eu=s,this.du=!1,Mn("INTERNAL UNHANDLED ERROR: ",function(_){let R=_.message||"";return _.stack&&(R=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),R}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(t,i,s){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const u=Cg.createAndSchedule(this,t,i,s,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&Qt()}verifyOperationInProgress(){}wu(){var t=this;return(0,Ie.A)(function*(){let i;do{i=t.mu,yield i}while(i!==t.mu)})()}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function a_(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(l)}class qf{constructor(){this._progressObserver={},this._taskCompletionResolver=new cn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,s){this._progressObserver={next:t,error:i,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class lo extends Cu{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new s_,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var t=this;return(0,Ie.A)(function*(){if(t._firestoreClient){const i=t._firestoreClient.terminate();t._queue=new s_(i),t._firestoreClient=void 0,yield i}})()}}function Ro(l){if(l._terminated)throw new Ke(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||l_(l),l._firestoreClient}function l_(l){var t,i,s;const u=l._freezeSettings(),f=(k=(null===(t=l._app)||void 0===t?void 0:t.options.appId)||"",new dn(l._databaseId,k,l._persistenceKey,(Ae=u).host,Ae.ssl,Ae.experimentalForceLongPolling,Ae.experimentalAutoDetectLongPolling,i_(Ae.experimentalLongPollingOptions),Ae.useFetchStreams));var k,Ae;l._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new Wg(l._authCredentials,l._appCheckCredentials,l._queue,f,l._componentsProvider&&function(R){const k=null==R?void 0:R._online.build();return{_offline:null==R?void 0:R._offline.build(k),_online:k}}(l._componentsProvider))}function rm(){return(rm=(0,Ie.A)(function*(l){en("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=l._freezeSettings();u_(l,ld.provider,{build:i=>new t_(i,t.cacheSizeBytes)})})).apply(this,arguments)}function u_(l,t,i){if((l=Ri(l,lo))._firestoreClient||l._terminated)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new Ke(Oe.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:t,_offline:i},l_(l)}class El{constructor(t){this._byteString=t}static fromBase64String(t){try{return new El(fe.fromBase64String(t))}catch(i){throw new Ke(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new El(fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Gl{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Tc{constructor(t){this._methodName=t}}class pd{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Ke(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Ke(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jn(this._lat,t._lat)||jn(this._long,t._long)}}class Fa{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,t._values)}}const bh=/^__.*__$/;class d_{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return null!==this.fieldMask?new fi(t,this.data,this.fieldMask,i,this.fieldTransforms):new Oi(t,this.data,i,this.fieldTransforms)}}class im{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new fi(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function om(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt()}}class sm{constructor(t,i,s,u,f,_){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new sm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.Ou(t),u}Nu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return _d(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(om(this.Cu)&&bh.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class lA{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||yl(t)}Qu(t,i,s,u=!1){return new sm({Cu:t,methodName:i,qu:s,path:Ar.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(l){const t=l._freezeSettings(),i=yl(l._databaseId);return new lA(l._databaseId,!!t.ignoreUndefinedProperties,i)}function md(l,t,i,s,u,f={}){const _=l.Qu(f.merge||f.mergeFields?2:0,t,i,u);hm("Data must be an object, but it was:",_,s);const R=dm(s,_);let k,Y;if(f.merge)k=new ci(_.fieldMask),Y=_.fieldTransforms;else if(f.mergeFields){const Ae=[];for(const He of f.mergeFields){const mt=vd(t,He,i);if(!_.contains(mt))throw new Ke(Oe.INVALID_ARGUMENT,`Field '${mt}' is specified in your field mask but missing from your input data.`);g_(Ae,mt)||Ae.push(mt)}k=new ci(Ae),Y=_.fieldTransforms.filter(He=>k.covers(He.field))}else k=null,Y=_.fieldTransforms;return new d_(new wo(R),k,Y)}class Cc extends Tc{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Cc}}function V0(l,t,i){return new sm({Cu:3,qu:t.settings.qu,methodName:l._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class h_ extends Tc{_toFieldTransform(t){return new W(t.path,new os)}isEqual(t){return t instanceof h_}}class Qf extends Tc{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=V0(this,t,!0),s=this.Ku.map(f=>Du(f,i)),u=new qs(s);return new W(t.path,u)}isEqual(t){return t instanceof Qf&&(0,rt.bD)(this.Ku,t.Ku)}}class am extends Tc{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=V0(this,t,!0),s=this.Ku.map(f=>Du(f,i)),u=new _s(s);return new W(t.path,u)}isEqual(t){return t instanceof am&&(0,rt.bD)(this.Ku,t.Ku)}}class lm extends Tc{constructor(t,i){super(t),this.$u=i}_toFieldTransform(t){const i=new Ra(t.serializer,vs(t.serializer,this.$u));return new W(t.path,i)}isEqual(t){return t instanceof lm&&this.$u===t.$u}}function um(l,t,i,s){const u=l.Qu(1,t,i);hm("Data must be an object, but it was:",u,s);const f=[],_=wo.empty();Qi(s,(k,Y)=>{const Ae=Yf(t,k,i);Y=(0,rt.Ku)(Y);const He=u.Nu(Ae);if(Y instanceof Cc)f.push(Ae);else{const mt=Du(Y,He);null!=mt&&(f.push(Ae),_.set(Ae,mt))}});const R=new ci(f);return new im(_,R,u.fieldTransforms)}function cm(l,t,i,s,u,f){const _=l.Qu(1,t,i),R=[vd(t,s,i)],k=[u];if(f.length%2!=0)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let mt=0;mt<f.length;mt+=2)R.push(vd(t,f[mt])),k.push(f[mt+1]);const Y=[],Ae=wo.empty();for(let mt=R.length-1;mt>=0;--mt)if(!g_(Y,R[mt])){const Zt=R[mt];let Sn=k[mt];Sn=(0,rt.Ku)(Sn);const Kn=_.Nu(Zt);if(Sn instanceof Cc)Y.push(Zt);else{const Vn=Du(Sn,Kn);null!=Vn&&(Y.push(Zt),Ae.set(Zt,Vn))}}const He=new ci(Y);return new im(Ae,He,_.fieldTransforms)}function f_(l,t,i,s=!1){return Du(i,l.Qu(s?4:3,t))}function Du(l,t){if(p_(l=(0,rt.Ku)(l)))return hm("Unsupported field value:",t,l),dm(l,t);if(l instanceof Tc)return function(s,u){if(!om(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(l,t),null;if(void 0===l&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),l instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(s,u){const f=[];let _=0;for(const R of s){let k=Du(R,u.Lu(_));null==k&&(k={nullValue:"NULL_VALUE"}),f.push(k),_++}return{arrayValue:{values:f}}}(l,t)}return function(s,u){if(null===(s=(0,rt.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return vs(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=Tr.fromDate(s);return{timestampValue:ro(u.serializer,f)}}if(s instanceof Tr){const f=new Tr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ro(u.serializer,f)}}if(s instanceof pd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof El)return{bytesValue:Ga(u.serializer,s._byteString)};if(s instanceof bo){const f=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(f))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:ss(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Fa)return R=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(k=>{if("number"!=typeof k)throw R.Bu("VectorValues must only contain numeric values.");return Sa(R.serializer,k)})}}}}};var R;throw u.Bu(`Unsupported field value: ${hd(s)}`)}(l,t)}function dm(l,t){const i={};return Mo(l)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qi(l,(s,u)=>{const f=Du(u,t.Mu(s));null!=f&&(i[s]=f)}),{mapValue:{fields:i}}}function p_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Tr||l instanceof pd||l instanceof El||l instanceof bo||l instanceof Tc||l instanceof Fa)}function hm(l,t,i){if(!p_(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=hd(i);throw t.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function vd(l,t,i){if((t=(0,rt.Ku)(t))instanceof Gl)return t._internalPath;if("string"==typeof t)return Yf(l,t);throw _d("Field path arguments must be of type string or ",l,!1,void 0,i)}const Jf=new RegExp("[~\\*/\\[\\]]");function Yf(l,t,i){if(t.search(Jf)>=0)throw _d(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new Gl(...t.split("."))._internalPath}catch{throw _d(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function _d(l,t,i,s,u){const f=s&&!s.isEmpty(),_=void 0!==u;let R=`Function ${t}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let k="";return(f||_)&&(k+=" (found",f&&(k+=` in field ${s}`),_&&(k+=` in document ${u}`),k+=")"),new Ke(Oe.INVALID_ARGUMENT,R+l+k)}function g_(l,t){return l.some(i=>i.isEqual(t))}class Al{constructor(t,i,s,u,f){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new bo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new U0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Zf("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class U0 extends Al{data(){return super.data()}}function Zf(l,t){return"string"==typeof t?Yf(l,t):t instanceof Gl?t._internalPath:t._delegate._internalPath}function fm(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Ke(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ep{}class Th extends ep{}function Su(l,t,...i){let s=[];t instanceof ep&&s.push(t),s=s.concat(i),function(f){const _=f.filter(k=>k instanceof wc).length,R=f.filter(k=>k instanceof Ch).length;if(_>1||_>0&&R>0)throw new Ke(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class Ch extends Th{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Ch(t,i,s)}_apply(t){const i=this._parse(t);return op(t._query,i),new cs(t.firestore,t.converter,go(t._query,i))}_parse(t){const i=gd(t.firestore);return function(f,_,R,k,Y,Ae,He){let mt;if(Y.isKeyField()){if("array-contains"===Ae||"array-contains-any"===Ae)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ae}' queries on documentId().`);if("in"===Ae||"not-in"===Ae){q0(He,Ae);const Zt=[];for(const Sn of He)Zt.push(K0(k,f,Sn));mt={arrayValue:{values:Zt}}}else mt=K0(k,f,He)}else"in"!==Ae&&"not-in"!==Ae&&"array-contains-any"!==Ae||q0(He,Ae),mt=f_(R,"where",He,"in"===Ae||"not-in"===Ae);return A.create(Y,Ae,mt)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class wc extends ep{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new wc(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:j.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,f){let _=u;const R=f.getFlattenedFilters();for(const k of R)op(_,k),_=go(_,k)}(t._query,i),new cs(t.firestore,t.converter,go(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dc extends Th{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Dc(t,i)}_apply(t){const i=function(u,f,_){if(null!==u.startAt)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ae(f,_)}(t._query,this._field,this._direction);return new cs(t.firestore,t.converter,function(u,f){const _=u.explicitOrderBy.concat([f]);return new Io(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}class tp extends Th{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new tp(t,i,s)}_apply(t){return new cs(t.firestore,t.converter,Va(t._query,this._limit,this._limitType))}}class np extends Th{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new np(t,i,s)}_apply(t){const i=ip(t,this.type,this._docOrFields,this._inclusive);return new cs(t.firestore,t.converter,(f=i,new Io((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class rp extends Th{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new rp(t,i,s)}_apply(t){const i=ip(t,this.type,this._docOrFields,this._inclusive);return new cs(t.firestore,t.converter,(f=i,new Io((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function ip(l,t,i,s){if(i[0]=(0,rt.Ku)(i[0]),i[0]instanceof Al)return function(f,_,R,k,Y){if(!k)throw new Ke(Oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const Ae=[];for(const He of qr(f))if(He.field.isKeyField())Ae.push(oo(_,k.key));else{const mt=k.data.field(He.field);if(Ye(mt))throw new Ke(Oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+He.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===mt){const Zt=He.field.canonicalString();throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Zt}' (used as the orderBy) does not exist.`)}Ae.push(mt)}return new ei(Ae,Y)}(l._query,l.firestore._databaseId,t,i[0]._document,s);{const u=gd(l.firestore);return function(_,R,k,Y,Ae,He){const mt=_.explicitOrderBy;if(Ae.length>mt.length)throw new Ke(Oe.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Zt=[];for(let Sn=0;Sn<Ae.length;Sn++){const Kn=Ae[Sn];if(mt[Sn].field.isKeyField()){if("string"!=typeof Kn)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof Kn}`);if(!da(_)&&-1!==Kn.indexOf("/"))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${Kn}' contains a slash.`);const Vn=_.path.child(Qn.fromString(Kn));if(!Cn.isDocumentKey(Vn))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Vn}' is not because it contains an odd number of segments.`);const vr=new Cn(Vn);Zt.push(oo(R,vr))}else{const Vn=f_(k,Y,Kn);Zt.push(Vn)}}return new ei(Zt,He)}(l._query,l.firestore._databaseId,u,t,i,s)}}function K0(l,t,i){if("string"==typeof(i=(0,rt.Ku)(i))){if(""===i)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!da(t)&&-1!==i.indexOf("/"))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Qn.fromString(i));if(!Cn.isDocumentKey(s))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return oo(l,new Cn(s))}if(i instanceof bo)return oo(l,i._key);throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(i)}.`)}function q0(l,t){if(!Array.isArray(l)||0===l.length)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function op(l,t){const i=function(u,f){for(const _ of u)for(const R of _.getFlattenedFilters())if(f.indexOf(R.op)>=0)return R.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Ke(Oe.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class v_{convertValue(t,i="none"){switch($n(t)){case 0:return null;case 1:return t.booleanValue;case 2:return V(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ve(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Qt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Qi(t,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertVectorValue(t){var i,s,u;const f=null===(u=null===(s=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>V(_.doubleValue));return new Fa(f)}convertGeoPoint(t){return new pd(V(t.latitude),V(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=bt(t);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(It(t));default:return null}}convertTimestamp(t){const i=T(t);return new Tr(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Qn.fromString(t);Dt(Ko(s));const u=new Ut(s.get(1),s.get(3)),f=new Cn(s.popFirst(5));return u.isEqual(i)||Mn(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function pm(l,t,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(t,i):l.toFirestore(t):t,s}class uA extends v_{constructor(t){super(),this.firestore=t}convertBytes(t){return new El(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new bo(this.firestore,null,i)}}class Ru{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bl extends Al{constructor(t,i,s,u,f,_){super(t,i,s,u,_),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Zf("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class wh extends bl{data(t={}){return super.data(t)}}class Pu{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ru(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new wh(this._firestore,this._userDataWriter,s.key,s,new Ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ke(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new wh(u._firestore,u._userDataWriter,R.doc.key,R.doc,new Ru(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>f||3!==R.type).map(R=>{const k=new wh(u._firestore,u._userDataWriter,R.doc.key,R.doc,new Ru(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let Y=-1,Ae=-1;return 0!==R.type&&(Y=_.indexOf(R.doc.key),_=_.delete(R.doc.key)),1!==R.type&&(_=_.add(R.doc),Ae=_.indexOf(R.doc.key)),{type:__(R.type),doc:k,oldIndex:Y,newIndex:Ae}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function __(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt()}}function Sc(l,t){return l instanceof bl&&t instanceof bl?l._firestore===t._firestore&&l._key.isEqual(t._key)&&(null===l._document?null===t._document:l._document.isEqual(t._document))&&l._converter===t._converter:l instanceof Pu&&t instanceof Pu&&l._firestore===t._firestore&&tm(l.query,t.query)&&l.metadata.isEqual(t.metadata)&&l._snapshot.isEqual(t._snapshot)}class Qo extends v_{constructor(t){super(),this.firestore=t}convertBytes(t){return new El(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new bo(this.firestore,null,i)}}function mm(l,t,i){l=Ri(l,bo);const s=Ri(l.firestore,lo),u=pm(l.converter,t,i);return yd(s,[md(gd(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,ge.none())])}function vm(l,t,i,...s){l=Ri(l,bo);const u=Ri(l.firestore,lo),f=gd(u);let _;return _="string"==typeof(t=(0,rt.Ku)(t))||t instanceof Gl?cm(f,"updateDoc",l._key,t,i,s):um(f,"updateDoc",l._key,t),yd(u,[_.toMutation(l._key,ge.exists(!0))])}function lp(l,...t){var i,s,u;l=(0,rt.Ku)(l);let f={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof t[_]||a_(t[_])||(f=t[_],_++);const R={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(a_(t[_])){const He=t[_];t[_]=null===(i=He.next)||void 0===i?void 0:i.bind(He),t[_+1]=null===(s=He.error)||void 0===s?void 0:s.bind(He),t[_+2]=null===(u=He.complete)||void 0===u?void 0:u.bind(He)}let k,Y,Ae;if(l instanceof bo)Y=Ri(l.firestore,lo),Ae=is(l._key.path),k={next:He=>{t[_]&&t[_](Mu(Y,l,He))},error:t[_+1],complete:t[_+2]};else{const He=Ri(l,cs);Y=Ri(He.firestore,lo),Ae=He._query;const mt=new Qo(Y);k={next:Zt=>{t[_]&&t[_](new Pu(Y,mt,He,Zt))},error:t[_+1],complete:t[_+2]},fm(l._query)}return function(mt,Zt,Sn,Kn){const Vn=new zg(Kn),vr=new Pg(Zt,Vn,Sn);return mt.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return Sg(yield dd(mt),vr)})),()=>{Vn.Za(),mt.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return Rg(yield dd(mt),vr)}))}}(Ro(Y),Ae,R,k)}function yd(l,t){return function(s,u){const f=new cn;return s.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return function Of(l,t,i){return jv.apply(this,arguments)}(yield vh(s),u,f)})),f.promise}(Ro(l),t)}function Mu(l,t,i){const s=i.docs.get(t._key),u=new Qo(l);return new bl(l,u,t._key,s,new Ru(i.hasPendingWrites,i.fromCache),t.converter)}const nI={maxAttempts:5};class b_{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=gd(t)}set(t,i,s){this._verifyNotCommitted();const u=Tl(t,this._firestore),f=pm(u.converter,i,s),_=md(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,ge.none())),this}update(t,i,s,...u){this._verifyNotCommitted();const f=Tl(t,this._firestore);let _;return _="string"==typeof(i=(0,rt.Ku)(i))||i instanceof Gl?cm(this._dataReader,"WriteBatch.update",f._key,i,s,u):um(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(_.toMutation(f._key,ge.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Tl(t,this._firestore);return this._mutations=this._mutations.concat(new Ln(i._key,ge.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(Oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tl(l,t){if((l=(0,rt.Ku)(l)).firestore!==t)throw new Ke(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class T_ extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=gd(i)}get(i){const s=Tl(i,this._firestore),u=new uA(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Qt();const _=f[0];if(_.isFoundDocument())return new Al(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new Al(this._firestore,u,s._key,null,s.converter);throw Qt()})}set(i,s,u){const f=Tl(i,this._firestore),_=pm(f.converter,s,u),R=md(this._dataReader,"Transaction.set",f._key,_,null!==f.converter,u);return this._transaction.set(f._key,R),this}update(i,s,u,...f){const _=Tl(i,this._firestore);let R;return R="string"==typeof(s=(0,rt.Ku)(s))||s instanceof Gl?cm(this._dataReader,"Transaction.update",_._key,s,u,f):um(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,R),this}delete(i){const s=Tl(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Tl(t,this._firestore),s=new Qo(this._firestore);return super.get(t).then(u=>new bl(this._firestore,s,i._key,u._document,new Ru(!1,!1),i.converter))}}function gp(l,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return t}function li(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function wm(){if(!function Z(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){Lt=Te.SDK_VERSION,(0,Te._registerComponent)(new Ne.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const _=s.getProvider("app").getImmediate(),R=new lo(new Un(s.getProvider("auth-internal")),new cr(s.getProvider("app-check-internal")),function(Y,Ae){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new Ke(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ut(Y.options.projectId,Ae)}(_,u),_);return f=Object.assign({useFetchStreams:i},f),R._setSettings(f),R},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(At,"4.7.3",t),(0,Te.registerVersion)(At,"4.7.3","esm2017")}();class Ed{constructor(t){this._delegate=t}static fromBase64String(t){return wm(),new Ed(El.fromBase64String(t))}static fromUint8Array(t){return li(),new Ed(El.fromUint8Array(t))}toBase64(){return wm(),this._delegate.toBase64()}toUint8Array(){return li(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xu(l){return function M_(l,t){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of t)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class x_{enableIndexedDbPersistence(t,i){return function k0(l,t){en("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings();return u_(l,ld.provider,{build:s=>new Hg(s,i.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function F0(l){return rm.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function wu(l){if(l._initialized&&!l._terminated)throw new Ke(Oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new cn;return l._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.A)(function*(){try{yield(i=(0,Ie.A)(function*(u){if(!Nn.D())return Promise.resolve();const f=u+"main";yield Nn.delete(f)}),function s(u){return i.apply(this,arguments)})(ac(l._databaseId,l._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class O_{constructor(t,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ut||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&en("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,s={}){!function Zg(l,t,i,s={}){var u;const f=(l=Ri(l,Cu))._getSettings(),_=`${t}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==_&&en("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},f),{host:_,ssl:!1})),s.mockUserToken){let R,k;if("string"==typeof s.mockUserToken)R=s.mockUserToken,k=Je.MOCK_USER;else{R=(0,rt.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const Y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Y)throw new Ke(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Je(Y)}l._authCredentials=new ir(new qt(R,k))}}(this._delegate,t,i,s)}enableNetwork(){return function L0(l){return function R0(l){return l.asyncQueue.enqueue((0,Ie.A)(function*(){const t=yield Ac(l),i=yield S0(l);return t.setNetworkEnabled(!0),function(u){const f=it(u);return f.L_.delete(0),hu(f)}(i)}))}(Ro(l=Ri(l,lo)))}(this._delegate)}disableNetwork(){return function iA(l){return function P0(l){return l.asyncQueue.enqueue((0,Ie.A)(function*(){const t=yield Ac(l),i=yield S0(l);return t.setNetworkEnabled(!1),(s=(0,Ie.A)(function*(f){const _=it(f);_.L_.add(0),yield pc(_),_.q_.set("Offline")}),function u(f){return s.apply(this,arguments)})(i);var s}))}(Ro(l=Ri(l,lo)))}(this._delegate)}enablePersistence(t){let i=!1,s=!1;return t&&(i=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,Qg("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ah(l){return function(i){const s=new cn;return i.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return function b0(l,t){return Lf.apply(this,arguments)}(yield vh(i),s)})),s.promise}(Ro(l=Ri(l,lo)))}(this._delegate)}onSnapshotsInSync(t){return function _m(l,t){return function r_(l,t){const i=new zg(t);return l.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return u=yield dd(l),f=i,it(u).Y_.add(f),void f.next();var u,f})),()=>{i.Za(),l.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return u=yield dd(l),f=i,void it(u).Y_.delete(f);var u,f}))}}(Ro(l=Ri(l,lo)),a_(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new bd(this,em(this._delegate,t))}catch(i){throw bs(i,"collection()","Firestore.collection()")}}doc(t){try{return new sa(this,fd(this._delegate,t))}catch(i){throw bs(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Zs(this,function Kf(l,t){if(l=Ri(l,Cu),Eh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(l,null,(s=t,new Io(Qn.emptyPath(),s)));var s}(this._delegate,t))}catch(i){throw bs(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Rc(l,t,i){l=Ri(l,lo);const s=Object.assign(Object.assign({},nI),i);return function(f){if(f.maxAttempts<1)throw new Ke(Oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,_,R){const k=new cn;return f.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){const Y=yield function cd(l){return ud(l).then(t=>t.datastore)}(f);new Gg(f.asyncQueue,Y,R,_,k).au()})),k.promise}(Ro(l),u=>t(new T_(l,u)),s)}(this._delegate,i=>t(new mp(this,i)))}batch(){return Ro(this._delegate),new Ad(new b_(this._delegate,t=>yd(this._delegate,t)))}loadBundle(t){return function oA(l,t){const i=Ro(l=Ri(l,lo)),s=new qf;return function Xg(l,t,i,s){const u=function(_,R){let k;return k="string"==typeof _?Ns().encode(_):_,Ae=function(Ae){if(Ae instanceof Uint8Array)return w0(Ae,void 0);if(Ae instanceof ArrayBuffer)return w0(new Uint8Array(Ae),void 0);if(Ae instanceof ReadableStream)return Ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new Gf(Ae,R);var Ae}(i,yl(t));l.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){!function zf(l,t,i){const s=it(l);var u;(u=(0,Ie.A)(function*(_,R,k){try{const Y=yield R.getMetadata();if(yield function(Sn,Kn){const Vn=it(Sn),vr=Yi(Kn.createTime);return Vn.persistence.runTransaction("hasNewerBundle","readonly",Pr=>Vn.Gr.getBundleMetadata(Pr,Kn.id)).then(Pr=>!!Pr&&Pr.createTime.compareTo(vr)>=0)}(_.localStore,Y))return yield R.close(),k._completeWith({taskState:"Success",documentsLoaded:(Sn=Y).totalDocuments,bytesLoaded:Sn.totalBytes,totalDocuments:Sn.totalDocuments,totalBytes:Sn.totalBytes}),Promise.resolve(new Set);k._updateProgress(Vv(Y));const Ae=new Lv(Y,_.localStore,R.serializer);let He=yield R.Ua();for(;He;){const Zt=yield Ae.la(He);Zt&&k._updateProgress(Zt),He=yield R.Ua()}const mt=yield Ae.complete();return yield Na(_,mt.Ia,void 0),yield function(Sn,Kn){const Vn=it(Sn);return Vn.persistence.runTransaction("Save bundle","readwrite",vr=>Vn.Gr.saveBundleMetadata(vr,Kn))}(_.localStore,Y),k._completeWith(mt.progress),Promise.resolve(mt.Pa)}catch(Y){return en("SyncEngine",`Loading bundle failed with ${Y}`),k._failWith(Y),Promise.resolve(new Set)}var Sn}),function f(_,R,k){return u.apply(this,arguments)})(s,t,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield vh(l),u,s)}))}(i,l._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function sA(l,t){return function x0(l,t){return l.asyncQueue.enqueue((0,Ie.A)(function*(){return function(s,u){const f=it(s);return f.persistence.runTransaction("Get named query","readonly",_=>f.Gr.getNamedQuery(_,u))}(yield zl(l),t)}))}(Ro(l=Ri(l,lo)),t).then(i=>i?new cs(l,null,i.query):null)}(this._delegate,t).then(i=>i?new Zs(this,i):null)}}class Pc extends v_{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ed(new El(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return sa.forKey(i,this.firestore,null)}}class mp{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new Pc(t)}get(t){const i=Oc(t);return this._delegate.get(i).then(s=>new xc(this._firestore,new bl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(t,i,s){const u=Oc(t);return s?(gp("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const f=Oc(t);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(t){const i=Oc(t);return this._delegate.delete(i),this}}class Ad{constructor(t){this._delegate=t}set(t,i,s){const u=Oc(t);return s?(gp("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const f=Oc(t);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(t){const i=Oc(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Ou{constructor(t,i,s){this._firestore=t,this._userDataWriter=i,this._delegate=s}fromFirestore(t,i){const s=new wh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Sh(this._firestore,s),null!=i?i:{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const s=Ou.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let f=u.get(i);return f||(f=new Ou(t,new Pc(t),i),u.set(i,f)),f}}Ou.INSTANCES=new WeakMap;class sa{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new Pc(t)}static forPath(t,i,s){if(t.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new sa(i,new bo(i._delegate,s,new Cn(t)))}static forKey(t,i,s){return new sa(i,new bo(i._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new bd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new bd(this.firestore,em(this._delegate,t))}catch(i){throw bs(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,rt.Ku)(t))instanceof bo&&bc(this._delegate,t)}set(t,i){i=gp("DocumentReference.set",i);try{return i?mm(this._delegate,t,i):mm(this._delegate,t)}catch(s){throw bs(s,"setDoc()","DocumentReference.set()")}}update(t,i,...s){try{return 1===arguments.length?vm(this._delegate,t):vm(this._delegate,t,i,...s)}catch(u){throw bs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function pA(l){return yd(Ri(l.firestore,lo),[new Ln(l._key,ge.none())])}(this._delegate)}onSnapshot(...t){const i=vp(t),s=Dm(t,u=>new xc(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return lp(this._delegate,i,s)}get(t){let i;return i="cache"===(null==t?void 0:t.source)?function y_(l){l=Ri(l,bo);const t=Ri(l.firestore,lo),i=Ro(t),s=new Qo(t);return function Kg(l,t){const i=new cn;return l.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return(s=(0,Ie.A)(function*(f,_,R){try{const k=yield function(Ae,He){const mt=it(Ae);return mt.persistence.runTransaction("read document","readonly",Zt=>mt.localDocuments.getDocument(Zt,He))}(f,_);k.isFoundDocument()?R.resolve(k):k.isNoDocument()?R.resolve(null):R.reject(new Ke(Oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const Y=_u(k,`Failed to get document '${_} from cache`);R.reject(Y)}}),function u(f,_,R){return s.apply(this,arguments)})(yield zl(l),t,i);var s})),i.promise}(i,l._key).then(u=>new bl(t,s,l._key,u,new Ru(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function dA(l){l=Ri(l,bo);const t=Ri(l.firestore,lo);return qg(Ro(t),l._key,{source:"server"}).then(i=>Mu(t,l,i))}(this._delegate):function Ta(l){l=Ri(l,bo);const t=Ri(l.firestore,lo);return qg(Ro(t),l._key).then(i=>Mu(t,l,i))}(this._delegate),i.then(s=>new xc(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new sa(this.firestore,this._delegate.withConverter(t?Ou.getInstance(this.firestore,t):null))}}function bs(l,t,i){return l.message=l.message.replace(t,i),l}function vp(l){for(const t of l)if("object"==typeof t&&!xu(t))return t;return{}}function Dm(l,t){var i,s;let u;return u=xu(l[0])?l[0]:xu(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:f=>{u.next&&u.next(t(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class xc{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return Sc(this._delegate,t._delegate)}}class Sh extends xc{data(t){const i=this._delegate.data(t);return this._delegate._converter||function vn(l){l||Qt()}(void 0!==i),i}}class Zs{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new Pc(t)}where(t,i,s){try{return new Zs(this.firestore,Su(this._delegate,function B0(l,t,i){const s=t,u=Zf("where",l);return Ch._create(u,s,i)}(t,i,s)))}catch(u){throw bs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new Zs(this.firestore,Su(this._delegate,function $0(l,t="asc"){const i=t,s=Zf("orderBy",l);return Dc._create(s,i)}(t,i)))}catch(s){throw bs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Zs(this.firestore,Su(this._delegate,function j0(l){return Tu("limit",l),tp._create("limit",l,"F")}(t)))}catch(i){throw bs(i,"limit()","Query.limit()")}}limitToLast(t){try{return new Zs(this.firestore,Su(this._delegate,function m_(l){return Tu("limitToLast",l),tp._create("limitToLast",l,"L")}(t)))}catch(i){throw bs(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Zs(this.firestore,Su(this._delegate,function H0(...l){return np._create("startAt",l,!0)}(...t)))}catch(i){throw bs(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Zs(this.firestore,Su(this._delegate,function z0(...l){return np._create("startAfter",l,!1)}(...t)))}catch(i){throw bs(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Zs(this.firestore,Su(this._delegate,function G0(...l){return rp._create("endBefore",l,!1)}(...t)))}catch(i){throw bs(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Zs(this.firestore,Su(this._delegate,function W0(...l){return rp._create("endAt",l,!0)}(...t)))}catch(i){throw bs(i,"endAt()","Query.endAt()")}}isEqual(t){return tm(this._delegate,t._delegate)}get(t){let i;return i="cache"===(null==t?void 0:t.source)?function hA(l){l=Ri(l,cs);const t=Ri(l.firestore,lo),i=Ro(t),s=new Qo(t);return function M0(l,t){const i=new cn;return l.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return(s=(0,Ie.A)(function*(f,_,R){try{const k=yield Rt(f,_,!0),Y=new Uv(_,k.Ts),Ae=Y.ma(k.documents),He=Y.applyChanges(Ae,!1);R.resolve(He.snapshot)}catch(k){const Y=_u(k,`Failed to execute query '${_} against cache`);R.reject(Y)}}),function u(f,_,R){return s.apply(this,arguments)})(yield zl(l),t,i);var s})),i.promise}(i,l._query).then(u=>new Pu(t,s,l,u))}(this._delegate):"server"===(null==t?void 0:t.source)?function fA(l){l=Ri(l,cs);const t=Ri(l.firestore,lo),i=Ro(t),s=new Qo(t);return n_(i,l._query,{source:"server"}).then(u=>new Pu(t,s,l,u))}(this._delegate):function J0(l){l=Ri(l,cs);const t=Ri(l.firestore,lo),i=Ro(t),s=new Qo(t);return fm(l._query),n_(i,l._query).then(u=>new Pu(t,s,l,u))}(this._delegate),i.then(s=>new _p(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const i=vp(t),s=Dm(t,u=>new _p(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return lp(this._delegate,i,s)}withConverter(t){return new Zs(this.firestore,this._delegate.withConverter(t?Ou.getInstance(this.firestore,t):null))}}class uI{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Sh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _p{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Sh(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new uI(this._firestore,i))}forEach(t,i){this._delegate.forEach(s=>{t.call(i,new Sh(this._firestore,s))})}isEqual(t){return Sc(this._delegate,t._delegate)}}class bd extends Zs{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new sa(this.firestore,t):null}doc(t){try{return new sa(this.firestore,void 0===t?fd(this._delegate):fd(this._delegate,t))}catch(i){throw bs(i,"doc()","CollectionReference.doc()")}}add(t){return function ap(l,t){const i=Ri(l.firestore,lo),s=fd(l),u=pm(l.converter,t);return yd(i,[md(gd(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,ge.exists(!1))]).then(()=>s)}(this._delegate,t).then(i=>new sa(this.firestore,i))}isEqual(t){return bc(this._delegate,t._delegate)}withConverter(t){return new bd(this.firestore,this._delegate.withConverter(t?Ou.getInstance(this.firestore,t):null))}}function Oc(l){return Ri(l,bo)}class Sm{constructor(...t){this._delegate=new Gl(...t)}static documentId(){return new Sm(Ar.keyField().canonicalString())}isEqual(t){return(t=(0,rt.Ku)(t))instanceof Gl&&this._delegate._internalPath.isEqual(t._internalPath)}}class Nc{constructor(t){this._delegate=t}static serverTimestamp(){const t=function w_(){return new h_("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Nc(t)}static delete(){const t=function C_(){return new Cc("deleteField")}();return t._methodName="FieldValue.delete",new Nc(t)}static arrayUnion(...t){const i=function Em(...l){return new Qf("arrayUnion",l)}(...t);return i._methodName="FieldValue.arrayUnion",new Nc(i)}static arrayRemove(...t){const i=function rI(...l){return new am("arrayRemove",l)}(...t);return i._methodName="FieldValue.arrayRemove",new Nc(i)}static increment(t){const i=function D_(l){return new lm("increment",l)}(t);return i._methodName="FieldValue.increment",new Nc(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const N_={Firestore:O_,GeoPoint:pd,Timestamp:Tr,Blob:Ed,Transaction:mp,WriteBatch:Ad,DocumentReference:sa,DocumentSnapshot:xc,Query:Zs,QueryDocumentSnapshot:Sh,QuerySnapshot:_p,CollectionReference:bd,FieldPath:Sm,FieldValue:Nc,setLogLevel:function Mc(l){!function wn(l){Mt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function cI(l){(function k_(l,t){l.INTERNAL.registerComponent(new Ne.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},N_)))})(l,(t,i)=>new O_(t,i,new x_)),l.registerVersion("@firebase/firestore-compat","0.3.38")}(Tt.A);var dI=x(7935);function F_(l,t){return function aa(l,t=_e.E){return new Me.c(i=>{let s;return null!=t?t.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,t)}function L_(l,t){return F_(l,t).pipe((0,ut.T)(i=>({payload:i,type:"query"})))}class yp{constructor(t,i){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"afs",void 0),this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const s=this.ref.collection(t),{ref:u,query:f}=z_(s,i);return new $_(u,f,this.afs)}snapshotChanges(){return function hI(l,t){return F_(l,t).pipe((0,ye.Z)(void 0),We(),(0,ut.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ut.T)(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return(0,Ge.H)(this.ref.get(t)).pipe(ve.U0)}}function Rh(l,t){return L_(l,t).pipe((0,ye.Z)(void 0),We(),(0,ut.T)(i=>{const[s,u]=i,f=u.payload.docChanges(),_=f.map(R=>({type:R.type,payload:R}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((R,k)=>{const Y=f.find(He=>He.doc.ref.isEqual(R.ref)),Ae=null==s?void 0:s.payload.docs.find(He=>He.ref.isEqual(R.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(R.metadata)||!Y&&Ae&&JSON.stringify(Ae.metadata)===JSON.stringify(R.metadata)||_.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:R}})}),_}))}function V_(l,t,i){return Rh(l,i).pipe((0,vt.S)((s,u)=>function fI(l,t,i){return t.forEach(s=>{i.indexOf(s.type)>-1&&(l=function U_(l,t){switch(t.type){case"added":if(!l[t.newIndex]||!l[t.newIndex].doc.ref.isEqual(t.doc.ref))return Rm(l,t.newIndex,0,t);break;case"modified":if(null==l[t.oldIndex]||l[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=l.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return Rm(l,t.newIndex,1,t)}break;case"removed":if(l[t.oldIndex]&&l[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Rm(l,t.oldIndex,1)}return l}(l,s))}),l}(s,u.map(f=>f.payload),t),[]),(0,st.F)(),(0,ut.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Rm(l,t,i,...s){const u=l.slice();return u.splice(t,i,...s),u}function B_(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class $_{constructor(t,i,s){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.ref=t,this.query=i,this.afs=s}stateChanges(t){let i=Rh(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,ut.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),i.pipe((0,ye.Z)(void 0),We(),(0,lt.p)(([s,u])=>u.length>0||!s),(0,ut.T)(([,s])=>s),ve.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,vt.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=B_(t);return V_(this.query,i,this.afs.schedulers.outsideAngular).pipe(ve.U0)}valueChanges(t={}){return L_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.T)(i=>i.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),ve.U0)}get(t){return(0,Ge.H)(this.query.get(t)).pipe(ve.U0)}add(t){return this.ref.add(t)}doc(t){return new yp(this.ref.doc(t),this.afs)}}class Pm{constructor(t,i){(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Rh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.T)(i=>i.filter(s=>t.indexOf(s.type)>-1)),(0,lt.p)(i=>i.length>0),ve.U0):Rh(this.query,this.afs.schedulers.outsideAngular).pipe(ve.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,vt.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=B_(t);return V_(this.query,i,this.afs.schedulers.outsideAngular).pipe(ve.U0)}valueChanges(t={}){return L_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ve.U0)}get(t){return(0,Ge.H)(this.query.get(t)).pipe(ve.U0)}}const j_=new L.nKC("angularfire2.enableFirestorePersistence"),H_=new L.nKC("angularfire2.firestore.persistenceSettings"),pI=new L.nKC("angularfire2.firestore.settings"),gI=new L.nKC("angularfire2.firestore.use-emulator");function z_(l,t=i=>i){return{query:t(l),ref:l}}let rl=(()=>{var l;class t{constructor(s,u,f,_,R,k,Y,Ae,He,mt,Zt,Sn,Kn,Vn,vr,Pr,Ir){(0,c.A)(this,"schedulers",void 0),(0,c.A)(this,"firestore",void 0),(0,c.A)(this,"persistenceEnabled$",void 0),this.schedulers=Y;const Fr=(0,X.iB)(s,k,u),Ni=He;mt&&(0,ee.gF)(Fr,k,Zt,Kn,Vn,vr,Sn,Pr),[this.firestore,this.persistenceEnabled$]=(0,X.BM)(`${Fr.name}.firestore`,"AngularFirestore",Fr.name,()=>{const Yr=k.runOutsideAngular(()=>Fr.firestore());if(_&&Yr.settings(_),Ni&&Yr.useEmulator(...Ni),f&&!(0,h.Vy)(R)){const $t=()=>{try{return(0,Ge.H)(Yr.enablePersistence(Ae||void 0).then(()=>!0,()=>!1))}catch(ft){return typeof console<"u"&&console.warn(ft),(0,Pe.of)(!1)}};return[Yr,k.runOutsideAngular($t)]}return[Yr,(0,Pe.of)(!1)]},[_,Ni,f])}collection(s,u){let f;f="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:R}=z_(f,u),k=this.schedulers.ngZone.run(()=>_);return new $_(k,R,this)}collectionGroup(s,u){const f=u||(R=>R),_=this.firestore.collectionGroup(s);return new Pm(f(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const f=this.schedulers.ngZone.run(()=>u);return new yp(f,this)}createId(){return this.firestore.collection("_").doc().id}}return l=t,(0,c.A)(t,"\u0275fac",function(s){return new(s||l)(L.KVO(X.rx),L.KVO(X.uP,8),L.KVO(j_,8),L.KVO(pI,8),L.KVO(L.Agw),L.KVO(L.SKi),L.KVO(ve.u0),L.KVO(H_,8),L.KVO(gI,8),L.KVO(ee.DS,8),L.KVO(ee.CP,8),L.KVO(ee.yy,8),L.KVO(ee.ZP,8),L.KVO(ee.$z,8),L.KVO(ee.AU,8),L.KVO(ee.UB,8),L.KVO(ve.Jv,8))}),(0,c.A)(t,"\u0275prov",L.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),t})(),Mm=(()=>{var l;class t{constructor(){dI.A.registerVersion("angularfire",ve.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:t,providers:[{provide:j_,useValue:!0},{provide:H_,useValue:s}]}}}return l=t,(0,c.A)(t,"\u0275fac",function(s){return new(s||l)}),(0,c.A)(t,"\u0275mod",L.$C({type:l})),(0,c.A)(t,"\u0275inj",L.G2t({providers:[rl]})),t})()},9253:(Rn,at,x)=>{"use strict";x.d(at,{BM:()=>ut,Gt:()=>ee,bf:()=>We,e7:()=>_e,iB:()=>ye,rx:()=>Ge,uP:()=>Pe});var c=x(9842),h=x(4438),L=x(1825),ve=x(7935);const X=["ngOnDestroy"],ee=(xt,Tt,Ie,Te={})=>new Proxy(xt,{get:(Ne,Qe)=>Ie.runOutsideAngular(()=>{var rt;if(xt[Qe])return null!=Te&&null!==(rt=Te.spy)&&void 0!==rt&&rt.get&&Te.spy.get(Qe,xt[Qe]),xt[Qe];if(X.indexOf(Qe)>-1)return()=>{};const Ft=Tt.toPromise().then(Se=>{const gt=null==Se?void 0:Se[Qe];return"function"==typeof gt?gt.bind(Se):null!=gt&&gt.then?gt.then(Vt=>Ie.run(()=>Vt)):Ie.run(()=>gt)});return new Proxy(()=>{},{get:(Se,gt)=>Ft[gt],apply:(Se,gt,Vt)=>Ft.then(nn=>{var Tn;const gn=null==nn?void 0:nn(...Vt);return null!=Te&&null!==(Tn=Te.spy)&&void 0!==Tn&&Tn.apply&&Te.spy.apply(Qe,Vt,gn),gn})})})}),_e=(xt,Tt)=>{Tt.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach(Te=>{Object.defineProperty(xt.prototype,Te,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,Te))})})};class Me{constructor(Tt){return Tt}}const Ge=new h.nKC("angularfire2.app.options"),Pe=new h.nKC("angularfire2.app.name");function ye(xt,Tt,Ie){const Ne="object"==typeof Ie&&Ie||{};Ne.name=Ne.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const rt=ve.A.apps.filter(Ft=>Ft&&Ft.name===Ne.name)[0]||Tt.runOutsideAngular(()=>ve.A.initializeApp(xt,Ne));try{if(JSON.stringify(xt)!==JSON.stringify(rt.options)){const Ft=!!module.hot;ze("error",`${rt.name} Firebase App already initialized with different options${Ft?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Me(rt)}const ze=(xt,...Tt)=>{(0,h.naY)()&&typeof console<"u"&&console[xt](...Tt)},qe={provide:Me,useFactory:ye,deps:[Ge,h.SKi,[new h.Xx1,Pe]]};let We=(()=>{var xt;class Tt{static initializeApp(Te,Ne){return{ngModule:Tt,providers:[{provide:Ge,useValue:Te},{provide:Pe,useValue:Ne}]}}constructor(Te){ve.A.registerVersion("angularfire",L.xv.full,"core"),ve.A.registerVersion("angularfire",L.xv.full,"app-compat"),ve.A.registerVersion("angular",h.xvI.full,Te.toString())}}return xt=Tt,(0,c.A)(Tt,"\u0275fac",function(Te){return new(Te||xt)(h.KVO(h.Agw))}),(0,c.A)(Tt,"\u0275mod",h.$C({type:xt})),(0,c.A)(Tt,"\u0275inj",h.G2t({providers:[qe]})),Tt})();function ut(xt,Tt,Ie,Te,Ne){const[,Qe,rt]=globalThis.\u0275AngularfireInstanceCache.find(Ft=>Ft[0]===xt)||[];if(Qe)return function vt(xt,Tt){try{return xt.toString()===Tt.toString()}catch{return xt===Tt}}(Ne,rt)||(lt("error",`${Tt} was already initialized on the ${Ie} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),lt("warn",{is:Ne,was:rt})),Qe;{const Ft=Te();return globalThis.\u0275AngularfireInstanceCache.push([xt,Ft,Ne]),Ft}}const st=typeof module<"u"&&!!module.hot,lt=(xt,...Tt)=>{(0,h.naY)()&&typeof console<"u"&&console[xt](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(Rn,at,x)=>{"use strict";x.d(at,{xv:()=>vt,U0:()=>Tn,u0:()=>rt,Jv:()=>Tt});var c=x(9842),h=x(4438),L=x(7852);(0,L.registerVersion)("firebase","10.14.1","app");var ee=x(6780),Me=x(9687);const Pe=new class Ge extends Me.q{}(class _e extends ee.R{constructor(Ue,ie){super(Ue,ie),this.scheduler=Ue,this.work=ie}schedule(Ue,ie=0){return ie>0?super.schedule(Ue,ie):(this.delay=ie,this.state=Ue,this.scheduler.flush(this),this)}execute(Ue,ie){return ie>0||this.closed?super.execute(Ue,ie):this._execute(Ue,ie)}requestAsyncId(Ue,ie,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(Ue,ie,de):(Ue.flush(this),0)}});var ze=x(3236),qe=x(8141),We=x(6745),ut=x(941);const vt=new h.RxE("ANGULARFIRE2_VERSION");class Tt{constructor(){return(Le=>{const ie=(0,L.getApps)(),de=[];return ie.forEach(Be=>{Be.container.getProvider(Le).instances.forEach(At=>{de.includes(At)||de.push(At)})}),de})(Ie)}}const Ie="app-check";function Te(){}class Ne{constructor(Ue,ie=Pe){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=Ue,this.delegate=ie}now(){return this.delegate.now()}schedule(Ue,ie,de){const Be=this.zone;return this.delegate.schedule(function(At){Be.runGuarded(()=>{Ue.apply(this,[At])})},ie,de)}}class Qe{constructor(Ue){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=Ue}call(Ue,ie){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Te,{},Te,Te)),ie.pipe((0,qe.M)({next:de,complete:de,error:de})).subscribe(Ue).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rt=(()=>{var Le;class Ue{constructor(de){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=de,this.outsideAngular=de.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=de.run(()=>new Ne(Zone.current,ze.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Le=Ue,(0,c.A)(Ue,"\u0275fac",function(de){return new(de||Le)(h.KVO(h.SKi))}),(0,c.A)(Ue,"\u0275prov",h.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})),Ue})();function Tn(Le){return function gn(Le){return function(ie){return(ie=ie.lift(new Qe(Le.ngZone))).pipe((0,We._)(Le.outsideAngular),(0,ut.Q)(Le.insideAngular))}}(function Ft(){const Le=globalThis.\u0275AngularFireScheduler;if(!Le)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Le}())(Le)}},4341:(Rn,at,x)=>{"use strict";x.d(at,{Dg:()=>ji,ok:()=>mr,MJ:()=>wr,JD:()=>ur,gE:()=>oi,j4:()=>dn,YN:()=>jo,zX:()=>Rs,xh:()=>ae,VZ:()=>zs,cz:()=>rt,kq:()=>vt,vO:()=>cn,BC:()=>Un,cb:()=>zn,cV:()=>Zn,vS:()=>ui,X1:()=>Oo,YS:()=>Ps,k0:()=>gt,qT:()=>Co});var c=x(4438),h=x(177),L=x(8455),ve=x(1985),X=x(3073),ee=x(8750),_e=x(3794),Me=x(4360),Ge=x(6450),Pe=x(8496),ze=x(1413),qe=x(6354);let We=(()=>{var K;class O{constructor(H,we){this._renderer=H,this._elementRef=we,this.onChange=En=>{},this.onTouched=()=>{}}setProperty(H,we){this._renderer.setProperty(this._elementRef.nativeElement,H,we)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return(K=O).\u0275fac=function(H){return new(H||K)(c.rXU(c.sFG),c.rXU(c.aKT))},K.\u0275dir=c.FsC({type:K}),O})(),ut=(()=>{var K;class O extends We{}return(K=O).\u0275fac=(()=>{let ce;return function(we){return(ce||(ce=c.xGo(K)))(we||K)}})(),K.\u0275dir=c.FsC({type:K,features:[c.Vt3]}),O})();const vt=new c.nKC(""),xt={provide:vt,useExisting:(0,c.Rfq)(()=>Te),multi:!0},Ie=new c.nKC("");let Te=(()=>{var K;class O extends We{constructor(H,we,En){super(H,we),this._compositionMode=En,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tt(){const K=(0,h.QT)()?(0,h.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(H){this.setProperty("value",null==H?"":H)}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return(K=O).\u0275fac=function(H){return new(H||K)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Ie,8))},K.\u0275dir=c.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,we){1&H&&c.bIt("input",function(dr){return we._handleInput(dr.target.value)})("blur",function(){return we.onTouched()})("compositionstart",function(){return we._compositionStart()})("compositionend",function(dr){return we._compositionEnd(dr.target.value)})},features:[c.Jv_([xt]),c.Vt3]}),O})();function Ne(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Qe(K){return null!=K&&"number"==typeof K.length}const rt=new c.nKC(""),Ft=new c.nKC(""),Se=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gt{static min(O){return Vt(O)}static max(O){return nn(O)}static required(O){return Tn(O)}static requiredTrue(O){return function gn(K){return!0===K.value?null:{required:!0}}(O)}static email(O){return qn(O)}static minLength(O){return Wt(O)}static maxLength(O){return function Le(K){return O=>Qe(O.value)&&O.value.length>K?{maxlength:{requiredLength:K,actualLength:O.value.length}}:null}(O)}static pattern(O){return function Ue(K){if(!K)return ie;let O,ce;return"string"==typeof K?(ce="","^"!==K.charAt(0)&&(ce+="^"),ce+=K,"$"!==K.charAt(K.length-1)&&(ce+="$"),O=new RegExp(ce)):(ce=K.toString(),O=K),H=>{if(Ne(H.value))return null;const we=H.value;return O.test(we)?null:{pattern:{requiredPattern:ce,actualValue:we}}}}(O)}static nullValidator(O){return null}static compose(O){return Mt(O)}static composeAsync(O){return wn(O)}}function Vt(K){return O=>{if(Ne(O.value)||Ne(K))return null;const ce=parseFloat(O.value);return!isNaN(ce)&&ce<K?{min:{min:K,actual:O.value}}:null}}function nn(K){return O=>{if(Ne(O.value)||Ne(K))return null;const ce=parseFloat(O.value);return!isNaN(ce)&&ce>K?{max:{max:K,actual:O.value}}:null}}function Tn(K){return Ne(K.value)?{required:!0}:null}function qn(K){return Ne(K.value)||Se.test(K.value)?null:{email:!0}}function Wt(K){return O=>Ne(O.value)||!Qe(O.value)?null:O.value.length<K?{minlength:{requiredLength:K,actualLength:O.value.length}}:null}function ie(K){return null}function de(K){return null!=K}function Be(K){return(0,c.jNT)(K)?(0,L.H)(K):K}function nt(K){let O={};return K.forEach(ce=>{O=null!=ce?{...O,...ce}:O}),0===Object.keys(O).length?null:O}function At(K,O){return O.map(ce=>ce(K))}function Lt(K){return K.map(O=>function Je(K){return!K.validate}(O)?O:ce=>O.validate(ce))}function Mt(K){if(!K)return null;const O=K.filter(de);return 0==O.length?null:function(ce){return nt(At(ce,O))}}function Xt(K){return null!=K?Mt(Lt(K)):null}function wn(K){if(!K)return null;const O=K.filter(de);return 0==O.length?null:function(ce){return function ye(...K){const O=(0,_e.ms)(K),{args:ce,keys:H}=(0,X.D)(K),we=new ve.c(En=>{const{length:dr}=ce;if(!dr)return void En.complete();const xi=new Array(dr);let fo=dr,po=dr;for(let Io=0;Io<dr;Io++){let Gs=!1;(0,ee.Tg)(ce[Io]).subscribe((0,Me._)(En,is=>{Gs||(Gs=!0,po--),xi[Io]=is},()=>fo--,void 0,()=>{(!fo||!Gs)&&(po||En.next(H?(0,Pe.e)(H,xi):xi),En.complete())}))}});return O?we.pipe((0,Ge.I)(O)):we}(At(ce,O).map(Be)).pipe((0,qe.T)(nt))}}function kt(K){return null!=K?wn(Lt(K)):null}function Mn(K,O){return null===K?[O]:Array.isArray(K)?[...K,O]:[K,O]}function en(K){return K._rawValidators}function bn(K){return K._rawAsyncValidators}function Qt(K){return K?Array.isArray(K)?K:[K]:[]}function Dt(K,O){return Array.isArray(K)?K.includes(O):K===O}function vn(K,O){const ce=Qt(O);return Qt(K).forEach(we=>{Dt(ce,we)||ce.push(we)}),ce}function it(K,O){return Qt(O).filter(ce=>!Dt(K,ce))}class Oe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O=void 0){this.control&&this.control.reset(O)}hasError(O,ce){return!!this.control&&this.control.hasError(O,ce)}getError(O,ce){return this.control?this.control.getError(O,ce):null}}class Ke extends Oe{get formDirective(){return null}get path(){return null}}class cn extends Oe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qt{constructor(O){this._cd=O}get isTouched(){var O,ce,H;return null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||null===(ce=O._touched)||void 0===ce||ce.call(O),!(null===(H=this._cd)||void 0===H||null===(H=H.control)||void 0===H||!H.touched)}get isUntouched(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.untouched)}get isPristine(){var O,ce,H;return null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||null===(ce=O._pristine)||void 0===ce||ce.call(O),!(null===(H=this._cd)||void 0===H||null===(H=H.control)||void 0===H||!H.pristine)}get isDirty(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.dirty)}get isValid(){var O,ce,H;return null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||null===(ce=O._status)||void 0===ce||ce.call(O),!(null===(H=this._cd)||void 0===H||null===(H=H.control)||void 0===H||!H.valid)}get isInvalid(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.invalid)}get isPending(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.pending)}get isSubmitted(){var O,ce,H;return null===(O=this._cd)||void 0===O||null===(ce=O._submitted)||void 0===ce||ce.call(O),!(null===(H=this._cd)||void 0===H||!H.submitted)}}let Un=(()=>{var K;class O extends qt{constructor(H){super(H)}}return(K=O).\u0275fac=function(H){return new(H||K)(c.rXU(cn,2))},K.\u0275dir=c.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,we){2&H&&c.AVh("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)},features:[c.Vt3]}),O})(),zn=(()=>{var K;class O extends qt{constructor(H){super(H)}}return(K=O).\u0275fac=function(H){return new(H||K)(c.rXU(Ke,10))},K.\u0275dir=c.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,we){2&H&&c.AVh("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)("ng-submitted",we.isSubmitted)},features:[c.Vt3]}),O})();const Yt="VALID",_t="INVALID",Et="PENDING",_n="DISABLED";class oe{}class Q extends oe{constructor(O,ce){super(),this.value=O,this.source=ce}}class le extends oe{constructor(O,ce){super(),this.pristine=O,this.source=ce}}class Xe extends oe{constructor(O,ce){super(),this.touched=O,this.source=ce}}class tt extends oe{constructor(O,ce){super(),this.status=O,this.source=ce}}class ln extends oe{constructor(O){super(),this.source=O}}class Fn extends oe{constructor(O){super(),this.source=O}}function nr(K){return(Nn(K)?K.validators:K)||null}function yt(K,O){return(Nn(O)?O.asyncValidators:K)||null}function Nn(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function Nr(K,O,ce){const H=K.controls;if(!(O?Object.keys(H):H).length)throw new c.wOt(1e3,"");if(!H[ce])throw new c.wOt(1001,"")}function Jr(K,O,ce){K._forEachChild((H,we)=>{if(void 0===ce[we])throw new c.wOt(1002,"")})}class tr{constructor(O,ce){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new ze.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(ce)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(O){(0,c.O8t)(()=>this.statusReactive.set(O))}get valid(){return this.status===Yt}get invalid(){return this.status===_t}get pending(){return this.status==Et}get disabled(){return this.status===_n}get enabled(){return this.status!==_n}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(O){(0,c.O8t)(()=>this.pristineReactive.set(O))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(O){(0,c.O8t)(()=>this.touchedReactive.set(O))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(vn(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(vn(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(it(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(it(O,this._rawAsyncValidators))}hasValidator(O){return Dt(this._rawValidators,O)}hasAsyncValidator(O){return Dt(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){var ce;const H=!1===this.touched;this.touched=!0;const we=null!==(ce=O.sourceControl)&&void 0!==ce?ce:this;this._parent&&!O.onlySelf&&this._parent.markAsTouched({...O,sourceControl:we}),H&&!1!==O.emitEvent&&this._events.next(new Xe(!0,we))}markAllAsTouched(O={}){this.markAsTouched({onlySelf:!0,emitEvent:O.emitEvent,sourceControl:this}),this._forEachChild(ce=>ce.markAllAsTouched(O))}markAsUntouched(O={}){var ce;const H=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const we=null!==(ce=O.sourceControl)&&void 0!==ce?ce:this;this._forEachChild(En=>{En.markAsUntouched({onlySelf:!0,emitEvent:O.emitEvent,sourceControl:we})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O,we),H&&!1!==O.emitEvent&&this._events.next(new Xe(!1,we))}markAsDirty(O={}){var ce;const H=!0===this.pristine;this.pristine=!1;const we=null!==(ce=O.sourceControl)&&void 0!==ce?ce:this;this._parent&&!O.onlySelf&&this._parent.markAsDirty({...O,sourceControl:we}),H&&!1!==O.emitEvent&&this._events.next(new le(!1,we))}markAsPristine(O={}){var ce;const H=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const we=null!==(ce=O.sourceControl)&&void 0!==ce?ce:this;this._forEachChild(En=>{En.markAsPristine({onlySelf:!0,emitEvent:O.emitEvent})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O,we),H&&!1!==O.emitEvent&&this._events.next(new le(!0,we))}markAsPending(O={}){var ce;this.status=Et;const H=null!==(ce=O.sourceControl)&&void 0!==ce?ce:this;!1!==O.emitEvent&&(this._events.next(new tt(this.status,H)),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.markAsPending({...O,sourceControl:H})}disable(O={}){var ce;const H=this._parentMarkedDirty(O.onlySelf);this.status=_n,this.errors=null,this._forEachChild(En=>{En.disable({...O,onlySelf:!0})}),this._updateValue();const we=null!==(ce=O.sourceControl)&&void 0!==ce?ce:this;!1!==O.emitEvent&&(this._events.next(new Q(this.value,we)),this._events.next(new tt(this.status,we)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:H},this),this._onDisabledChange.forEach(En=>En(!0))}enable(O={}){const ce=this._parentMarkedDirty(O.onlySelf);this.status=Yt,this._forEachChild(H=>{H.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:ce},this),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(O,ce){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine({},ce),this._parent._updateTouched({},ce))}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){var ce;if(this._setInitialStatus(),this._updateValue(),this.enabled){const we=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yt||this.status===Et)&&this._runAsyncValidator(we,O.emitEvent)}const H=null!==(ce=O.sourceControl)&&void 0!==ce?ce:this;!1!==O.emitEvent&&(this._events.next(new Q(this.value,H)),this._events.next(new tt(this.status,H)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity({...O,sourceControl:H})}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(ce=>ce._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_n:Yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O,ce){if(this.asyncValidator){this.status=Et,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ce};const H=Be(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(we=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(we,{emitEvent:ce,shouldHaveEmitted:O})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var O,ce;this._asyncValidationSubscription.unsubscribe();const H=null!==(O=null===(ce=this._hasOwnPendingAsyncValidator)||void 0===ce?void 0:ce.emitEvent)&&void 0!==O&&O;return this._hasOwnPendingAsyncValidator=null,H}return!1}setErrors(O,ce={}){this.errors=O,this._updateControlsErrors(!1!==ce.emitEvent,this,ce.shouldHaveEmitted)}get(O){let ce=O;return null==ce||(Array.isArray(ce)||(ce=ce.split(".")),0===ce.length)?null:ce.reduce((H,we)=>H&&H._find(we),this)}getError(O,ce){const H=ce?this.get(ce):this;return H&&H.errors?H.errors[O]:null}hasError(O,ce){return!!this.getError(O,ce)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O,ce,H){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),(O||H)&&this._events.next(new tt(this.status,ce)),this._parent&&this._parent._updateControlsErrors(O,ce,H)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?_n:this.errors?_t:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Et)?Et:this._anyControlsHaveStatus(_t)?_t:Yt}_anyControlsHaveStatus(O){return this._anyControls(ce=>ce.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O,ce){const H=!this._anyControlsDirty(),we=this.pristine!==H;this.pristine=H,this._parent&&!O.onlySelf&&this._parent._updatePristine(O,ce),we&&this._events.next(new le(this.pristine,ce))}_updateTouched(O={},ce){this.touched=this._anyControlsTouched(),this._events.next(new Xe(this.touched,ce)),this._parent&&!O.onlySelf&&this._parent._updateTouched(O,ce)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Nn(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function Sr(K){return Array.isArray(K)?Xt(K):K||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function Cr(K){return Array.isArray(K)?kt(K):K||null}(this._rawAsyncValidators)}}class oi extends tr{constructor(O,ce,H){super(nr(ce),yt(H,ce)),this.controls=O,this._initObservables(),this._setUpdateStrategy(ce),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,ce){return this.controls[O]?this.controls[O]:(this.controls[O]=ce,ce.setParent(this),ce._registerOnCollectionChange(this._onCollectionChange),ce)}addControl(O,ce,H={}){this.registerControl(O,ce),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(O,ce={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}setControl(O,ce,H={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],ce&&this.registerControl(O,ce),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,ce={}){Jr(this,0,O),Object.keys(O).forEach(H=>{Nr(this,!0,H),this.controls[H].setValue(O[H],{onlySelf:!0,emitEvent:ce.emitEvent})}),this.updateValueAndValidity(ce)}patchValue(O,ce={}){null!=O&&(Object.keys(O).forEach(H=>{const we=this.controls[H];we&&we.patchValue(O[H],{onlySelf:!0,emitEvent:ce.emitEvent})}),this.updateValueAndValidity(ce))}reset(O={},ce={}){this._forEachChild((H,we)=>{H.reset(O?O[we]:null,{onlySelf:!0,emitEvent:ce.emitEvent})}),this._updatePristine(ce,this),this._updateTouched(ce,this),this.updateValueAndValidity(ce)}getRawValue(){return this._reduceChildren({},(O,ce,H)=>(O[H]=ce.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(ce,H)=>!!H._syncPendingControls()||ce);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(ce=>{const H=this.controls[ce];H&&O(H,ce)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[ce,H]of Object.entries(this.controls))if(this.contains(ce)&&O(H))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ce,H,we)=>((H.enabled||this.disabled)&&(ce[we]=H.value),ce))}_reduceChildren(O,ce){let H=O;return this._forEachChild((we,En)=>{H=ce(H,we,En)}),H}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}class eo extends oi{}const pe=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>q}),q="always";function Re(K,O){return[...O.path,K]}function ne(K,O,ce=q){var H,we;on(K,O),O.valueAccessor.writeValue(K.value),(K.disabled||"always"===ce)&&(null===(H=(we=O.valueAccessor).setDisabledState)||void 0===H||H.call(we,K.disabled)),function he(K,O){O.valueAccessor.registerOnChange(ce=>{K._pendingValue=ce,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&pt(K,O)})}(K,O),function St(K,O){const ce=(H,we)=>{O.valueAccessor.writeValue(H),we&&O.viewToModelUpdate(H)};K.registerOnChange(ce),O._registerOnDestroy(()=>{K._unregisterOnChange(ce)})}(K,O),function $e(K,O){O.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&pt(K,O),"submit"!==K.updateOn&&K.markAsTouched()})}(K,O),function Nt(K,O){if(O.valueAccessor.setDisabledState){const ce=H=>{O.valueAccessor.setDisabledState(H)};K.registerOnDisabledChange(ce),O._registerOnDestroy(()=>{K._unregisterOnDisabledChange(ce)})}}(K,O)}function se(K,O,ce=!0){const H=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(H),O.valueAccessor.registerOnTouched(H)),yn(K,O),K&&(O._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function xe(K,O){K.forEach(ce=>{ce.registerOnValidatorChange&&ce.registerOnValidatorChange(O)})}function on(K,O){const ce=en(K);null!==O.validator?K.setValidators(Mn(ce,O.validator)):"function"==typeof ce&&K.setValidators([ce]);const H=bn(K);null!==O.asyncValidator?K.setAsyncValidators(Mn(H,O.asyncValidator)):"function"==typeof H&&K.setAsyncValidators([H]);const we=()=>K.updateValueAndValidity();xe(O._rawValidators,we),xe(O._rawAsyncValidators,we)}function yn(K,O){let ce=!1;if(null!==K){if(null!==O.validator){const we=en(K);if(Array.isArray(we)&&we.length>0){const En=we.filter(dr=>dr!==O.validator);En.length!==we.length&&(ce=!0,K.setValidators(En))}}if(null!==O.asyncValidator){const we=bn(K);if(Array.isArray(we)&&we.length>0){const En=we.filter(dr=>dr!==O.asyncValidator);En.length!==we.length&&(ce=!0,K.setAsyncValidators(En))}}}const H=()=>{};return xe(O._rawValidators,H),xe(O._rawAsyncValidators,H),ce}function pt(K,O){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function zt(K,O){on(K,O)}function Ai(K,O){if(!K.hasOwnProperty("model"))return!1;const ce=K.model;return!!ce.isFirstChange()||!Object.is(O,ce.currentValue)}function bi(K,O){K._syncPendingControls(),O.forEach(ce=>{const H=ce.control;"submit"===H.updateOn&&H._pendingChange&&(ce.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}function Zr(K,O){if(!O)return null;let ce,H,we;return Array.isArray(O),O.forEach(En=>{En.constructor===Te?ce=En:function Fi(K){return Object.getPrototypeOf(K.constructor)===ut}(En)?H=En:we=En}),we||H||ce||null}const zr={provide:Ke,useExisting:(0,c.Rfq)(()=>Zn)},Ci=Promise.resolve();let Zn=(()=>{var K;class O extends Ke{get submitted(){return(0,c.O8t)(this.submittedReactive)}constructor(H,we,En){super(),this.callSetDisabledState=En,this._submitted=(0,c.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,c.vPA)(!1),this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new oi({},Xt(H),kt(we))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){Ci.then(()=>{const we=this._findContainer(H.path);H.control=we.registerControl(H.name,H.control),ne(H.control,H,this.callSetDisabledState),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){Ci.then(()=>{const we=this._findContainer(H.path);we&&we.removeControl(H.name),this._directives.delete(H)})}addFormGroup(H){Ci.then(()=>{const we=this._findContainer(H.path),En=new oi({});zt(En,H),we.registerControl(H.name,En),En.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){Ci.then(()=>{const we=this._findContainer(H.path);we&&we.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,we){Ci.then(()=>{this.form.get(H.path).setValue(we)})}setValue(H){this.control.setValue(H)}onSubmit(H){var we;return this.submittedReactive.set(!0),bi(this.form,this._directives),this.ngSubmit.emit(H),"dialog"===(null==H||null===(we=H.target)||void 0===we?void 0:we.method)}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}}return(K=O).\u0275fac=function(H){return new(H||K)(c.rXU(rt,10),c.rXU(Ft,10),c.rXU(pe,8))},K.\u0275dir=c.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(H,we){1&H&&c.bIt("submit",function(dr){return we.onSubmit(dr)})("reset",function(){return we.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([zr]),c.Vt3]}),O})();function wi(K,O){const ce=K.indexOf(O);ce>-1&&K.splice(ce,1)}function pr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const wr=class extends tr{constructor(O=null,ce,H){super(nr(ce),yt(H,ce)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(ce),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nn(ce)&&(ce.nonNullable||ce.initialValueIsDefault)&&(this.defaultValue=pr(O)?O.value:O)}setValue(O,ce={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==ce.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==ce.emitViewToModelChange)),this.updateValueAndValidity(ce)}patchValue(O,ce={}){this.setValue(O,ce)}reset(O=this.defaultValue,ce={}){this._applyFormState(O),this.markAsPristine(ce),this.markAsUntouched(ce),this.setValue(this.value,ce),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){wi(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){wi(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){pr(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},Ui={provide:cn,useExisting:(0,c.Rfq)(()=>ui)},Bi=Promise.resolve();let ui=(()=>{var K;class O extends cn{constructor(H,we,En,dr,xi,fo){super(),this._changeDetectorRef=xi,this.callSetDisabledState=fo,this.control=new wr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=H,this._setValidators(we),this._setAsyncValidators(En),this.valueAccessor=Zr(0,dr)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const we=H.name.previousValue;this.formDirective.removeControl({name:we,path:this._getPath(we)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),Ai(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ne(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){Bi.then(()=>{var we;this.control.setValue(H,{emitViewToModelChange:!1}),null===(we=this._changeDetectorRef)||void 0===we||we.markForCheck()})}_updateDisabled(H){const we=H.isDisabled.currentValue,En=0!==we&&(0,c.L39)(we);Bi.then(()=>{var dr;En&&!this.control.disabled?this.control.disable():!En&&this.control.disabled&&this.control.enable(),null===(dr=this._changeDetectorRef)||void 0===dr||dr.markForCheck()})}_getPath(H){return this._parent?Re(H,this._parent):[H]}}return(K=O).\u0275fac=function(H){return new(H||K)(c.rXU(Ke,9),c.rXU(rt,10),c.rXU(Ft,10),c.rXU(vt,10),c.rXU(c.gRc,8),c.rXU(pe,8))},K.\u0275dir=c.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([Ui]),c.Vt3,c.OA$]}),O})(),Co=(()=>{var K;class O{}return(K=O).\u0275fac=function(H){return new(H||K)},K.\u0275dir=c.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})();const Ve=new c.nKC(""),It={provide:Ke,useExisting:(0,c.Rfq)(()=>dn)};let dn=(()=>{var K;class O extends Ke{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(H){this._submittedReactive.set(H)}constructor(H,we,En){super(),this.callSetDisabledState=En,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(H),this._setAsyncValidators(we)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const we=this.form.get(H.path);return ne(we,H,this.callSetDisabledState),we.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),we}getControl(H){return this.form.get(H.path)}removeControl(H){se(H.control||null,H,!1),function _i(K,O){const ce=K.indexOf(O);ce>-1&&K.splice(ce,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,we){this.form.get(H.path).setValue(we)}onSubmit(H){var we;return this._submittedReactive.set(!0),bi(this.form,this.directives),this.ngSubmit.emit(H),this.form._events.next(new ln(this.control)),"dialog"===(null==H||null===(we=H.target)||void 0===we?void 0:we.method)}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this._submittedReactive.set(!1),this.form._events.next(new Fn(this.form))}_updateDomValue(){this.directives.forEach(H=>{const we=H.control,En=this.form.get(H.path);we!==En&&(se(we||null,H),(K=>K instanceof wr)(En)&&(ne(En,H,this.callSetDisabledState),H.control=En))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const we=this.form.get(H.path);zt(we,H),we.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const we=this.form.get(H.path);we&&function In(K,O){return yn(K,O)}(we,H)&&we.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){on(this.form,this),this._oldForm&&yn(this._oldForm,this)}_checkFormPresent(){}}return(K=O).\u0275fac=function(H){return new(H||K)(c.rXU(rt,10),c.rXU(Ft,10),c.rXU(pe,8))},K.\u0275dir=c.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(H,we){1&H&&c.bIt("submit",function(dr){return we.onSubmit(dr)})("reset",function(){return we.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([It]),c.Vt3,c.OA$]}),O})();const er={provide:cn,useExisting:(0,c.Rfq)(()=>ur)};let ur=(()=>{var K;class O extends cn{set isDisabled(H){}constructor(H,we,En,dr,xi){super(),this._ngModelWarningConfig=xi,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(we),this._setAsyncValidators(En),this.valueAccessor=Zr(0,dr)}ngOnChanges(H){this._added||this._setUpControl(),Ai(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return Re(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(K=O)._ngModelWarningSentOnce=!1,K.\u0275fac=function(H){return new(H||K)(c.rXU(Ke,13),c.rXU(rt,10),c.rXU(Ft,10),c.rXU(vt,10),c.rXU(Ve,8))},K.\u0275dir=c.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([er]),c.Vt3,c.OA$]}),O})();function ds(K){return"number"==typeof K?K:parseFloat(K)}let Bo=(()=>{var K;class O{constructor(){this._validator=ie}ngOnChanges(H){if(this.inputName in H){const we=this.normalizeInput(H[this.inputName].currentValue);this._enabled=this.enabled(we),this._validator=this._enabled?this.createValidator(we):ie,this._onChange&&this._onChange()}}validate(H){return this._validator(H)}registerOnValidatorChange(H){this._onChange=H}enabled(H){return null!=H}}return(K=O).\u0275fac=function(H){return new(H||K)},K.\u0275dir=c.FsC({type:K,features:[c.OA$]}),O})();const $o={provide:rt,useExisting:(0,c.Rfq)(()=>Rs),multi:!0};let Rs=(()=>{var K;class O extends Bo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=H=>ds(H),this.createValidator=H=>nn(H)}}return(K=O).\u0275fac=(()=>{let ce;return function(we){return(ce||(ce=c.xGo(K)))(we||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(H,we){2&H&&c.BMQ("max",we._enabled?we.max:null)},inputs:{max:"max"},features:[c.Jv_([$o]),c.Vt3]}),O})();const so={provide:rt,useExisting:(0,c.Rfq)(()=>zs),multi:!0};let zs=(()=>{var K;class O extends Bo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=H=>ds(H),this.createValidator=H=>Vt(H)}}return(K=O).\u0275fac=(()=>{let ce;return function(we){return(ce||(ce=c.xGo(K)))(we||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(H,we){2&H&&c.BMQ("min",we._enabled?we.min:null)},inputs:{min:"min"},features:[c.Jv_([so]),c.Vt3]}),O})();const hs={provide:rt,useExisting:(0,c.Rfq)(()=>Ps),multi:!0};let Ps=(()=>{var K;class O extends Bo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=H=>Tn}enabled(H){return H}}return(K=O).\u0275fac=(()=>{let ce;return function(we){return(ce||(ce=c.xGo(K)))(we||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(H,we){2&H&&c.BMQ("required",we._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([hs]),c.Vt3]}),O})();const ei={provide:rt,useExisting:(0,c.Rfq)(()=>ji),multi:!0};let ji=(()=>{var K;class O extends Bo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.L39,this.createValidator=H=>qn}enabled(H){return H}}return(K=O).\u0275fac=(()=>{let ce;return function(we){return(ce||(ce=c.xGo(K)))(we||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c.Jv_([ei]),c.Vt3]}),O})();const fs={provide:rt,useExisting:(0,c.Rfq)(()=>ae),multi:!0};let ae=(()=>{var K;class O extends Bo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=H=>function Fo(K){return"number"==typeof K?K:parseInt(K,10)}(H),this.createValidator=H=>Wt(H)}}return(K=O).\u0275fac=(()=>{let ce;return function(we){return(ce||(ce=c.xGo(K)))(we||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(H,we){2&H&&c.BMQ("minlength",we._enabled?we.minlength:null)},inputs:{minlength:"minlength"},features:[c.Jv_([fs]),c.Vt3]}),O})(),ct=(()=>{var K;class O{}return(K=O).\u0275fac=function(H){return new(H||K)},K.\u0275mod=c.$C({type:K}),K.\u0275inj=c.G2t({}),O})();class wt extends tr{constructor(O,ce,H){super(nr(ce),yt(H,ce)),this.controls=O,this._initObservables(),this._setUpdateStrategy(ce),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,ce={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}insert(O,ce,H={}){this.controls.splice(O,0,ce),this._registerControl(ce),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(O,ce={}){let H=this._adjustIndex(O);H<0&&(H=0),this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:ce.emitEvent})}setControl(O,ce,H={}){let we=this._adjustIndex(O);we<0&&(we=0),this.controls[we]&&this.controls[we]._registerOnCollectionChange(()=>{}),this.controls.splice(we,1),ce&&(this.controls.splice(we,0,ce),this._registerControl(ce)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,ce={}){Jr(this,0,O),O.forEach((H,we)=>{Nr(this,!1,we),this.at(we).setValue(H,{onlySelf:!0,emitEvent:ce.emitEvent})}),this.updateValueAndValidity(ce)}patchValue(O,ce={}){null!=O&&(O.forEach((H,we)=>{this.at(we)&&this.at(we).patchValue(H,{onlySelf:!0,emitEvent:ce.emitEvent})}),this.updateValueAndValidity(ce))}reset(O=[],ce={}){this._forEachChild((H,we)=>{H.reset(O[we],{onlySelf:!0,emitEvent:ce.emitEvent})}),this._updatePristine(ce,this),this._updateTouched(ce,this),this.updateValueAndValidity(ce)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(ce=>ce._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((ce,H)=>!!H._syncPendingControls()||ce,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((ce,H)=>{O(ce,H)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(ce=>ce.enabled&&O(ce))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){var ce;return null!==(ce=this.at(O))&&void 0!==ce?ce:null}}function Hn(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let mr=(()=>{var K;class O{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new O;return H.useNonNullable=!0,H}group(H,we=null){const En=this._reduceControls(H);let dr={};return Hn(we)?dr=we:null!==we&&(dr.validators=we.validator,dr.asyncValidators=we.asyncValidator),new oi(En,dr)}record(H,we=null){const En=this._reduceControls(H);return new eo(En,we)}control(H,we,En){let dr={};return this.useNonNullable?(Hn(we)?dr=we:(dr.validators=we,dr.asyncValidators=En),new wr(H,{...dr,nonNullable:!0})):new wr(H,we,En)}array(H,we,En){const dr=H.map(xi=>this._createControl(xi));return new wt(dr,we,En)}_reduceControls(H){const we={};return Object.keys(H).forEach(En=>{we[En]=this._createControl(H[En])}),we}_createControl(H){return H instanceof wr||H instanceof tr?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}}return(K=O).\u0275fac=function(H){return new(H||K)},K.\u0275prov=c.jDH({token:K,factory:K.\u0275fac,providedIn:"root"}),O})(),jo=(()=>{var K;class O{static withConfig(H){var we;return{ngModule:O,providers:[{provide:pe,useValue:null!==(we=H.callSetDisabledState)&&void 0!==we?we:q}]}}}return(K=O).\u0275fac=function(H){return new(H||K)},K.\u0275mod=c.$C({type:K}),K.\u0275inj=c.G2t({imports:[ct]}),O})(),Oo=(()=>{var K;class O{static withConfig(H){var we,En;return{ngModule:O,providers:[{provide:Ve,useValue:null!==(we=H.warnOnNgModelWithFormControl)&&void 0!==we?we:"always"},{provide:pe,useValue:null!==(En=H.callSetDisabledState)&&void 0!==En?En:q}]}}}return(K=O).\u0275fac=function(H){return new(H||K)},K.\u0275mod=c.$C({type:K}),K.\u0275inj=c.G2t({imports:[ct]}),O})()},345:(Rn,at,x)=>{"use strict";x.d(at,{Bb:()=>bn,hE:()=>vn,sG:()=>wn});var c=x(177),h=x(4438);class L extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends L{static makeCurrent(){(0,c.ZD)(new ve)}onAndCancel(Ct,Yt,_t){return Ct.addEventListener(Yt,_t),()=>{Ct.removeEventListener(Yt,_t)}}dispatchEvent(Ct,Yt){Ct.dispatchEvent(Yt)}remove(Ct){Ct.remove()}createElement(Ct,Yt){return(Yt=Yt||this.getDefaultDocument()).createElement(Ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ct){return Ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ct){return Ct instanceof DocumentFragment}getGlobalEventTarget(Ct,Yt){return"window"===Yt?window:"document"===Yt?Ct:"body"===Yt?Ct.body:null}getBaseHref(Ct){const Yt=function ee(){return X=X||document.querySelector("base"),X?X.getAttribute("href"):null}();return null==Yt?null:function _e(Gt){return new URL(Gt,document.baseURI).pathname}(Yt)}resetBaseElement(){X=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ct){return(0,c._b)(document.cookie,Ct)}}let X=null,Ge=(()=>{var Gt;class Ct{build(){return new XMLHttpRequest}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)},Gt.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac}),Ct})();const Pe=new h.nKC("");let ye=(()=>{var Gt;class Ct{constructor(_t,Et){this._zone=Et,this._eventNameToPlugin=new Map,_t.forEach(_n=>{_n.manager=this}),this._plugins=_t.slice().reverse()}addEventListener(_t,Et,_n){return this._findPluginFor(Et).addEventListener(_t,Et,_n)}getZone(){return this._zone}_findPluginFor(_t){let Et=this._eventNameToPlugin.get(_t);if(Et)return Et;if(Et=this._plugins.find(oe=>oe.supports(_t)),!Et)throw new h.wOt(5101,!1);return this._eventNameToPlugin.set(_t,Et),Et}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)(h.KVO(Pe),h.KVO(h.SKi))},Gt.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac}),Ct})();class ze{constructor(Ct){this._doc=Ct}}const qe="ng-app-id";let We=(()=>{var Gt;class Ct{constructor(_t,Et,_n,oe={}){this.doc=_t,this.appId=Et,this.nonce=_n,this.platformId=oe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(oe),this.resetHostNodes()}addStyles(_t){for(const Et of _t)1===this.changeUsageCount(Et,1)&&this.onStyleAdded(Et)}removeStyles(_t){for(const Et of _t)this.changeUsageCount(Et,-1)<=0&&this.onStyleRemoved(Et)}ngOnDestroy(){const _t=this.styleNodesInDOM;_t&&(_t.forEach(Et=>Et.remove()),_t.clear());for(const Et of this.getAllStyles())this.onStyleRemoved(Et);this.resetHostNodes()}addHost(_t){this.hostNodes.add(_t);for(const Et of this.getAllStyles())this.addStyleToHost(_t,Et)}removeHost(_t){this.hostNodes.delete(_t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(_t){for(const Et of this.hostNodes)this.addStyleToHost(Et,_t)}onStyleRemoved(_t){var Et;const _n=this.styleRef;null===(Et=_n.get(_t))||void 0===Et||null===(Et=Et.elements)||void 0===Et||Et.forEach(oe=>oe.remove()),_n.delete(_t)}collectServerRenderedStyles(){var _t;const Et=null===(_t=this.doc.head)||void 0===_t?void 0:_t.querySelectorAll(`style[${qe}="${this.appId}"]`);if(null!=Et&&Et.length){const _n=new Map;return Et.forEach(oe=>{null!=oe.textContent&&_n.set(oe.textContent,oe)}),_n}return null}changeUsageCount(_t,Et){const _n=this.styleRef;if(_n.has(_t)){const oe=_n.get(_t);return oe.usage+=Et,oe.usage}return _n.set(_t,{usage:Et,elements:[]}),Et}getStyleElement(_t,Et){const _n=this.styleNodesInDOM,oe=null==_n?void 0:_n.get(Et);if((null==oe?void 0:oe.parentNode)===_t)return _n.delete(Et),oe.removeAttribute(qe),oe;{const Q=this.doc.createElement("style");return this.nonce&&Q.setAttribute("nonce",this.nonce),Q.textContent=Et,this.platformIsServer&&Q.setAttribute(qe,this.appId),_t.appendChild(Q),Q}}addStyleToHost(_t,Et){var _n;const oe=this.getStyleElement(_t,Et),Q=this.styleRef,le=null===(_n=Q.get(Et))||void 0===_n?void 0:_n.elements;le?le.push(oe):Q.set(Et,{elements:[oe],usage:1})}resetHostNodes(){const _t=this.hostNodes;_t.clear(),_t.add(this.doc.head)}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)(h.KVO(c.qQ),h.KVO(h.sZ2),h.KVO(h.BIS,8),h.KVO(h.Agw))},Gt.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac}),Ct})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vt=/%COMP%/g,Ie=new h.nKC("",{providedIn:"root",factory:()=>!0});function Qe(Gt,Ct){return Ct.map(Yt=>Yt.replace(vt,Gt))}let rt=(()=>{var Gt;class Ct{constructor(_t,Et,_n,oe,Q,le,Xe,tt=null){this.eventManager=_t,this.sharedStylesHost=Et,this.appId=_n,this.removeStylesOnCompDestroy=oe,this.doc=Q,this.platformId=le,this.ngZone=Xe,this.nonce=tt,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(le),this.defaultRenderer=new Ft(_t,Q,Xe,this.platformIsServer)}createRenderer(_t,Et){if(!_t||!Et)return this.defaultRenderer;this.platformIsServer&&Et.encapsulation===h.gXe.ShadowDom&&(Et={...Et,encapsulation:h.gXe.Emulated});const _n=this.getOrCreateRenderer(_t,Et);return _n instanceof gn?_n.applyToHost(_t):_n instanceof Tn&&_n.applyStyles(),_n}getOrCreateRenderer(_t,Et){const _n=this.rendererByCompId;let oe=_n.get(Et.id);if(!oe){const Q=this.doc,le=this.ngZone,Xe=this.eventManager,tt=this.sharedStylesHost,ln=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch(Et.encapsulation){case h.gXe.Emulated:oe=new gn(Xe,tt,Et,this.appId,ln,Q,le,Fn);break;case h.gXe.ShadowDom:return new nn(Xe,tt,_t,Et,Q,le,this.nonce,Fn);default:oe=new Tn(Xe,tt,Et,ln,Q,le,Fn)}_n.set(Et.id,oe)}return oe}ngOnDestroy(){this.rendererByCompId.clear()}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)(h.KVO(ye),h.KVO(We),h.KVO(h.sZ2),h.KVO(Ie),h.KVO(c.qQ),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(h.BIS))},Gt.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac}),Ct})();class Ft{constructor(Ct,Yt,_t,Et){this.eventManager=Ct,this.doc=Yt,this.ngZone=_t,this.platformIsServer=Et,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ct,Yt){return Yt?this.doc.createElementNS(ut[Yt]||Yt,Ct):this.doc.createElement(Ct)}createComment(Ct){return this.doc.createComment(Ct)}createText(Ct){return this.doc.createTextNode(Ct)}appendChild(Ct,Yt){(Vt(Ct)?Ct.content:Ct).appendChild(Yt)}insertBefore(Ct,Yt,_t){Ct&&(Vt(Ct)?Ct.content:Ct).insertBefore(Yt,_t)}removeChild(Ct,Yt){Yt.remove()}selectRootElement(Ct,Yt){let _t="string"==typeof Ct?this.doc.querySelector(Ct):Ct;if(!_t)throw new h.wOt(-5104,!1);return Yt||(_t.textContent=""),_t}parentNode(Ct){return Ct.parentNode}nextSibling(Ct){return Ct.nextSibling}setAttribute(Ct,Yt,_t,Et){if(Et){Yt=Et+":"+Yt;const _n=ut[Et];_n?Ct.setAttributeNS(_n,Yt,_t):Ct.setAttribute(Yt,_t)}else Ct.setAttribute(Yt,_t)}removeAttribute(Ct,Yt,_t){if(_t){const Et=ut[_t];Et?Ct.removeAttributeNS(Et,Yt):Ct.removeAttribute(`${_t}:${Yt}`)}else Ct.removeAttribute(Yt)}addClass(Ct,Yt){Ct.classList.add(Yt)}removeClass(Ct,Yt){Ct.classList.remove(Yt)}setStyle(Ct,Yt,_t,Et){Et&(h.czy.DashCase|h.czy.Important)?Ct.style.setProperty(Yt,_t,Et&h.czy.Important?"important":""):Ct.style[Yt]=_t}removeStyle(Ct,Yt,_t){_t&h.czy.DashCase?Ct.style.removeProperty(Yt):Ct.style[Yt]=""}setProperty(Ct,Yt,_t){null!=Ct&&(Ct[Yt]=_t)}setValue(Ct,Yt){Ct.nodeValue=Yt}listen(Ct,Yt,_t){if("string"==typeof Ct&&!(Ct=(0,c.QT)().getGlobalEventTarget(this.doc,Ct)))throw new Error(`Unsupported event target ${Ct} for event ${Yt}`);return this.eventManager.addEventListener(Ct,Yt,this.decoratePreventDefault(_t))}decoratePreventDefault(Ct){return Yt=>{if("__ngUnwrap__"===Yt)return Ct;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ct(Yt)):Ct(Yt))&&Yt.preventDefault()}}}function Vt(Gt){return"TEMPLATE"===Gt.tagName&&void 0!==Gt.content}class nn extends Ft{constructor(Ct,Yt,_t,Et,_n,oe,Q,le){super(Ct,_n,oe,le),this.sharedStylesHost=Yt,this.hostEl=_t,this.shadowRoot=_t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xe=Qe(Et.id,Et.styles);for(const tt of Xe){const ln=document.createElement("style");Q&&ln.setAttribute("nonce",Q),ln.textContent=tt,this.shadowRoot.appendChild(ln)}}nodeOrShadowRoot(Ct){return Ct===this.hostEl?this.shadowRoot:Ct}appendChild(Ct,Yt){return super.appendChild(this.nodeOrShadowRoot(Ct),Yt)}insertBefore(Ct,Yt,_t){return super.insertBefore(this.nodeOrShadowRoot(Ct),Yt,_t)}removeChild(Ct,Yt){return super.removeChild(null,Yt)}parentNode(Ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ct)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tn extends Ft{constructor(Ct,Yt,_t,Et,_n,oe,Q,le){super(Ct,_n,oe,Q),this.sharedStylesHost=Yt,this.removeStylesOnCompDestroy=Et,this.styles=le?Qe(le,_t.styles):_t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gn extends Tn{constructor(Ct,Yt,_t,Et,_n,oe,Q,le){const Xe=Et+"-"+_t.id;super(Ct,Yt,_t,_n,oe,Q,le,Xe),this.contentAttr=function Te(Gt){return"_ngcontent-%COMP%".replace(vt,Gt)}(Xe),this.hostAttr=function Ne(Gt){return"_nghost-%COMP%".replace(vt,Gt)}(Xe)}applyToHost(Ct){this.applyStyles(),this.setAttribute(Ct,this.hostAttr,"")}createElement(Ct,Yt){const _t=super.createElement(Ct,Yt);return super.setAttribute(_t,this.contentAttr,""),_t}}let qn=(()=>{var Gt;class Ct extends ze{constructor(_t){super(_t)}supports(_t){return!0}addEventListener(_t,Et,_n){return _t.addEventListener(Et,_n,!1),()=>this.removeEventListener(_t,Et,_n)}removeEventListener(_t,Et,_n){return _t.removeEventListener(Et,_n)}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)(h.KVO(c.qQ))},Gt.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac}),Ct})();const Wt=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ue={alt:Gt=>Gt.altKey,control:Gt=>Gt.ctrlKey,meta:Gt=>Gt.metaKey,shift:Gt=>Gt.shiftKey};let ie=(()=>{var Gt;class Ct extends ze{constructor(_t){super(_t)}supports(_t){return null!=Ct.parseEventName(_t)}addEventListener(_t,Et,_n){const oe=Ct.parseEventName(Et),Q=Ct.eventCallback(oe.fullKey,_n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(_t,oe.domEventName,Q))}static parseEventName(_t){const Et=_t.toLowerCase().split("."),_n=Et.shift();if(0===Et.length||"keydown"!==_n&&"keyup"!==_n)return null;const oe=Ct._normalizeKey(Et.pop());let Q="",le=Et.indexOf("code");if(le>-1&&(Et.splice(le,1),Q="code."),Wt.forEach(tt=>{const ln=Et.indexOf(tt);ln>-1&&(Et.splice(ln,1),Q+=tt+".")}),Q+=oe,0!=Et.length||0===oe.length)return null;const Xe={};return Xe.domEventName=_n,Xe.fullKey=Q,Xe}static matchEventFullKeyCode(_t,Et){let _n=Le[_t.key]||_t.key,oe="";return Et.indexOf("code.")>-1&&(_n=_t.code,oe="code."),!(null==_n||!_n)&&(_n=_n.toLowerCase()," "===_n?_n="space":"."===_n&&(_n="dot"),Wt.forEach(Q=>{Q!==_n&&(0,Ue[Q])(_t)&&(oe+=Q+".")}),oe+=_n,oe===Et)}static eventCallback(_t,Et,_n){return oe=>{Ct.matchEventFullKeyCode(oe,_t)&&_n.runGuarded(()=>Et(oe))}}static _normalizeKey(_t){return"esc"===_t?"escape":_t}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)(h.KVO(c.qQ))},Gt.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac}),Ct})();const wn=(0,h.oH4)(h.fpN,"browser",[{provide:h.Agw,useValue:c.AJ},{provide:h.PLl,useValue:function Je(){ve.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function Mt(){return(0,h.TL$)(document),document},deps:[]}]),kt=new h.nKC(""),Mn=[{provide:h.e01,useClass:class Me{addToWindow(Ct){h.JZv.getAngularTestability=(_t,Et=!0)=>{const _n=Ct.findTestabilityInTree(_t,Et);if(null==_n)throw new h.wOt(5103,!1);return _n},h.JZv.getAllAngularTestabilities=()=>Ct.getAllTestabilities(),h.JZv.getAllAngularRootElements=()=>Ct.getAllRootElements(),h.JZv.frameworkStabilizers||(h.JZv.frameworkStabilizers=[]),h.JZv.frameworkStabilizers.push(_t=>{const Et=h.JZv.getAllAngularTestabilities();let _n=Et.length;const oe=function(){_n--,0==_n&&_t()};Et.forEach(Q=>{Q.whenStable(oe)})})}findTestabilityInTree(Ct,Yt,_t){if(null==Yt)return null;const Et=Ct.getTestability(Yt);return null!=Et?Et:_t?(0,c.QT)().isShadowRoot(Yt)?this.findTestabilityInTree(Ct,Yt.host,!0):this.findTestabilityInTree(Ct,Yt.parentElement,!0):null}},deps:[]},{provide:h.WHO,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]},{provide:h.NYb,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]}],en=[{provide:h.H8p,useValue:"root"},{provide:h.zcH,useFactory:function Lt(){return new h.zcH},deps:[]},{provide:Pe,useClass:qn,multi:!0,deps:[c.qQ,h.SKi,h.Agw]},{provide:Pe,useClass:ie,multi:!0,deps:[c.qQ]},rt,We,ye,{provide:h._9s,useExisting:rt},{provide:c.N0,useClass:Ge,deps:[]},[]];let bn=(()=>{var Gt;class Ct{constructor(_t){}static withServerTransition(_t){return{ngModule:Ct,providers:[{provide:h.sZ2,useValue:_t.appId}]}}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)(h.KVO(kt,12))},Gt.\u0275mod=h.$C({type:Gt}),Gt.\u0275inj=h.G2t({providers:[...en,...Mn],imports:[c.MD,h.Hbi]}),Ct})(),vn=(()=>{var Gt;class Ct{constructor(_t){this._doc=_t}getTitle(){return this._doc.title}setTitle(_t){this._doc.title=_t||""}}return(Gt=Ct).\u0275fac=function(_t){return new(_t||Gt)(h.KVO(c.qQ))},Gt.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac,providedIn:"root"}),Ct})()},9384:(Rn,at,x)=>{"use strict";x.d(at,{nX:()=>sn,Zp:()=>N,Z:()=>Bn,Xk:()=>Xt,b:()=>et,Ix:()=>$i,Wk:()=>gr,iI:()=>Ga,Sd:()=>Jn});var c=x(4438),h=x(1985),L=x(8071),X=x(8455),ee=x(7673),_e=x(4412),Me=x(4572),Ge=x(9350),Pe=x(8793),ye=x(8750);function ze(I){return new h.c(P=>{(0,ye.Tg)(I()).subscribe(P)})}var qe=x(1203);function We(I,P){const F=(0,L.T)(I)?I:()=>I,S=B=>B.error(F());return new h.c(P?B=>P.schedule(S,0,B):S)}var ut=x(983),vt=x(8359),st=x(9974),lt=x(4360);function xt(){return(0,st.N)((I,P)=>{let F=null;I._refCount++;const S=(0,lt._)(P,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(F=null);const B=I._connection,Ee=F;F=null,B&&(!Ee||B===Ee)&&B.unsubscribe(),P.unsubscribe()});I.subscribe(S),S.closed||(F=I.connect())})}class Tt extends h.c{constructor(P,F){super(),this.source=P,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,st.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new vt.yU;const F=this.getSubject();P.add(this.source.subscribe((0,lt._)(F,void 0,()=>{this._teardown(),F.complete()},S=>{this._teardown(),F.error(S)},()=>this._teardown()))),P.closed&&(this._connection=null,P=vt.yU.EMPTY)}return P}refCount(){return xt()(this)}}var Ie=x(1413),Te=x(177),Ne=x(6354),Qe=x(5558),rt=x(6697),Ft=x(9172),Se=x(5964),gt=x(1397),Vt=x(1594),nn=x(274),Tn=x(8141);function gn(I){return(0,st.N)((P,F)=>{let Ee,S=null,B=!1;S=P.subscribe((0,lt._)(F,void 0,void 0,De=>{Ee=(0,ye.Tg)(I(De,gn(I)(P))),S?(S.unsubscribe(),S=null,Ee.subscribe(F)):B=!0})),B&&(S.unsubscribe(),S=null,Ee.subscribe(F))})}var qn=x(2816),Wt=x(9901);function Le(I){return I<=0?()=>ut.w:(0,st.N)((P,F)=>{let S=[];P.subscribe((0,lt._)(F,B=>{S.push(B),I<S.length&&S.shift()},()=>{for(const B of S)F.next(B);F.complete()},void 0,()=>{S=null}))})}var Ue=x(3774),ie=x(3669),nt=x(980),At=x(5343),Lt=x(6365),Mt=x(345);const Xt="primary",wn=Symbol("RouteTitle");class kt{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const F=this.params[P];return Array.isArray(F)?F[0]:F}return null}getAll(P){if(this.has(P)){const F=this.params[P];return Array.isArray(F)?F:[F]}return[]}get keys(){return Object.keys(this.params)}}function Mn(I){return new kt(I)}function en(I,P,F){const S=F.path.split("/");if(S.length>I.length||"full"===F.pathMatch&&(P.hasChildren()||S.length<I.length))return null;const B={};for(let Ee=0;Ee<S.length;Ee++){const De=S[Ee],Bt=I[Ee];if(":"===De[0])B[De.substring(1)]=Bt;else if(De!==Bt.path)return null}return{consumed:I.slice(0,S.length),posParams:B}}function Qt(I,P){const F=I?Dt(I):void 0,S=P?Dt(P):void 0;if(!F||!S||F.length!=S.length)return!1;let B;for(let Ee=0;Ee<F.length;Ee++)if(B=F[Ee],!vn(I[B],P[B]))return!1;return!0}function Dt(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function vn(I,P){if(Array.isArray(I)&&Array.isArray(P)){if(I.length!==P.length)return!1;const F=[...I].sort(),S=[...P].sort();return F.every((B,Ee)=>S[Ee]===B)}return I===P}function it(I){return I.length>0?I[I.length-1]:null}function Oe(I){return function ve(I){return!!I&&(I instanceof h.c||(0,L.T)(I.lift)&&(0,L.T)(I.subscribe))}(I)?I:(0,c.jNT)(I)?(0,X.H)(Promise.resolve(I)):(0,ee.of)(I)}const Ke={exact:function ir(I,P,F){if(!jn(I.segments,P.segments)||!_r(I.segments,P.segments,F)||I.numberOfChildren!==P.numberOfChildren)return!1;for(const S in P.children)if(!I.children[S]||!ir(I.children[S],P.children[S],F))return!1;return!0},subset:zn},cn={exact:function or(I,P){return Qt(I,P)},subset:function Un(I,P){return Object.keys(P).length<=Object.keys(I).length&&Object.keys(P).every(F=>vn(I[F],P[F]))},ignored:()=>!0};function qt(I,P,F){return Ke[F.paths](I.root,P.root,F.matrixParams)&&cn[F.queryParams](I.queryParams,P.queryParams)&&!("exact"===F.fragment&&I.fragment!==P.fragment)}function zn(I,P,F){return Er(I,P,P.segments,F)}function Er(I,P,F,S){if(I.segments.length>F.length){const B=I.segments.slice(0,F.length);return!(!jn(B,F)||P.hasChildren()||!_r(B,F,S))}if(I.segments.length===F.length){if(!jn(I.segments,F)||!_r(I.segments,F,S))return!1;for(const B in P.children)if(!I.children[B]||!zn(I.children[B],P.children[B],S))return!1;return!0}{const B=F.slice(0,I.segments.length),Ee=F.slice(I.segments.length);return!!(jn(I.segments,B)&&_r(I.segments,B,S)&&I.children[Xt])&&Er(I.children[Xt],P,Ee,S)}}function _r(I,P,F){return P.every((S,B)=>cn[F](I[B].parameters,S.parameters))}class cr{constructor(P=new sr([],{}),F={},S=null){this.root=P,this.queryParams=F,this.fragment=S}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return On.serialize(this)}}class sr{constructor(P,F){this.segments=P,this.children=F,this.parent=null,Object.values(F).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pi(this)}}class Kr{constructor(P,F){this.path=P,this.parameters=F}get parameterMap(){var P;return null!==(P=this._parameterMap)&&void 0!==P||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return _t(this)}}function jn(I,P){return I.length===P.length&&I.every((F,S)=>F.path===P[S].path)}let Jn=(()=>{var I;class P{}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>new Tr,providedIn:"root"}),P})();class Tr{parse(P){const F=new Sr(P);return new cr(F.parseRootSegment(),F.parseQueryParams(),F.parseFragment())}serialize(P){const F=`/${Qn(P.root,!0)}`,S=function _n(I){const P=Object.entries(I).map(([F,S])=>Array.isArray(S)?S.map(B=>`${Ar(F)}=${Ar(B)}`).join("&"):`${Ar(F)}=${Ar(S)}`).filter(F=>F);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${F}${S}${"string"==typeof P.fragment?`#${function Cn(I){return encodeURI(I)}(P.fragment)}`:""}`}}const On=new Tr;function Pi(I){return I.segments.map(P=>_t(P)).join("/")}function Qn(I,P){if(!I.hasChildren())return Pi(I);if(P){const F=I.children[Xt]?Qn(I.children[Xt],!1):"",S=[];return Object.entries(I.children).forEach(([B,Ee])=>{B!==Xt&&S.push(`${B}:${Qn(Ee,!1)}`)}),S.length>0?`${F}(${S.join("//")})`:F}{const F=function Mr(I,P){let F=[];return Object.entries(I.children).forEach(([S,B])=>{S===Xt&&(F=F.concat(P(B,S)))}),Object.entries(I.children).forEach(([S,B])=>{S!==Xt&&(F=F.concat(P(B,S)))}),F}(I,(S,B)=>B===Xt?[Qn(I.children[Xt],!1)]:[`${B}:${Qn(S,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Xt]?`${Pi(I)}/${F[0]}`:`${Pi(I)}/(${F.join("//")})`}}function lr(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ar(I){return lr(I).replace(/%3B/gi,";")}function Gt(I){return lr(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ct(I){return decodeURIComponent(I)}function Yt(I){return Ct(I.replace(/\+/g,"%20"))}function _t(I){return`${Gt(I.path)}${function Et(I){return Object.entries(I).map(([P,F])=>`;${Gt(P)}=${Gt(F)}`).join("")}(I.parameters)}`}const oe=/^[^\/()?;#]+/;function Q(I){const P=I.match(oe);return P?P[0]:""}const le=/^[^\/()?;=#]+/,tt=/^[^=?&#]+/,Fn=/^[^&#]+/;class Sr{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let F={};this.peekStartsWith("/(")&&(this.capture("/"),F=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(P.length>0||Object.keys(F).length>0)&&(S[Xt]=new sr(P,F)),S}parseSegment(){const P=Q(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(P),new Kr(Ct(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const F=function Xe(I){const P=I.match(le);return P?P[0]:""}(this.remaining);if(!F)return;this.capture(F);let S="";if(this.consumeOptional("=")){const B=Q(this.remaining);B&&(S=B,this.capture(S))}P[Ct(F)]=Ct(S)}parseQueryParam(P){const F=function ln(I){const P=I.match(tt);return P?P[0]:""}(this.remaining);if(!F)return;this.capture(F);let S="";if(this.consumeOptional("=")){const De=function nr(I){const P=I.match(Fn);return P?P[0]:""}(this.remaining);De&&(S=De,this.capture(S))}const B=Yt(F),Ee=Yt(S);if(P.hasOwnProperty(B)){let De=P[B];Array.isArray(De)||(De=[De],P[B]=De),De.push(Ee)}else P[B]=Ee}parseParens(P){const F={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Q(this.remaining),B=this.remaining[S.length];if("/"!==B&&")"!==B&&";"!==B)throw new c.wOt(4010,!1);let Ee;S.indexOf(":")>-1?(Ee=S.slice(0,S.indexOf(":")),this.capture(Ee),this.capture(":")):P&&(Ee=Xt);const De=this.parseChildren();F[Ee]=1===Object.keys(De).length?De[Xt]:new sr([],De),this.consumeOptional("//")}return F}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new c.wOt(4011,!1)}}function yt(I){return I.segments.length>0?new sr([],{[Xt]:I}):I}function Cr(I){const P={};for(const[S,B]of Object.entries(I.children)){const Ee=Cr(B);if(S===Xt&&0===Ee.segments.length&&Ee.hasChildren())for(const[De,Bt]of Object.entries(Ee.children))P[De]=Bt;else(Ee.segments.length>0||Ee.hasChildren())&&(P[S]=Ee)}return function Nn(I){if(1===I.numberOfChildren&&I.children[Xt]){const P=I.children[Xt];return new sr(I.segments.concat(P.segments),P.children)}return I}(new sr(I.segments,P))}function Nr(I){return I instanceof cr}function tr(I){var P;let F;const Ee=yt(function S(De){const Bt={};for(const Ht of De.children){const Yn=S(Ht);Bt[Ht.outlet]=Yn}const An=new sr(De.url,Bt);return De===I&&(F=An),An}(I.root));return null!==(P=F)&&void 0!==P?P:Ee}function oi(I,P,F,S){let B=I;for(;B.parent;)B=B.parent;if(0===P.length)return Vi(B,B,B,F,S);const Ee=function pe(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new xr(!0,0,I);let P=0,F=!1;const S=I.reduce((B,Ee,De)=>{if("object"==typeof Ee&&null!=Ee){if(Ee.outlets){const Bt={};return Object.entries(Ee.outlets).forEach(([An,Ht])=>{Bt[An]="string"==typeof Ht?Ht.split("/"):Ht}),[...B,{outlets:Bt}]}if(Ee.segmentPath)return[...B,Ee.segmentPath]}return"string"!=typeof Ee?[...B,Ee]:0===De?(Ee.split("/").forEach((Bt,An)=>{0==An&&"."===Bt||(0==An&&""===Bt?F=!0:".."===Bt?P++:""!=Bt&&B.push(Bt))}),B):[...B,Ee]},[]);return new xr(F,P,S)}(P);if(Ee.toRoot())return Vi(B,B,new sr([],{}),F,S);const De=function Re(I,P,F){if(I.isAbsolute)return new q(P,!0,0);if(!F)return new q(P,!1,NaN);if(null===F.parent)return new q(F,!0,0);const S=Wi(I.commands[0])?0:1;return function ne(I,P,F){let S=I,B=P,Ee=F;for(;Ee>B;){if(Ee-=B,S=S.parent,!S)throw new c.wOt(4005,!1);B=S.segments.length}return new q(S,!1,B-Ee)}(F,F.segments.length-1+S,I.numberOfDoubleDots)}(Ee,B,I),Bt=De.processChildren?Nt(De.segmentGroup,De.index,Ee.commands):xe(De.segmentGroup,De.index,Ee.commands);return Vi(B,De.segmentGroup,Bt,F,S)}function Wi(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function ki(I){return"object"==typeof I&&null!=I&&I.outlets}function Vi(I,P,F,S,B){let De,Ee={};S&&Object.entries(S).forEach(([An,Ht])=>{Ee[An]=Array.isArray(Ht)?Ht.map(Yn=>`${Yn}`):`${Ht}`}),De=I===P?F:eo(I,P,F);const Bt=yt(Cr(De));return new cr(Bt,Ee,B)}function eo(I,P,F){const S={};return Object.entries(I.children).forEach(([B,Ee])=>{S[B]=Ee===P?F:eo(Ee,P,F)}),new sr(I.segments,S)}class xr{constructor(P,F,S){if(this.isAbsolute=P,this.numberOfDoubleDots=F,this.commands=S,P&&S.length>0&&Wi(S[0]))throw new c.wOt(4003,!1);const B=S.find(ki);if(B&&B!==it(S))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q{constructor(P,F,S){this.segmentGroup=P,this.processChildren=F,this.index=S}}function xe(I,P,F){var S;if(null!==(S=I)&&void 0!==S||(I=new sr([],{})),0===I.segments.length&&I.hasChildren())return Nt(I,P,F);const B=function on(I,P,F){let S=0,B=P;const Ee={match:!1,pathIndex:0,commandIndex:0};for(;B<I.segments.length;){if(S>=F.length)return Ee;const De=I.segments[B],Bt=F[S];if(ki(Bt))break;const An=`${Bt}`,Ht=S<F.length-1?F[S+1]:null;if(B>0&&void 0===An)break;if(An&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!pt(An,Ht,De))return Ee;S+=2}else{if(!pt(An,{},De))return Ee;S++}B++}return{match:!0,pathIndex:B,commandIndex:S}}(I,P,F),Ee=F.slice(B.commandIndex);if(B.match&&B.pathIndex<I.segments.length){const De=new sr(I.segments.slice(0,B.pathIndex),{});return De.children[Xt]=new sr(I.segments.slice(B.pathIndex),I.children),Nt(De,0,Ee)}return B.match&&0===Ee.length?new sr(I.segments,{}):B.match&&!I.hasChildren()?yn(I,P,F):B.match?Nt(I,0,Ee):yn(I,P,F)}function Nt(I,P,F){if(0===F.length)return new sr(I.segments,{});{const S=function se(I){return ki(I[0])?I[0].outlets:{[Xt]:I}}(F),B={};if(Object.keys(S).some(Ee=>Ee!==Xt)&&I.children[Xt]&&1===I.numberOfChildren&&0===I.children[Xt].segments.length){const Ee=Nt(I.children[Xt],P,F);return new sr(I.segments,Ee.children)}return Object.entries(S).forEach(([Ee,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(B[Ee]=xe(I.children[Ee],P,De))}),Object.entries(I.children).forEach(([Ee,De])=>{void 0===S[Ee]&&(B[Ee]=De)}),new sr(I.segments,B)}}function yn(I,P,F){const S=I.segments.slice(0,P);let B=0;for(;B<F.length;){const Ee=F[B];if(ki(Ee)){const An=he(Ee.outlets);return new sr(S,An)}if(0===B&&Wi(F[0])){S.push(new Kr(I.segments[P].path,$e(F[0]))),B++;continue}const De=ki(Ee)?Ee.outlets[Xt]:`${Ee}`,Bt=B<F.length-1?F[B+1]:null;De&&Bt&&Wi(Bt)?(S.push(new Kr(De,$e(Bt))),B+=2):(S.push(new Kr(De,{})),B++)}return new sr(S,{})}function he(I){const P={};return Object.entries(I).forEach(([F,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(P[F]=yn(new sr([],{}),0,S))}),P}function $e(I){const P={};return Object.entries(I).forEach(([F,S])=>P[F]=`${S}`),P}function pt(I,P,F){return I==F.path&&Qt(P,F.parameters)}const St="imperative";var zt=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(zt||{});class In{constructor(P,F){this.id=P,this.url=F}}class Bn extends In{constructor(P,F,S="imperative",B=null){super(P,F),this.type=zt.NavigationStart,this.navigationTrigger=S,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gn extends In{constructor(P,F,S){super(P,F),this.urlAfterRedirects=S,this.type=zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var fr=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(fr||{}),ar=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(ar||{});class Vr extends In{constructor(P,F,S,B){super(P,F),this.reason=S,this.code=B,this.type=zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ai extends In{constructor(P,F,S,B){super(P,F),this.reason=S,this.code=B,this.type=zt.NavigationSkipped}}class Fi extends In{constructor(P,F,S,B){super(P,F),this.error=S,this.target=B,this.type=zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bi extends In{constructor(P,F,S,B){super(P,F),this.urlAfterRedirects=S,this.state=B,this.type=zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr extends In{constructor(P,F,S,B){super(P,F),this.urlAfterRedirects=S,this.state=B,this.type=zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends In{constructor(P,F,S,B,Ee){super(P,F),this.urlAfterRedirects=S,this.state=B,this.shouldActivate=Ee,this.type=zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hr extends In{constructor(P,F,S,B){super(P,F),this.urlAfterRedirects=S,this.state=B,this.type=zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends In{constructor(P,F,S,B){super(P,F),this.urlAfterRedirects=S,this.state=B,this.type=zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci{constructor(P){this.route=P,this.type=zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{constructor(P){this.route=P,this.type=zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wi{constructor(P){this.snapshot=P,this.type=zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(P){this.snapshot=P,this.type=zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wr{constructor(P){this.snapshot=P,this.type=zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(P){this.snapshot=P,this.type=zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(P,F,S){this.routerEvent=P,this.position=F,this.anchor=S,this.type=zt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class co{}class Di{constructor(P,F){this.url=P,this.navigationBehaviorOptions=F}}function ci(I){return I.outlet||Xt}function Z(I){var P;if(!I)return null;if(null!==(P=I.routeConfig)&&void 0!==P&&P._injector)return I.routeConfig._injector;for(let F=I.parent;F;F=F.parent){const S=F.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class fe{get injector(){var P,F;return null!==(P=Z(null===(F=this.route)||void 0===F?void 0:F.snapshot))&&void 0!==P?P:this.rootInjector}set injector(P){}constructor(P){this.rootInjector=P,this.outlet=null,this.route=null,this.children=new N(this.rootInjector),this.attachRef=null}}let N=(()=>{var I;class P{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,B){const Ee=this.getOrCreateContext(S);Ee.outlet=B,this.contexts.set(S,Ee)}onChildOutletDestroyed(S){const B=this.getContext(S);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let B=this.getContext(S);return B||(B=new fe(this.rootInjector),this.contexts.set(S,B)),B}getContext(S){return this.contexts.get(S)||null}}return(I=P).\u0275fac=function(S){return new(S||I)(c.KVO(c.uvJ))},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})();class T{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const F=this.pathFromRoot(P);return F.length>1?F[F.length-2]:null}children(P){const F=V(P,this._root);return F?F.children.map(S=>S.value):[]}firstChild(P){const F=V(P,this._root);return F&&F.children.length>0?F.children[0].value:null}siblings(P){const F=Ve(P,this._root);return F.length<2?[]:F[F.length-2].children.map(B=>B.value).filter(B=>B!==P)}pathFromRoot(P){return Ve(P,this._root).map(F=>F.value)}}function V(I,P){if(I===P.value)return P;for(const F of P.children){const S=V(I,F);if(S)return S}return null}function Ve(I,P){if(I===P.value)return[P];for(const F of P.children){const S=Ve(I,F);if(S.length)return S.unshift(P),S}return[]}class Ye{constructor(P,F){this.value=P,this.children=F}toString(){return`TreeNode(${this.value})`}}function bt(I){const P={};return I&&I.children.forEach(F=>P[F.value.outlet]=F),P}class It extends T{constructor(P,F){super(P),this.snapshot=F,er(this,P)}toString(){return this.snapshot.toString()}}function dn(I){const P=function Ut(I){const Ee=new $n([],{},{},"",{},Xt,I,null,{});return new Xn("",new Ye(Ee,[]))}(I),F=new _e.t([new Kr("",{})]),S=new _e.t({}),B=new _e.t({}),Ee=new _e.t({}),De=new _e.t(""),Bt=new sn(F,S,Ee,De,B,Xt,I,P.root);return Bt.snapshot=P.root,new It(new Ye(Bt,[]),P)}class sn{constructor(P,F,S,B,Ee,De,Bt,An){var Ht,Yn;this.urlSubject=P,this.paramsSubject=F,this.queryParamsSubject=S,this.fragmentSubject=B,this.dataSubject=Ee,this.outlet=De,this.component=Bt,this._futureSnapshot=An,this.title=null!==(Ht=null===(Yn=this.dataSubject)||void 0===Yn?void 0:Yn.pipe((0,Ne.T)(jr=>jr[wn])))&&void 0!==Ht?Ht:(0,ee.of)(void 0),this.url=P,this.params=F,this.queryParams=S,this.fragment=B,this.data=Ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=this.params.pipe((0,Ne.T)(F=>Mn(F)))),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=this.queryParams.pipe((0,Ne.T)(F=>Mn(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pn(I,P,F="emptyOnly"){var S;let B;const{routeConfig:Ee}=I;var De;return B=null===P||"always"!==F&&""!==(null==Ee?void 0:Ee.path)&&(P.component||null!==(S=P.routeConfig)&&void 0!==S&&S.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...null!==(De=I._resolvedData)&&void 0!==De?De:{}}}:{params:{...P.params,...I.params},data:{...P.data,...I.data},resolve:{...I.data,...P.data,...null==Ee?void 0:Ee.data,...I._resolvedData}},Ee&&Ii(Ee)&&(B.resolve[wn]=Ee.title),B}class $n{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[wn]}constructor(P,F,S,B,Ee,De,Bt,An,Ht){this.url=P,this.params=F,this.queryParams=S,this.fragment=B,this.data=Ee,this.outlet=De,this.component=Bt,this.routeConfig=An,this._resolve=Ht}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xn extends T{constructor(P,F){super(F),this.url=P,er(this,F)}toString(){return ur(this._root)}}function er(I,P){P.value._routerState=I,P.children.forEach(F=>er(I,F))}function ur(I){const P=I.children.length>0?` { ${I.children.map(ur).join(", ")} } `:"";return`${I.value}${P}`}function Ur(I){if(I.snapshot){const P=I.snapshot,F=I._futureSnapshot;I.snapshot=F,Qt(P.queryParams,F.queryParams)||I.queryParamsSubject.next(F.queryParams),P.fragment!==F.fragment&&I.fragmentSubject.next(F.fragment),Qt(P.params,F.params)||I.paramsSubject.next(F.params),function bn(I,P){if(I.length!==P.length)return!1;for(let F=0;F<I.length;++F)if(!Qt(I[F],P[F]))return!1;return!0}(P.url,F.url)||I.urlSubject.next(F.url),Qt(P.data,F.data)||I.dataSubject.next(F.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function yi(I,P){const F=Qt(I.params,P.params)&&function hi(I,P){return jn(I,P)&&I.every((F,S)=>Qt(F.parameters,P[S].parameters))}(I.url,P.url);return F&&!(!I.parent!=!P.parent)&&(!I.parent||yi(I.parent,P.parent))}function Ii(I){return"string"==typeof I.title||null===I.title}let mi=(()=>{var I;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(N),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(oo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:B,previousValue:Ee}=S.name;if(B)return;this.isTrackedInParentContexts(Ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ee)),this.initializeOutletWithName()}}ngOnDestroy(){var S;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(S=this.inputBinder)||void 0===S||S.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){var B;return(null===(B=this.parentContexts.getContext(S))||void 0===B?void 0:B.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,B){var Ee;this.activated=S,this._activatedRoute=B,this.location.insert(S.hostView),null===(Ee=this.inputBinder)||void 0===Ee||Ee.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,B){var Ee;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=S;const De=this.location,An=S.snapshot.component,Ht=this.parentContexts.getOrCreateContext(this.name).children,Yn=new gi(S,Ht,De.injector);this.activated=De.createComponent(An,{index:De.length,injector:Yn,environmentInjector:B}),this.changeDetector.markForCheck(),null===(Ee=this.inputBinder)||void 0===Ee||Ee.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275dir=c.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),P})();class gi{__ngOutletInjector(P){return new gi(this.route,this.childContexts,P)}constructor(P,F,S){this.route=P,this.childContexts=F,this.parent=S}get(P,F){return P===sn?this.route:P===N?this.childContexts:this.parent.get(P,F)}}const oo=new c.nKC("");let Ji=(()=>{var I;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){var B;null===(B=this.outletDataSubscriptions.get(S))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:B}=S,Ee=(0,Me.z)([B.queryParams,B.params,B.data]).pipe((0,Qe.n)(([De,Bt,An],Ht)=>(An={...De,...Bt,...An},0===Ht?(0,ee.of)(An):Promise.resolve(An)))).subscribe(De=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(S);const Bt=(0,c.HJs)(B.component);if(Bt)for(const{templateName:An}of Bt.inputs)S.activatedComponentRef.setInput(An,De[An]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,Ee)}}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac}),P})();function ho(I,P,F){if(F&&I.shouldReuseRoute(P.value,F.value.snapshot)){const S=F.value;S._futureSnapshot=P.value;const B=function Uo(I,P,F){return P.children.map(S=>{for(const B of F.children)if(I.shouldReuseRoute(S.value,B.value.snapshot))return ho(I,S,B);return ho(I,S)})}(I,P,F);return new Ye(S,B)}{if(I.shouldAttach(P.value)){const Ee=I.retrieve(P.value);if(null!==Ee){const De=Ee.route;return De.value._futureSnapshot=P.value,De.children=P.children.map(Bt=>ho(I,Bt)),De}}const S=function rs(I){return new sn(new _e.t(I.url),new _e.t(I.params),new _e.t(I.queryParams),new _e.t(I.fragment),new _e.t(I.data),I.outlet,I.component,I)}(P.value),B=P.children.map(Ee=>ho(I,Ee));return new Ye(S,B)}}class Fo{constructor(P,F){this.redirectTo=P,this.navigationBehaviorOptions=F}}const ds="ngNavigationCancelingError";function Bo(I,P){const{redirectTo:F,navigationBehaviorOptions:S}=Nr(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,B=$o(!1,fr.Redirect);return B.url=F,B.navigationBehaviorOptions=S,B}function $o(I,P){const F=new Error(`NavigationCancelingError: ${I||""}`);return F[ds]=!0,F.cancellationCode=P,F}function so(I){return!!I&&I[ds]}class wo{constructor(P,F,S,B,Ee){this.routeReuseStrategy=P,this.futureState=F,this.currState=S,this.forwardEvent=B,this.inputBindingEnabled=Ee}activate(P){const F=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(F,S,P),Ur(this.futureState.root),this.activateChildRoutes(F,S,P)}deactivateChildRoutes(P,F,S){const B=bt(F);P.children.forEach(Ee=>{const De=Ee.value.outlet;this.deactivateRoutes(Ee,B[De],S),delete B[De]}),Object.values(B).forEach(Ee=>{this.deactivateRouteAndItsChildren(Ee,S)})}deactivateRoutes(P,F,S){const B=P.value,Ee=F?F.value:null;if(B===Ee)if(B.component){const De=S.getContext(B.outlet);De&&this.deactivateChildRoutes(P,F,De.children)}else this.deactivateChildRoutes(P,F,S);else Ee&&this.deactivateRouteAndItsChildren(F,S)}deactivateRouteAndItsChildren(P,F){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,F):this.deactivateRouteAndOutlet(P,F)}detachAndStoreRouteSubtree(P,F){const S=F.getContext(P.value.outlet),B=S&&P.value.component?S.children:F,Ee=bt(P);for(const De of Object.values(Ee))this.deactivateRouteAndItsChildren(De,B);if(S&&S.outlet){const De=S.outlet.detach(),Bt=S.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:De,route:P,contexts:Bt})}}deactivateRouteAndOutlet(P,F){const S=F.getContext(P.value.outlet),B=S&&P.value.component?S.children:F,Ee=bt(P);for(const De of Object.values(Ee))this.deactivateRouteAndItsChildren(De,B);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(P,F,S){const B=bt(F);P.children.forEach(Ee=>{this.activateRoutes(Ee,B[Ee.value.outlet],S),this.forwardEvent(new vo(Ee.value.snapshot))}),P.children.length&&this.forwardEvent(new pr(P.value.snapshot))}activateRoutes(P,F,S){const B=P.value,Ee=F?F.value:null;if(Ur(B),B===Ee)if(B.component){const De=S.getOrCreateContext(B.outlet);this.activateChildRoutes(P,F,De.children)}else this.activateChildRoutes(P,F,S);else if(B.component){const De=S.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Bt=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),De.children.onOutletReAttached(Bt.contexts),De.attachRef=Bt.componentRef,De.route=Bt.route.value,De.outlet&&De.outlet.attach(Bt.componentRef,Bt.route.value),Ur(Bt.route.value),this.activateChildRoutes(P,null,De.children)}else De.attachRef=null,De.route=B,De.outlet&&De.outlet.activateWith(B,De.injector),this.activateChildRoutes(P,null,De.children)}else this.activateChildRoutes(P,null,S)}}class Ps{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Gr{constructor(P,F){this.component=P,this.route=F}}function ei(I,P,F){const S=I._root;return ae(S,P?P._root:null,F,[S.value])}function fs(I,P){const F=Symbol(),S=P.get(I,F);return S===F?"function"!=typeof I||(0,c.LfX)(I)?P.get(I):I:S}function ae(I,P,F,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const Ee=bt(P);return I.children.forEach(De=>{(function G(I,P,F,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const Ee=I.value,De=P?P.value:null,Bt=F?F.getContext(I.value.outlet):null;if(De&&Ee.routeConfig===De.routeConfig){const An=function b(I,P,F){if("function"==typeof F)return F(I,P);switch(F){case"pathParamsChange":return!jn(I.url,P.url);case"pathParamsOrQueryParamsChange":return!jn(I.url,P.url)||!Qt(I.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yi(I,P)||!Qt(I.queryParams,P.queryParams);default:return!yi(I,P)}}(De,Ee,Ee.routeConfig.runGuardsAndResolvers);An?B.canActivateChecks.push(new Ps(S)):(Ee.data=De.data,Ee._resolvedData=De._resolvedData),ae(I,P,Ee.component?Bt?Bt.children:null:F,S,B),An&&Bt&&Bt.outlet&&Bt.outlet.isActivated&&B.canDeactivateChecks.push(new Gr(Bt.outlet.component,De))}else De&&A(P,Bt,B),B.canActivateChecks.push(new Ps(S)),ae(I,null,Ee.component?Bt?Bt.children:null:F,S,B)})(De,Ee[De.value.outlet],F,S.concat([De.value]),B),delete Ee[De.value.outlet]}),Object.entries(Ee).forEach(([De,Bt])=>A(Bt,F.getContext(De),B)),B}function A(I,P,F){const S=bt(I),B=I.value;Object.entries(S).forEach(([Ee,De])=>{A(De,B.component?P?P.children.getContext(Ee):null:P,F)}),F.canDeactivateChecks.push(new Gr(B.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,B))}function j(I){return"function"==typeof I}function Dn(I){return I instanceof Ge.G||"EmptyError"===(null==I?void 0:I.name)}const Hn=Symbol("INITIAL_VALUE");function mr(){return(0,Qe.n)(I=>(0,Me.z)(I.map(P=>P.pipe((0,rt.s)(1),(0,Ft.Z)(Hn)))).pipe((0,Ne.T)(P=>{for(const F of P)if(!0!==F){if(F===Hn)return Hn;if(!1===F||br(F))return F}return!0}),(0,Se.p)(P=>P!==Hn),(0,rt.s)(1)))}function br(I){return Nr(I)||I instanceof Fo}function En(I){return(0,qe.F)((0,Tn.M)(P=>{if("boolean"!=typeof P)throw Bo(0,P)}),(0,Ne.T)(P=>!0===P))}class xi{constructor(P){this.segmentGroup=P||null}}class fo extends Error{constructor(P){super(),this.urlTree=P}}function po(I){return We(new xi(I))}class ca{constructor(P,F){this.urlSerializer=P,this.urlTree=F}lineralizeSegments(P,F){let S=[],B=F.root;for(;;){if(S=S.concat(B.segments),0===B.numberOfChildren)return(0,ee.of)(S);if(B.numberOfChildren>1||!B.children[Xt])return We(new c.wOt(4e3,!1));B=B.children[Xt]}}applyRedirectCommands(P,F,S,B,Ee){if("string"!=typeof F){const Bt=F,{queryParams:An,fragment:Ht,routeConfig:Yn,url:jr,outlet:Li,params:ri,data:zi,title:ko}=B,Ho=(0,c.N4e)(Ee,()=>Bt({params:ri,data:zi,queryParams:An,fragment:Ht,routeConfig:Yn,url:jr,outlet:Li,title:ko}));if(Ho instanceof cr)throw new fo(Ho);F=Ho}const De=this.applyRedirectCreateUrlTree(F,this.urlSerializer.parse(F),P,S);if("/"===F[0])throw new fo(De);return De}applyRedirectCreateUrlTree(P,F,S,B){const Ee=this.createSegmentGroup(P,F.root,S,B);return new cr(Ee,this.createQueryParams(F.queryParams,this.urlTree.queryParams),F.fragment)}createQueryParams(P,F){const S={};return Object.entries(P).forEach(([B,Ee])=>{if("string"==typeof Ee&&":"===Ee[0]){const Bt=Ee.substring(1);S[B]=F[Bt]}else S[B]=Ee}),S}createSegmentGroup(P,F,S,B){const Ee=this.createSegments(P,F.segments,S,B);let De={};return Object.entries(F.children).forEach(([Bt,An])=>{De[Bt]=this.createSegmentGroup(P,An,S,B)}),new sr(Ee,De)}createSegments(P,F,S,B){return F.map(Ee=>":"===Ee.path[0]?this.findPosParam(P,Ee,B):this.findOrReturn(Ee,S))}findPosParam(P,F,S){const B=S[F.path.substring(1)];if(!B)throw new c.wOt(4001,!1);return B}findOrReturn(P,F){let S=0;for(const B of F){if(B.path===P.path)return F.splice(S),B;S++}return P}}const da={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qr(I,P,F,S,B){const Ee=Ti(I,P,F);return Ee.matched?(S=function Qi(I,P){var F;return I.providers&&!I._injector&&(I._injector=(0,c.Ol2)(I.providers,P,`Route: ${I.path}`)),null!==(F=I._injector)&&void 0!==F?F:P}(P,S),function dr(I,P,F,S){const B=P.canMatch;if(!B||0===B.length)return(0,ee.of)(!0);const Ee=B.map(De=>{const Bt=fs(De,I);return Oe(function ht(I){return I&&j(I.canMatch)}(Bt)?Bt.canMatch(P,F):(0,c.N4e)(I,()=>Bt(P,F)))});return(0,ee.of)(Ee).pipe(mr(),En())}(S,P,F).pipe((0,Ne.T)(De=>!0===De?Ee:{...da}))):(0,ee.of)(Ee)}function Ti(I,P,F){var S,B;if("**"===P.path)return function ao(I){return{matched:!0,parameters:I.length>0?it(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(F);if(""===P.path)return"full"===P.pathMatch&&(I.hasChildren()||F.length>0)?{...da}:{matched:!0,consumedSegments:[],remainingSegments:F,parameters:{},positionalParamSegments:{}};const De=(P.matcher||en)(F,I,P);if(!De)return{...da};const Bt={};Object.entries(null!==(S=De.posParams)&&void 0!==S?S:{}).forEach(([Ht,Yn])=>{Bt[Ht]=Yn.path});const An=De.consumed.length>0?{...Bt,...De.consumed[De.consumed.length-1].parameters}:Bt;return{matched:!0,consumedSegments:De.consumed,remainingSegments:F.slice(De.consumed.length),parameters:An,positionalParamSegments:null!==(B=De.posParams)&&void 0!==B?B:{}}}function ps(I,P,F,S){return F.length>0&&function Ws(I,P,F){return F.some(S=>Ms(I,P,S)&&ci(S)!==Xt)}(I,F,S)?{segmentGroup:new sr(P,Va(S,new sr(F,I.children))),slicedSegments:[]}:0===F.length&&function gs(I,P,F){return F.some(S=>Ms(I,P,S))}(I,F,S)?{segmentGroup:new sr(I.segments,go(I,F,S,I.children)),slicedSegments:F}:{segmentGroup:new sr(I.segments,I.children),slicedSegments:F}}function go(I,P,F,S){const B={};for(const Ee of F)if(Ms(I,P,Ee)&&!S[ci(Ee)]){const De=new sr([],{});B[ci(Ee)]=De}return{...S,...B}}function Va(I,P){const F={};F[Xt]=P;for(const S of I)if(""===S.path&&ci(S)!==Xt){const B=new sr([],{});F[ci(S)]=B}return F}function Ms(I,P,F){return(!(I.hasChildren()||P.length>0)||"full"!==F.pathMatch)&&""===F.path}class ha{}class Ks{constructor(P,F,S,B,Ee,De,Bt){this.injector=P,this.configLoader=F,this.rootComponentType=S,this.config=B,this.urlTree=Ee,this.paramsInheritanceStrategy=De,this.urlSerializer=Bt,this.applyRedirects=new ca(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new c.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=ps(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,Ne.T)(({children:F,rootSnapshot:S})=>{const B=new Ye(S,F),Ee=new Xn("",B),De=function Jr(I,P,F=null,S=null){return oi(tr(I),P,F,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,Ee.url=this.urlSerializer.serialize(De),{state:Ee,tree:De}}))}match(P){const F=new $n([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Xt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,Xt,F).pipe((0,Ne.T)(S=>({children:S,rootSnapshot:F})),gn(S=>{if(S instanceof fo)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof xi?this.noMatchError(S):S}))}processSegmentGroup(P,F,S,B,Ee){return 0===S.segments.length&&S.hasChildren()?this.processChildren(P,F,S,Ee):this.processSegment(P,F,S,S.segments,B,!0,Ee).pipe((0,Ne.T)(De=>De instanceof Ye?[De]:[]))}processChildren(P,F,S,B){const Ee=[];for(const De of Object.keys(S.children))"primary"===De?Ee.unshift(De):Ee.push(De);return(0,X.H)(Ee).pipe((0,nn.H)(De=>{const Bt=S.children[De],An=function M(I,P){const F=I.filter(S=>ci(S)===P);return F.push(...I.filter(S=>ci(S)!==P)),F}(F,De);return this.processSegmentGroup(P,An,Bt,De,B)}),(0,qn.S)((De,Bt)=>(De.push(...Bt),De)),(0,Wt.U)(null),function de(I,P){const F=arguments.length>=2;return S=>S.pipe(I?(0,Se.p)((B,Ee)=>I(B,Ee,S)):ie.D,Le(1),F?(0,Wt.U)(P):(0,Ue.v)(()=>new Ge.G))}(),(0,gt.Z)(De=>{if(null===De)return po(S);const Bt=Ua(De);return function Sl(I){I.sort((P,F)=>P.value.outlet===Xt?-1:F.value.outlet===Xt?1:P.value.outlet.localeCompare(F.value.outlet))}(Bt),(0,ee.of)(Bt)}))}processSegment(P,F,S,B,Ee,De,Bt){return(0,X.H)(F).pipe((0,nn.H)(An=>{var Ht;return this.processSegmentAgainstRoute(null!==(Ht=An._injector)&&void 0!==Ht?Ht:P,F,An,S,B,Ee,De,Bt).pipe(gn(Yn=>{if(Yn instanceof xi)return(0,ee.of)(null);throw Yn}))}),(0,Vt.$)(An=>!!An),gn(An=>{if(Dn(An))return function al(I,P,F){return 0===P.length&&!I.children[F]}(S,B,Ee)?(0,ee.of)(new ha):po(S);throw An}))}processSegmentAgainstRoute(P,F,S,B,Ee,De,Bt,An){return ci(S)===De||De!==Xt&&Ms(B,Ee,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(P,B,S,Ee,De,An):this.allowRedirects&&Bt?this.expandSegmentAgainstRouteUsingRedirect(P,B,F,S,Ee,De,An):po(B):po(B)}expandSegmentAgainstRouteUsingRedirect(P,F,S,B,Ee,De,Bt){var An,Ht;const{matched:Yn,parameters:jr,consumedSegments:Li,positionalParamSegments:ri,remainingSegments:zi}=Ti(F,B,Ee);if(!Yn)return po(F);"string"==typeof B.redirectTo&&"/"===B.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ko=new $n(Ee,jr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fa(B),ci(B),null!==(An=null!==(Ht=B.component)&&void 0!==Ht?Ht:B._loadedComponent)&&void 0!==An?An:null,B,ms(B)),Ho=pn(ko,Bt,this.paramsInheritanceStrategy);ko.params=Object.freeze(Ho.params),ko.data=Object.freeze(Ho.data);const Ka=this.applyRedirects.applyRedirectCommands(Li,B.redirectTo,ri,ko,P);return this.applyRedirects.lineralizeSegments(B,Ka).pipe((0,gt.Z)(Ko=>this.processSegment(P,S,F,Ko.concat(zi),De,!1,Bt)))}matchSegmentAgainstRoute(P,F,S,B,Ee,De){const Bt=qr(F,S,B,P);return"**"===S.path&&(F.children={}),Bt.pipe((0,Qe.n)(An=>{var Ht;return An.matched?(P=null!==(Ht=S._injector)&&void 0!==Ht?Ht:P,this.getChildConfig(P,S,B).pipe((0,Qe.n)(({routes:Yn})=>{var jr,Li,ri;const zi=null!==(jr=S._loadedInjector)&&void 0!==jr?jr:P,{parameters:ko,consumedSegments:Ho,remainingSegments:Ka}=An,Ko=new $n(Ho,ko,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fa(S),ci(S),null!==(Li=null!==(ri=S.component)&&void 0!==ri?ri:S._loadedComponent)&&void 0!==Li?Li:null,S,ms(S)),Ls=pn(Ko,De,this.paramsInheritanceStrategy);Ko.params=Object.freeze(Ls.params),Ko.data=Object.freeze(Ls.data);const{segmentGroup:fl,slicedSegments:nu}=ps(F,Ho,Ka,Yn);if(0===nu.length&&fl.hasChildren())return this.processChildren(zi,Yn,fl,Ko).pipe((0,Ne.T)(ra=>new Ye(Ko,ra)));if(0===Yn.length&&0===nu.length)return(0,ee.of)(new Ye(Ko,[]));const xl=ci(S)===Ee;return this.processSegment(zi,Yn,fl,nu,xl?Xt:Ee,!0,Ko).pipe((0,Ne.T)(ra=>new Ye(Ko,ra instanceof Ye?[ra]:[])))}))):po(F)}))}getChildConfig(P,F,S){return F.children?(0,ee.of)({routes:F.children,injector:P}):F.loadChildren?void 0!==F._loadedRoutes?(0,ee.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):function we(I,P,F,S){const B=P.canLoad;if(void 0===B||0===B.length)return(0,ee.of)(!0);const Ee=B.map(De=>{const Bt=fs(De,I);return Oe(function be(I){return I&&j(I.canLoad)}(Bt)?Bt.canLoad(P,F):(0,c.N4e)(I,()=>Bt(P,F)))});return(0,ee.of)(Ee).pipe(mr(),En())}(P,F,S).pipe((0,gt.Z)(B=>B?this.configLoader.loadChildren(P,F).pipe((0,Tn.M)(Ee=>{F._loadedRoutes=Ee.routes,F._loadedInjector=Ee.injector})):function is(){return We($o(!1,fr.GuardRejected))}())):(0,ee.of)({routes:[],injector:P})}}function Go(I){const P=I.value.routeConfig;return P&&""===P.path}function Ua(I){const P=[],F=new Set;for(const S of I){if(!Go(S)){P.push(S);continue}const B=P.find(Ee=>S.value.routeConfig===Ee.value.routeConfig);void 0!==B?(B.children.push(...S.children),F.add(B)):P.push(S)}for(const S of F){const B=Ua(S.children);P.push(new Ye(S.value,B))}return P.filter(S=>!F.has(S))}function fa(I){return I.data||{}}function ms(I){return I.resolve||{}}function cl(I){const P=I.children.map(F=>cl(F)).flat();return[I,...P]}function ea(I){return(0,Qe.n)(P=>{const F=I(P);return F?(0,X.H)(F).pipe((0,Ne.T)(()=>P)):(0,ee.of)(P)})}let Sa=(()=>{var I;class P{buildTitle(S){let B,Ee=S.root;for(;void 0!==Ee;){var De;B=null!==(De=this.getResolvedTitleForRoute(Ee))&&void 0!==De?De:B,Ee=Ee.children.find(Bt=>Bt.outlet===Xt)}return B}getResolvedTitleForRoute(S){return S.data[wn]}}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(Wo),providedIn:"root"}),P})(),Wo=(()=>{var I;class P extends Sa{constructor(S){super(),this.title=S}updateTitle(S){const B=this.buildTitle(S);void 0!==B&&this.title.setTitle(B)}}return(I=P).\u0275fac=function(S){return new(S||I)(c.KVO(Mt.hE))},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})();const vs=new c.nKC("",{providedIn:"root",factory:()=>({})});let ta=(()=>{var I;class P{}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275cmp=c.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(S,B){1&S&&c.nrm(0,"router-outlet")},dependencies:[mi],encapsulation:2}),P})();function tu(I){const P=I.children&&I.children.map(tu),F=P?{...I,children:P}:{...I};return!F.component&&!F.loadComponent&&(P||F.loadChildren)&&F.outlet&&F.outlet!==Xt&&(F.component=ta),F}const $a=new c.nKC("");let ja=(()=>{var I;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,ee.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const B=Oe(S.loadComponent()).pipe((0,Ne.T)(pa),(0,Tn.M)(De=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=De}),(0,nt.j)(()=>{this.componentLoaders.delete(S)})),Ee=new Tt(B,()=>new Ie.B).pipe(xt());return this.componentLoaders.set(S,Ee),Ee}loadChildren(S,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,ee.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const De=function os(I,P,F,S){return Oe(I.loadChildren()).pipe((0,Ne.T)(pa),(0,gt.Z)(B=>B instanceof c.Co$||Array.isArray(B)?(0,ee.of)(B):(0,X.H)(P.compileModuleAsync(B))),(0,Ne.T)(B=>{S&&S(I);let Ee,De,Bt=!1;return Array.isArray(B)?(De=B,!0):(Ee=B.create(F).injector,De=Ee.get($a,[],{optional:!0,self:!0}).flat()),{routes:De.map(tu),injector:Ee}}))}(B,this.compiler,S,this.onLoadEndListener).pipe((0,nt.j)(()=>{this.childrenLoaders.delete(B)})),Bt=new Tt(De,()=>new Ie.B).pipe(xt());return this.childrenLoaders.set(B,Bt),Bt}}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})();function pa(I){return function qs(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let _s=(()=>{var I;class P{}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(ga),providedIn:"root"}),P})(),ga=(()=>{var I;class P{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,B){return S}}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})();const Ra=new c.nKC(""),Pl=new c.nKC("");function w(I,P,F){const S=I.get(Pl),B=I.get(Te.qQ);return I.get(c.SKi).runOutsideAngular(()=>{if(!B.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(Ht=>setTimeout(Ht));let Ee;const De=new Promise(Ht=>{Ee=Ht}),Bt=B.startViewTransition(()=>(Ee(),function W(I){return new Promise(P=>{(0,c.mal)({read:()=>setTimeout(P)},{injector:I})})}(I))),{onViewTransitionCreated:An}=S;return An&&(0,c.N4e)(I,()=>An({transition:Bt,from:P,to:F})),De})}const je=new c.nKC("");let z=(()=>{var I;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ie.B,this.transitionAbortSubject=new Ie.B,this.configLoader=(0,c.WQX)(ja),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Jn),this.rootContexts=(0,c.WQX)(N),this.location=(0,c.WQX)(Te.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(oo,{optional:!0}),this.titleStrategy=(0,c.WQX)(Sa),this.options=(0,c.WQX)(vs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(_s),this.createViewTransition=(0,c.WQX)(Ra,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(je,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ee=>this.events.next(new Zn(Ee)),this.configLoader.onLoadStartListener=Ee=>this.events.next(new Ci(Ee))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var B;const Ee=++this.navigationId;null===(B=this.transitions)||void 0===B||B.next({...this.transitions.value,...S,id:Ee})}setupNavigations(S,B,Ee){return this.transitions=new _e.t({id:0,currentUrlTree:B,currentRawUrl:B,extractedUrl:this.urlHandlingStrategy.extract(B),urlAfterRedirects:this.urlHandlingStrategy.extract(B),rawUrl:B,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:St,restoredState:null,currentSnapshot:Ee.snapshot,targetSnapshot:null,currentRouterState:Ee,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Se.p)(De=>0!==De.id),(0,Ne.T)(De=>({...De,extractedUrl:this.urlHandlingStrategy.extract(De.rawUrl)})),(0,Qe.n)(De=>{let Bt=!1,An=!1;return(0,ee.of)(De).pipe((0,Qe.n)(Ht=>{var Yn;if(this.navigationId>De.id)return this.cancelNavigationTransition(De,"",fr.SupersededByNewNavigation),ut.w;this.currentTransition=De,this.currentNavigation={id:Ht.id,initialUrl:Ht.rawUrl,extractedUrl:Ht.extractedUrl,targetBrowserUrl:"string"==typeof Ht.extras.browserUrl?this.urlSerializer.parse(Ht.extras.browserUrl):Ht.extras.browserUrl,trigger:Ht.source,extras:Ht.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const jr=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Li=null!==(Yn=Ht.extras.onSameUrlNavigation)&&void 0!==Yn?Yn:S.onSameUrlNavigation;if(!jr&&"reload"!==Li){const ri="";return this.events.next(new Ai(Ht.id,this.urlSerializer.serialize(Ht.rawUrl),ri,ar.IgnoredSameUrlNavigation)),Ht.resolve(!1),ut.w}if(this.urlHandlingStrategy.shouldProcessUrl(Ht.rawUrl))return(0,ee.of)(Ht).pipe((0,Qe.n)(ri=>{var zi,ko;const Ho=null===(zi=this.transitions)||void 0===zi?void 0:zi.getValue();return this.events.next(new Bn(ri.id,this.urlSerializer.serialize(ri.extractedUrl),ri.source,ri.restoredState)),Ho!==(null===(ko=this.transitions)||void 0===ko?void 0:ko.getValue())?ut.w:Promise.resolve(ri)}),function Ba(I,P,F,S,B,Ee){return(0,gt.Z)(De=>function Xu(I,P,F,S,B,Ee,De="emptyOnly"){return new Ks(I,P,F,S,B,De,Ee).recognize()}(I,P,F,S,De.extractedUrl,B,Ee).pipe((0,Ne.T)(({state:Bt,tree:An})=>({...De,targetSnapshot:Bt,urlAfterRedirects:An}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Tn.M)(ri=>{De.targetSnapshot=ri.targetSnapshot,De.urlAfterRedirects=ri.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ri.urlAfterRedirects};const zi=new bi(ri.id,this.urlSerializer.serialize(ri.extractedUrl),this.urlSerializer.serialize(ri.urlAfterRedirects),ri.targetSnapshot);this.events.next(zi)}));if(jr&&this.urlHandlingStrategy.shouldProcessUrl(Ht.currentRawUrl)){const{id:ri,extractedUrl:zi,source:ko,restoredState:Ho,extras:Ka}=Ht,Ko=new Bn(ri,this.urlSerializer.serialize(zi),ko,Ho);this.events.next(Ko);const Ls=dn(this.rootComponentType).snapshot;return this.currentTransition=De={...Ht,targetSnapshot:Ls,urlAfterRedirects:zi,extras:{...Ka,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=zi,(0,ee.of)(De)}{const ri="";return this.events.next(new Ai(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),ri,ar.IgnoredByUrlHandlingStrategy)),Ht.resolve(!1),ut.w}}),(0,Tn.M)(Ht=>{const Yn=new Zr(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(Yn)}),(0,Ne.T)(Ht=>(this.currentTransition=De={...Ht,guards:ei(Ht.targetSnapshot,Ht.currentSnapshot,this.rootContexts)},De)),function Mi(I,P){return(0,gt.Z)(F=>{const{targetSnapshot:S,currentSnapshot:B,guards:{canActivateChecks:Ee,canDeactivateChecks:De}}=F;return 0===De.length&&0===Ee.length?(0,ee.of)({...F,guardsResult:!0}):function Br(I,P,F,S){return(0,X.H)(I).pipe((0,gt.Z)(B=>function H(I,P,F,S,B){const Ee=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!Ee||0===Ee.length)return(0,ee.of)(!0);const De=Ee.map(Bt=>{var An;const Ht=null!==(An=Z(P))&&void 0!==An?An:B,Yn=fs(Bt,Ht);return Oe(function wt(I){return I&&j(I.canDeactivate)}(Yn)?Yn.canDeactivate(I,P,F,S):(0,c.N4e)(Ht,()=>Yn(I,P,F,S))).pipe((0,Vt.$)())});return(0,ee.of)(De).pipe(mr())}(B.component,B.route,F,P,S)),(0,Vt.$)(B=>!0!==B,!0))}(De,S,B,I).pipe((0,gt.Z)(Bt=>Bt&&function ue(I){return"boolean"==typeof I}(Bt)?function jo(I,P,F,S){return(0,X.H)(P).pipe((0,nn.H)(B=>(0,Pe.x)(function K(I,P){return null!==I&&P&&P(new wi(I)),(0,ee.of)(!0)}(B.route.parent,S),function Oo(I,P){return null!==I&&P&&P(new wr(I)),(0,ee.of)(!0)}(B.route,S),function ce(I,P,F){const S=P[P.length-1],Ee=P.slice(0,P.length-1).reverse().map(De=>function ji(I){const P=I.routeConfig?I.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:I,guards:P}:null}(De)).filter(De=>null!==De).map(De=>ze(()=>{const Bt=De.guards.map(An=>{var Ht;const Yn=null!==(Ht=Z(De.node))&&void 0!==Ht?Ht:F,jr=fs(An,Yn);return Oe(function ct(I){return I&&j(I.canActivateChild)}(jr)?jr.canActivateChild(S,I):(0,c.N4e)(Yn,()=>jr(S,I))).pipe((0,Vt.$)())});return(0,ee.of)(Bt).pipe(mr())}));return(0,ee.of)(Ee).pipe(mr())}(I,B.path,F),function O(I,P,F){const S=P.routeConfig?P.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ee.of)(!0);const B=S.map(Ee=>ze(()=>{var De;const Bt=null!==(De=Z(P))&&void 0!==De?De:F,An=fs(Ee,Bt);return Oe(function ke(I){return I&&j(I.canActivate)}(An)?An.canActivate(P,I):(0,c.N4e)(Bt,()=>An(P,I))).pipe((0,Vt.$)())}));return(0,ee.of)(B).pipe(mr())}(I,B.route,F))),(0,Vt.$)(B=>!0!==B,!0))}(S,Ee,I,P):(0,ee.of)(Bt)),(0,Ne.T)(Bt=>({...F,guardsResult:Bt})))})}(this.environmentInjector,Ht=>this.events.next(Ht)),(0,Tn.M)(Ht=>{if(De.guardsResult=Ht.guardsResult,Ht.guardsResult&&"boolean"!=typeof Ht.guardsResult)throw Bo(0,Ht.guardsResult);const Yn=new _i(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot,!!Ht.guardsResult);this.events.next(Yn)}),(0,Se.p)(Ht=>!!Ht.guardsResult||(this.cancelNavigationTransition(Ht,"",fr.GuardRejected),!1)),ea(Ht=>{if(Ht.guards.canActivateChecks.length)return(0,ee.of)(Ht).pipe((0,Tn.M)(Yn=>{const jr=new Hr(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),this.urlSerializer.serialize(Yn.urlAfterRedirects),Yn.targetSnapshot);this.events.next(jr)}),(0,Qe.n)(Yn=>{let jr=!1;return(0,ee.of)(Yn).pipe(function xs(I,P){return(0,gt.Z)(F=>{const{targetSnapshot:S,guards:{canActivateChecks:B}}=F;if(!B.length)return(0,ee.of)(F);const Ee=new Set(B.map(An=>An.route)),De=new Set;for(const An of Ee)if(!De.has(An))for(const Ht of cl(An))De.add(Ht);let Bt=0;return(0,X.H)(De).pipe((0,nn.H)(An=>Ee.has(An)?function Rl(I,P,F,S){const B=I.routeConfig,Ee=I._resolve;return void 0!==(null==B?void 0:B.title)&&!Ii(B)&&(Ee[wn]=B.title),function Wr(I,P,F,S){const B=Dt(I);if(0===B.length)return(0,ee.of)({});const Ee={};return(0,X.H)(B).pipe((0,gt.Z)(De=>function Hc(I,P,F,S){var B;const Ee=null!==(B=Z(P))&&void 0!==B?B:S,De=fs(I,Ee);return Oe(De.resolve?De.resolve(P,F):(0,c.N4e)(Ee,()=>De(P,F)))}(I[De],P,F,S).pipe((0,Vt.$)(),(0,Tn.M)(Bt=>{if(Bt instanceof Fo)throw Bo(new Tr,Bt);Ee[De]=Bt}))),Le(1),function Be(I){return(0,Ne.T)(()=>I)}(Ee),gn(De=>Dn(De)?ut.w:We(De)))}(Ee,I,P,S).pipe((0,Ne.T)(De=>(I._resolvedData=De,I.data=pn(I,I.parent,F).resolve,null)))}(An,S,I,P):(An.data=pn(An,An.parent,I).resolve,(0,ee.of)(void 0))),(0,Tn.M)(()=>Bt++),Le(1),(0,gt.Z)(An=>Bt===De.size?(0,ee.of)(F):ut.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Tn.M)({next:()=>jr=!0,complete:()=>{jr||this.cancelNavigationTransition(Yn,"",fr.NoDataFromResolver)}}))}),(0,Tn.M)(Yn=>{const jr=new zr(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),this.urlSerializer.serialize(Yn.urlAfterRedirects),Yn.targetSnapshot);this.events.next(jr)}))}),ea(Ht=>{const Yn=jr=>{var Li;const ri=[];null!==(Li=jr.routeConfig)&&void 0!==Li&&Li.loadComponent&&!jr.routeConfig._loadedComponent&&ri.push(this.configLoader.loadComponent(jr.routeConfig).pipe((0,Tn.M)(zi=>{jr.component=zi}),(0,Ne.T)(()=>{})));for(const zi of jr.children)ri.push(...Yn(zi));return ri};return(0,Me.z)(Yn(Ht.targetSnapshot.root)).pipe((0,Wt.U)(null),(0,rt.s)(1))}),ea(()=>this.afterPreactivation()),(0,Qe.n)(()=>{var Ht;const{currentSnapshot:Yn,targetSnapshot:jr}=De,Li=null===(Ht=this.createViewTransition)||void 0===Ht?void 0:Ht.call(this,this.environmentInjector,Yn.root,jr.root);return Li?(0,X.H)(Li).pipe((0,Ne.T)(()=>De)):(0,ee.of)(De)}),(0,Ne.T)(Ht=>{const Yn=function Ki(I,P,F){const S=ho(I,P._root,F?F._root:void 0);return new It(S,P)}(S.routeReuseStrategy,Ht.targetSnapshot,Ht.currentRouterState);return this.currentTransition=De={...Ht,targetRouterState:Yn},this.currentNavigation.targetRouterState=Yn,De}),(0,Tn.M)(()=>{this.events.next(new co)}),((I,P,F,S)=>(0,Ne.T)(B=>(new wo(P,B.targetRouterState,B.currentRouterState,F,S).activate(I),B)))(this.rootContexts,S.routeReuseStrategy,Ht=>this.events.next(Ht),this.inputBindingEnabled),(0,rt.s)(1),(0,Tn.M)({next:Ht=>{var Yn;Bt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gn(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects))),null===(Yn=this.titleStrategy)||void 0===Yn||Yn.updateTitle(Ht.targetRouterState.snapshot),Ht.resolve(!0)},complete:()=>{Bt=!0}}),function Je(I){return(0,st.N)((P,F)=>{(0,ye.Tg)(I).subscribe((0,lt._)(F,()=>F.complete(),At.l)),!F.closed&&P.subscribe(F)})}(this.transitionAbortSubject.pipe((0,Tn.M)(Ht=>{throw Ht}))),(0,nt.j)(()=>{var Ht;!Bt&&!An&&this.cancelNavigationTransition(De,"",fr.SupersededByNewNavigation),(null===(Ht=this.currentTransition)||void 0===Ht?void 0:Ht.id)===De.id&&(this.currentNavigation=null,this.currentTransition=null)}),gn(Ht=>{if(An=!0,so(Ht))this.events.next(new Vr(De.id,this.urlSerializer.serialize(De.extractedUrl),Ht.message,Ht.cancellationCode)),function Rs(I){return so(I)&&Nr(I.url)}(Ht)?this.events.next(new Di(Ht.url,Ht.navigationBehaviorOptions)):De.resolve(!1);else{var Yn;const jr=new Fi(De.id,this.urlSerializer.serialize(De.extractedUrl),Ht,null!==(Yn=De.targetSnapshot)&&void 0!==Yn?Yn:void 0);try{const Li=(0,c.N4e)(this.environmentInjector,()=>{var ri;return null===(ri=this.navigationErrorHandler)||void 0===ri?void 0:ri.call(this,jr)});if(Li instanceof Fo){const{message:ri,cancellationCode:zi}=Bo(0,Li);this.events.next(new Vr(De.id,this.urlSerializer.serialize(De.extractedUrl),ri,zi)),this.events.next(new Di(Li.redirectTo,Li.navigationBehaviorOptions))}else{this.events.next(jr);const ri=S.errorHandler(Ht);De.resolve(!!ri)}}catch(Li){this.options.resolveNavigationPromiseOnError?De.resolve(!1):De.reject(Li)}}return ut.w}))}))}cancelNavigationTransition(S,B,Ee){const De=new Vr(S.id,this.urlSerializer.serialize(S.extractedUrl),B,Ee);this.events.next(De),S.resolve(!1)}isUpdatingInternalState(){var S,B;return(null===(S=this.currentTransition)||void 0===S?void 0:S.extractedUrl.toString())!==(null===(B=this.currentTransition)||void 0===B?void 0:B.currentUrlTree.toString())}isUpdatedBrowserUrl(){var S,B,Ee,De;const Bt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),An=null!==(S=null===(B=this.currentNavigation)||void 0===B?void 0:B.targetBrowserUrl)&&void 0!==S?S:null===(Ee=this.currentNavigation)||void 0===Ee?void 0:Ee.extractedUrl;return Bt.toString()!==(null==An?void 0:An.toString())&&!(null!==(De=this.currentNavigation)&&void 0!==De&&De.extras.skipLocationChange)}}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})();function ge(I){return I!==St}let et=(()=>{var I;class P{}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(kn),providedIn:"root"}),P})();class an{shouldDetach(P){return!1}store(P,F){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,F){return P.routeConfig===F.routeConfig}}let kn=(()=>{var I;class P extends an{}return(I=P).\u0275fac=(()=>{let F;return function(B){return(F||(F=c.xGo(I)))(B||I)}})(),I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})(),Or=(()=>{var I;class P{}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(di),providedIn:"root"}),P})(),di=(()=>{var I;class P extends Or{constructor(){super(...arguments),this.location=(0,c.WQX)(Te.aZ),this.urlSerializer=(0,c.WQX)(Jn),this.options=(0,c.WQX)(vs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(_s),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var S,B;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(S=null===(B=this.restoredState())||void 0===B?void 0:B.\u0275routerPageId)&&void 0!==S?S:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(B=>{"popstate"===B.type&&S(B.url,B.state)})}handleRouterEvent(S,B){if(S instanceof Bn)this.stateMemento=this.createStateMemento();else if(S instanceof Ai)this.rawUrlTree=B.initialUrl;else if(S instanceof bi){if("eager"===this.urlUpdateStrategy&&!B.extras.skipLocationChange){var Ee;const Bt=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl);this.setBrowserUrl(null!==(Ee=B.targetBrowserUrl)&&void 0!==Ee?Ee:Bt,B)}}else if(S instanceof co){var De;this.currentUrlTree=B.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl),this.routerState=B.targetRouterState,"deferred"!==this.urlUpdateStrategy||B.extras.skipLocationChange||this.setBrowserUrl(null!==(De=B.targetBrowserUrl)&&void 0!==De?De:this.rawUrlTree,B)}else S instanceof Vr&&(S.code===fr.GuardRejected||S.code===fr.NoDataFromResolver)?this.restoreHistory(B):S instanceof Fi?this.restoreHistory(B,!0):S instanceof Gn&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,B){const Ee=S instanceof cr?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(Ee)||B.extras.replaceUrl){const Bt={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(Ee,"",Bt)}else{const De={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId+1)};this.location.go(Ee,"",De)}}restoreHistory(S,B=!1){if("computed"===this.canceledNavigationResolution){const De=this.currentPageId-this.browserPageId;0!==De?this.location.historyGo(De):this.currentUrlTree===S.finalUrl&&0===De&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){var B;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(B=S.finalUrl)&&void 0!==B?B:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,B){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:B}:{navigationId:S}}}return(I=P).\u0275fac=(()=>{let F;return function(B){return(F||(F=c.xGo(I)))(B||I)}})(),I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})();var Ei=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(Ei||{});function si(I,P){I.events.pipe((0,Se.p)(F=>F instanceof Gn||F instanceof Vr||F instanceof Fi||F instanceof Ai),(0,Ne.T)(F=>F instanceof Gn||F instanceof Ai?Ei.COMPLETE:F instanceof Vr&&(F.code===fr.Redirect||F.code===fr.SupersededByNewNavigation)?Ei.REDIRECTING:Ei.FAILED),(0,Se.p)(F=>F!==Ei.REDIRECTING),(0,rt.s)(1)).subscribe(()=>{P()})}function Oi(I){throw I}const fi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{var I;class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var S,B;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(Or),this.options=(0,c.WQX)(vs,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(z),this.urlSerializer=(0,c.WQX)(Jn),this.location=(0,c.WQX)(Te.aZ),this.urlHandlingStrategy=(0,c.WQX)(_s),this._events=new Ie.B,this.errorHandler=this.options.errorHandler||Oi,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(et),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(S=null===(B=(0,c.WQX)($a,{optional:!0}))||void 0===B?void 0:B.flat())&&void 0!==S?S:[],this.componentInputBindingEnabled=!!(0,c.WQX)(oo,{optional:!0}),this.eventsSubscription=new vt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ee=>{this.console.warn(Ee)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(B=>{try{const Ee=this.navigationTransitions.currentTransition,De=this.navigationTransitions.currentNavigation;if(null!==Ee&&null!==De)if(this.stateManager.handleRouterEvent(B,De),B instanceof Vr&&B.code!==fr.Redirect&&B.code!==fr.SupersededByNewNavigation)this.navigated=!0;else if(B instanceof Gn)this.navigated=!0;else if(B instanceof Di){const Bt=B.navigationBehaviorOptions,An=this.urlHandlingStrategy.merge(B.url,Ee.currentRawUrl),Ht={browserUrl:Ee.extras.browserUrl,info:Ee.extras.info,skipLocationChange:Ee.extras.skipLocationChange,replaceUrl:Ee.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ge(Ee.source),...Bt};this.scheduleNavigation(An,St,null,Ht,{resolve:Ee.resolve,reject:Ee.reject,promise:Ee.promise})}(function Ln(I){return!(I instanceof co||I instanceof Di)})(B)&&this._events.next(B)}catch(Ee){this.navigationTransitions.transitionAbortSubject.next(Ee)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),St,this.stateManager.restoredState())}setUpLocationChangeListener(){var S;null!==(S=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==S||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,Ee)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",Ee)},0)}))}navigateToSyncWithBrowser(S,B,Ee){const De={replaceUrl:!0},Bt=null!=Ee&&Ee.navigationId?Ee:null;if(Ee){const Ht={...Ee};delete Ht.navigationId,delete Ht.\u0275routerPageId,0!==Object.keys(Ht).length&&(De.state=Ht)}const An=this.parseUrl(S);this.scheduleNavigation(An,B,Bt,De)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(tu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,B={}){const{relativeTo:Ee,queryParams:De,fragment:Bt,queryParamsHandling:An,preserveFragment:Ht}=B,Yn=Ht?this.currentUrlTree.fragment:Bt;let Li,jr=null;switch(null!=An?An:this.options.defaultQueryParamsHandling){case"merge":jr={...this.currentUrlTree.queryParams,...De};break;case"preserve":jr=this.currentUrlTree.queryParams;break;default:jr=De||null}null!==jr&&(jr=this.removeEmptyProps(jr));try{Li=tr(Ee?Ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),Li=this.currentUrlTree.root}return oi(Li,S,jr,null!=Yn?Yn:null)}navigateByUrl(S,B={skipLocationChange:!1}){const Ee=Nr(S)?S:this.parseUrl(S),De=this.urlHandlingStrategy.merge(Ee,this.rawUrlTree);return this.scheduleNavigation(De,St,null,B)}navigate(S,B={skipLocationChange:!1}){return function vi(I){for(let P=0;P<I.length;P++)if(null==I[P])throw new c.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,B),B)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,B){let Ee;if(Ee=!0===B?{...fi}:!1===B?{...qi}:B,Nr(S))return qt(this.currentUrlTree,S,Ee);const De=this.parseUrl(S);return qt(this.currentUrlTree,De,Ee)}removeEmptyProps(S){return Object.entries(S).reduce((B,[Ee,De])=>(null!=De&&(B[Ee]=De),B),{})}scheduleNavigation(S,B,Ee,De,Bt){if(this.disposed)return Promise.resolve(!1);let An,Ht,Yn;Bt?(An=Bt.resolve,Ht=Bt.reject,Yn=Bt.promise):Yn=new Promise((Li,ri)=>{An=Li,Ht=ri});const jr=this.pendingTasks.add();return si(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(jr))}),this.navigationTransitions.handleNavigationRequest({source:B,restoredState:Ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:De,resolve:An,reject:Ht,promise:Yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yn.catch(Li=>Promise.reject(Li))}}return(I=P).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})(),gr=(()=>{var I;class P{constructor(S,B,Ee,De,Bt,An){var Ht;this.router=S,this.route=B,this.tabIndexAttribute=Ee,this.renderer=De,this.el=Bt,this.locationStrategy=An,this.href=null,this.onChanges=new Ie.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Yn=null===(Ht=Bt.nativeElement.tagName)||void 0===Ht?void 0:Ht.toLowerCase();this.isAnchorElement="a"===Yn||"area"===Yn,this.isAnchorElement?this.subscription=S.events.subscribe(jr=>{jr instanceof Gn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null==S?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Nr(S)||Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,B,Ee,De,Bt){const An=this.urlTree;return!!(null===An||this.isAnchorElement&&(0!==S||B||Ee||De||Bt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(An,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;const B=this.urlTree;this.href=null!==B&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl(B)):null;const Ee=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ee)}applyAttributeValue(S,B){const Ee=this.renderer,De=this.el.nativeElement;null!==B?Ee.setAttribute(De,S,B):Ee.removeAttribute(De,S)}get urlTree(){return null===this.routerLinkInput?null:Nr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(I=P).\u0275fac=function(S){return new(S||I)(c.rXU($i),c.rXU(sn),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Te.hb))},I.\u0275dir=c.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,B){1&S&&c.bIt("click",function(De){return B.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&S&&c.BMQ("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),P})();class Hi{}let Xr=(()=>{var I;class P{constructor(S,B,Ee,De,Bt){this.router=S,this.injector=Ee,this.preloadingStrategy=De,this.loader=Bt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Se.p)(S=>S instanceof Gn),(0,nn.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,B){const Ee=[];for(const Ht of B){var De,Bt;Ht.providers&&!Ht._injector&&(Ht._injector=(0,c.Ol2)(Ht.providers,S,`Route: ${Ht.path}`));const Yn=null!==(De=Ht._injector)&&void 0!==De?De:S,jr=null!==(Bt=Ht._loadedInjector)&&void 0!==Bt?Bt:Yn;var An;(Ht.loadChildren&&!Ht._loadedRoutes&&void 0===Ht.canLoad||Ht.loadComponent&&!Ht._loadedComponent)&&Ee.push(this.preloadConfig(Yn,Ht)),(Ht.children||Ht._loadedRoutes)&&Ee.push(this.processRoutes(jr,null!==(An=Ht.children)&&void 0!==An?An:Ht._loadedRoutes))}return(0,X.H)(Ee).pipe((0,Lt.U)())}preloadConfig(S,B){return this.preloadingStrategy.preload(B,()=>{let Ee;Ee=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(S,B):(0,ee.of)(null);const De=Ee.pipe((0,gt.Z)(Bt=>{var An;return null===Bt?(0,ee.of)(void 0):(B._loadedRoutes=Bt.routes,B._loadedInjector=Bt.injector,this.processRoutes(null!==(An=Bt.injector)&&void 0!==An?An:S,Bt.routes))}));if(B.loadComponent&&!B._loadedComponent){const Bt=this.loader.loadComponent(B);return(0,X.H)([De,Bt]).pipe((0,Lt.U)())}return De})}}return(I=P).\u0275fac=function(S){return new(S||I)(c.KVO($i),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Hi),c.KVO(ja))},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),P})();const Rr=new c.nKC("");let Yo=(()=>{var I;class P{constructor(S,B,Ee,De,Bt={}){this.urlSerializer=S,this.transitions=B,this.viewportScroller=Ee,this.zone=De,this.options=Bt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Bt.scrollPositionRestoration||(Bt.scrollPositionRestoration="disabled"),Bt.anchorScrolling||(Bt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Gn?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof Ai&&S.code===ar.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof uo&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uo(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){var S,B;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===(B=this.scrollEventsSubscription)||void 0===B||B.unsubscribe()}}return(I=P).\u0275fac=function(S){c.QTQ()},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac}),P})();function Ns(I,P){return{\u0275kind:I,\u0275providers:P}}function Zo(){const I=(0,c.WQX)(c.zZn);return P=>{var F,S;const B=I.get(c.o8S);if(P!==B.components[0])return;const Ee=I.get($i),De=I.get(Xs);1===I.get(ks)&&Ee.initialNavigation(),null===(F=I.get(yr,null,c.$GK.Optional))||void 0===F||F.setUpPreloading(),null===(S=I.get(Rr,null,c.$GK.Optional))||void 0===S||S.init(),Ee.resetRootComponentType(B.componentTypes[0]),De.closed||(De.next(),De.complete(),De.unsubscribe())}}const Xs=new c.nKC("",{factory:()=>new Ie.B}),ks=new c.nKC("",{providedIn:"root",factory:()=>1}),yr=new c.nKC("");function Qu(I){return Ns(0,[{provide:yr,useExisting:Xr},{provide:Hi,useExisting:I}])}function So(I){return Ns(9,[{provide:Ra,useValue:w},{provide:Pl,useValue:{skipNextTransition:!(null==I||!I.skipInitialTransition),...I}}])}const mo=new c.nKC("ROUTER_FORROOT_GUARD"),ro=[Te.aZ,{provide:Jn,useClass:Tr},$i,N,{provide:sn,useFactory:function ma(I){return I.routerState.root},deps:[$i]},ja,[]];let Ga=(()=>{var I;class P{constructor(S){}static forRoot(S,B){return{ngModule:P,providers:[ro,[],{provide:$a,multi:!0,useValue:S},{provide:mo,useFactory:_a,deps:[[$i,new c.Xx1,new c.kdw]]},{provide:vs,useValue:B||{}},null!=B&&B.useHash?{provide:Te.hb,useClass:Te.fw}:{provide:Te.hb,useClass:Te.Sm},{provide:Rr,useFactory:()=>{const I=(0,c.WQX)(Te.Xr),P=(0,c.WQX)(c.SKi),F=(0,c.WQX)(vs),S=(0,c.WQX)(z),B=(0,c.WQX)(Jn);return F.scrollOffset&&I.setOffset(F.scrollOffset),new Yo(B,S,I,P,F)}},null!=B&&B.preloadingStrategy?Qu(B.preloadingStrategy).\u0275providers:[],null!=B&&B.initialNavigation?Yu(B):[],null!=B&&B.bindToComponentInputs?Ns(8,[Ji,{provide:oo,useExisting:Ji}]).\u0275providers:[],null!=B&&B.enableViewTransitions?So().\u0275providers:[],[{provide:Pa,useFactory:Zo},{provide:c.iLQ,multi:!0,useExisting:Pa}]]}}static forChild(S){return{ngModule:P,providers:[{provide:$a,multi:!0,useValue:S}]}}}return(I=P).\u0275fac=function(S){return new(S||I)(c.KVO(mo,8))},I.\u0275mod=c.$C({type:I}),I.\u0275inj=c.G2t({}),P})();function _a(I){return"guarded"}function Yu(I){return["disabled"===I.initialNavigation?Ns(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const P=(0,c.WQX)($i);return()=>{P.setUpLocationChangeListener()}}},{provide:ks,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Ns(2,[{provide:ks,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:P=>{const F=P.get(Te.hj,Promise.resolve());return()=>F.then(()=>new Promise(S=>{const B=P.get($i),Ee=P.get(Xs);si(B,()=>{S(!0)}),P.get(z).afterPreactivation=()=>(S(!0),Ee.closed?(0,ee.of)(void 0):Ee),B.initialNavigation()}))}}]).\u0275providers:[]]}const Pa=new c.nKC("")},3345:(Rn,at,x)=>{"use strict";x.d(at,{A:()=>ut});var c=x(1076),h=x(1362),L=x(7852),ve=x(8041);class X{constructor(st,lt){this._delegate=st,this.firebase=lt,(0,L._addComponent)(st,new h.uA("app-compat",()=>this,"PUBLIC")),this.container=st.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this._delegate.automaticDataCollectionEnabled=st}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(st=>{this._delegate.checkDestroyed(),st()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(st,lt=L._DEFAULT_ENTRY_NAME){var xt;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(st);return!Tt.isInitialized()&&"EXPLICIT"===(null===(xt=Tt.getComponent())||void 0===xt?void 0:xt.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:lt})}_removeServiceInstance(st,lt=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(st).clearInstance(lt)}_addComponent(st){(0,L._addComponent)(this._delegate,st)}_addOrOverwriteComponent(st){(0,L._addOrOverwriteComponent)(this._delegate,st)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Pe=function Ge(){const vt=function Me(vt){const st={},lt={__esModule:!0,initializeApp:function Ie(rt,Ft={}){const Se=L.initializeApp(rt,Ft);if((0,c.gR)(st,Se.name))return st[Se.name];const gt=new vt(Se,lt);return st[Se.name]=gt,gt},app:Tt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ne(rt){const Ft=rt.name,Se=Ft.replace("-compat","");if(L._registerComponent(rt)&&"PUBLIC"===rt.type){const gt=(Vt=Tt())=>{if("function"!=typeof Vt[Se])throw _e.create("invalid-app-argument",{appName:Ft});return Vt[Se]()};void 0!==rt.serviceProps&&(0,c.zw)(gt,rt.serviceProps),lt[Se]=gt,vt.prototype[Se]=function(...Vt){return this._getService.bind(this,Ft).apply(this,rt.multipleInstances?Vt:[])}}return"PUBLIC"===rt.type?lt[Se]:null},removeApp:function xt(rt){delete st[rt]},useAsService:function Qe(rt,Ft){return"serverAuth"===Ft?null:Ft},modularAPIs:L}};function Tt(rt){if(!(0,c.gR)(st,rt=rt||L._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:rt});return st[rt]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function Te(){return Object.keys(st).map(rt=>st[rt])}}),Tt.App=vt,lt}(X);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function st(lt){(0,c.zw)(vt,lt)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),vt}(),ye=new ve.Vy("@firebase/app-compat");try{const vt=(0,c.mS)();if(void 0!==vt.firebase){ye.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const st=vt.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&ye.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ut=Pe;!function We(vt){(0,L.registerVersion)("@firebase/app-compat","0.2.43",vt)}()},7852:(Rn,at,x)=>{"use strict";x.r(at),x.d(at,{FirebaseError:()=>ve.g,SDK_VERSION:()=>Cn,_DEFAULT_ENTRY_NAME:()=>Un,_addComponent:()=>sr,_addOrOverwriteComponent:()=>Kr,_apps:()=>Er,_clearComponents:()=>On,_components:()=>cr,_getProvider:()=>jn,_isFirebaseApp:()=>Jn,_isFirebaseServerApp:()=>Tr,_registerComponent:()=>hi,_removeServiceInstance:()=>Mr,_serverApps:()=>_r,deleteApp:()=>Et,getApp:()=>Yt,getApps:()=>_t,initializeApp:()=>Gt,initializeServerApp:()=>Ct,onLog:()=>Q,registerVersion:()=>oe,setLogLevel:()=>le});var c=x(467),h=x(1362),L=x(8041),ve=x(1076);const X=(pe,q)=>q.some(Re=>pe instanceof Re);let ee,_e;const Pe=new WeakMap,ye=new WeakMap,ze=new WeakMap,qe=new WeakMap,We=new WeakMap;let st={get(pe,q,Re){if(pe instanceof IDBTransaction){if("done"===q)return ye.get(pe);if("objectStoreNames"===q)return pe.objectStoreNames||ze.get(pe);if("store"===q)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return Ie(pe[q])},set:(pe,q,Re)=>(pe[q]=Re,!0),has:(pe,q)=>pe instanceof IDBTransaction&&("done"===q||"store"===q)||q in pe};function Tt(pe){return"function"==typeof pe?function xt(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...q){return pe.apply(Te(this),q),Ie(Pe.get(this))}:function(...q){return Ie(pe.apply(Te(this),q))}:function(q,...Re){const ne=pe.call(Te(this),q,...Re);return ze.set(ne,q.sort?q.sort():[q]),Ie(ne)}}(pe):(pe instanceof IDBTransaction&&function vt(pe){if(ye.has(pe))return;const q=new Promise((Re,ne)=>{const se=()=>{pe.removeEventListener("complete",xe),pe.removeEventListener("error",Nt),pe.removeEventListener("abort",Nt)},xe=()=>{Re(),se()},Nt=()=>{ne(pe.error||new DOMException("AbortError","AbortError")),se()};pe.addEventListener("complete",xe),pe.addEventListener("error",Nt),pe.addEventListener("abort",Nt)});ye.set(pe,q)}(pe),X(pe,function Me(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,st):pe)}function Ie(pe){if(pe instanceof IDBRequest)return function ut(pe){const q=new Promise((Re,ne)=>{const se=()=>{pe.removeEventListener("success",xe),pe.removeEventListener("error",Nt)},xe=()=>{Re(Ie(pe.result)),se()},Nt=()=>{ne(pe.error),se()};pe.addEventListener("success",xe),pe.addEventListener("error",Nt)});return q.then(Re=>{Re instanceof IDBCursor&&Pe.set(Re,pe)}).catch(()=>{}),We.set(q,pe),q}(pe);if(qe.has(pe))return qe.get(pe);const q=Tt(pe);return q!==pe&&(qe.set(pe,q),We.set(q,pe)),q}const Te=pe=>We.get(pe),rt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],Se=new Map;function gt(pe,q){if(!(pe instanceof IDBDatabase)||q in pe||"string"!=typeof q)return;if(Se.get(q))return Se.get(q);const Re=q.replace(/FromIndex$/,""),ne=q!==Re,se=Ft.includes(Re);if(!(Re in(ne?IDBIndex:IDBObjectStore).prototype)||!se&&!rt.includes(Re))return;const xe=function(){var Nt=(0,c.A)(function*(on,...yn){const he=this.transaction(on,se?"readwrite":"readonly");let $e=he.store;return ne&&($e=$e.index(yn.shift())),(yield Promise.all([$e[Re](...yn),se&&he.done]))[0]});return function(yn){return Nt.apply(this,arguments)}}();return Se.set(q,xe),xe}!function lt(pe){st=pe(st)}(pe=>({...pe,get:(q,Re,ne)=>gt(q,Re)||pe.get(q,Re,ne),has:(q,Re)=>!!gt(q,Re)||pe.has(q,Re)}));class Vt{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function nn(pe){const q=pe.getComponent();return"VERSION"===(null==q?void 0:q.type)}(Re)){const ne=Re.getImmediate();return`${ne.library}/${ne.version}`}return null}).filter(Re=>Re).join(" ")}}const Tn="@firebase/app",gn="0.10.13",qn=new L.Vy("@firebase/app"),Wt="@firebase/app-compat",Le="@firebase/analytics-compat",Ue="@firebase/analytics",ie="@firebase/app-check-compat",de="@firebase/app-check",Be="@firebase/auth",nt="@firebase/auth-compat",At="@firebase/database",Je="@firebase/data-connect",Lt="@firebase/database-compat",Mt="@firebase/functions",Xt="@firebase/functions-compat",wn="@firebase/installations",kt="@firebase/installations-compat",Mn="@firebase/messaging",en="@firebase/messaging-compat",bn="@firebase/performance",Qt="@firebase/performance-compat",Dt="@firebase/remote-config",vn="@firebase/remote-config-compat",it="@firebase/storage",Oe="@firebase/storage-compat",Ke="@firebase/firestore",cn="@firebase/vertexai-preview",qt="@firebase/firestore-compat",or="firebase",Un="[DEFAULT]",zn={[Tn]:"fire-core",[Wt]:"fire-core-compat",[Ue]:"fire-analytics",[Le]:"fire-analytics-compat",[de]:"fire-app-check",[ie]:"fire-app-check-compat",[Be]:"fire-auth",[nt]:"fire-auth-compat",[At]:"fire-rtdb",[Je]:"fire-data-connect",[Lt]:"fire-rtdb-compat",[Mt]:"fire-fn",[Xt]:"fire-fn-compat",[wn]:"fire-iid",[kt]:"fire-iid-compat",[Mn]:"fire-fcm",[en]:"fire-fcm-compat",[bn]:"fire-perf",[Qt]:"fire-perf-compat",[Dt]:"fire-rc",[vn]:"fire-rc-compat",[it]:"fire-gcs",[Oe]:"fire-gcs-compat",[Ke]:"fire-fst",[qt]:"fire-fst-compat",[cn]:"fire-vertex","fire-js":"fire-js",[or]:"fire-js-all"},Er=new Map,_r=new Map,cr=new Map;function sr(pe,q){try{pe.container.addComponent(q)}catch(Re){qn.debug(`Component ${q.name} failed to register with FirebaseApp ${pe.name}`,Re)}}function Kr(pe,q){pe.container.addOrOverwriteComponent(q)}function hi(pe){const q=pe.name;if(cr.has(q))return qn.debug(`There were multiple attempts to register component ${q}.`),!1;cr.set(q,pe);for(const Re of Er.values())sr(Re,pe);for(const Re of _r.values())sr(Re,pe);return!0}function jn(pe,q){const Re=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),pe.container.getProvider(q)}function Mr(pe,q,Re=Un){jn(pe,q).clearInstance(Re)}function Jn(pe){return void 0!==pe.options}function Tr(pe){return void 0!==pe.settings}function On(){cr.clear()}const Qn=new ve.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lr{constructor(q,Re,ne){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=ne,this.container.addComponent(new h.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}class Ar extends lr{constructor(q,Re,ne,se){const xe=void 0!==Re.automaticDataCollectionEnabled&&Re.automaticDataCollectionEnabled,Nt={name:ne,automaticDataCollectionEnabled:xe};super(void 0!==q.apiKey?q:q.options,Nt,se),this._serverConfig=Object.assign({automaticDataCollectionEnabled:xe},Re),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Re.releaseOnDeref=void 0,oe(Tn,gn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(q){this.isDeleted||(this._refCount++,void 0!==q&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(q,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Et(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qn.create("server-app-deleted")}}const Cn="10.14.1";function Gt(pe,q={}){let Re=pe;"object"!=typeof q&&(q={name:q});const ne=Object.assign({name:Un,automaticDataCollectionEnabled:!1},q),se=ne.name;if("string"!=typeof se||!se)throw Qn.create("bad-app-name",{appName:String(se)});if(Re||(Re=(0,ve.T9)()),!Re)throw Qn.create("no-options");const xe=Er.get(se);if(xe){if((0,ve.bD)(Re,xe.options)&&(0,ve.bD)(ne,xe.config))return xe;throw Qn.create("duplicate-app",{appName:se})}const Nt=new h.h1(se);for(const yn of cr.values())Nt.addComponent(yn);const on=new lr(Re,ne,Nt);return Er.set(se,on),on}function Ct(pe,q){if((0,ve.Bd)()&&!(0,ve.p7)())throw Qn.create("invalid-server-app-environment");let Re;void 0===q.automaticDataCollectionEnabled&&(q.automaticDataCollectionEnabled=!1),Re=Jn(pe)?pe.options:pe;const ne=Object.assign(Object.assign({},q),Re);if(void 0!==ne.releaseOnDeref&&delete ne.releaseOnDeref,void 0!==q.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Qn.create("finalization-registry-not-supported",{});const xe=""+(he=JSON.stringify(ne),[...he].reduce(($e,pt)=>Math.imul(31,$e)+pt.charCodeAt(0)|0,0)),Nt=_r.get(xe);var he;if(Nt)return Nt.incRefCount(q.releaseOnDeref),Nt;const on=new h.h1(xe);for(const he of cr.values())on.addComponent(he);const yn=new Ar(Re,q,xe,on);return _r.set(xe,yn),yn}function Yt(pe=Un){const q=Er.get(pe);if(!q&&pe===Un&&(0,ve.T9)())return Gt();if(!q)throw Qn.create("no-app",{appName:pe});return q}function _t(){return Array.from(Er.values())}function Et(pe){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.A)(function*(pe){let q=!1;const Re=pe.name;Er.has(Re)?(q=!0,Er.delete(Re)):_r.has(Re)&&pe.decRefCount()<=0&&(_r.delete(Re),q=!0),q&&(yield Promise.all(pe.container.getProviders().map(ne=>ne.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function oe(pe,q,Re){var ne;let se=null!==(ne=zn[pe])&&void 0!==ne?ne:pe;Re&&(se+=`-${Re}`);const xe=se.match(/\s|\//),Nt=q.match(/\s|\//);if(xe||Nt){const on=[`Unable to register library "${se}" with version "${q}":`];return xe&&on.push(`library name "${se}" contains illegal characters (whitespace or "/")`),xe&&Nt&&on.push("and"),Nt&&on.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void qn.warn(on.join(" "))}hi(new h.uA(`${se}-version`,()=>({library:se,version:q}),"VERSION"))}function Q(pe,q){if(null!==pe&&"function"!=typeof pe)throw Qn.create("invalid-log-argument");(0,L.Ey)(pe,q)}function le(pe){(0,L.He)(pe)}const Xe="firebase-heartbeat-database",tt=1,ln="firebase-heartbeat-store";let Fn=null;function nr(){return Fn||(Fn=function Ne(pe,q,{blocked:Re,upgrade:ne,blocking:se,terminated:xe}={}){const Nt=indexedDB.open(pe,q),on=Ie(Nt);return ne&&Nt.addEventListener("upgradeneeded",yn=>{ne(Ie(Nt.result),yn.oldVersion,yn.newVersion,Ie(Nt.transaction),yn)}),Re&&Nt.addEventListener("blocked",yn=>Re(yn.oldVersion,yn.newVersion,yn)),on.then(yn=>{xe&&yn.addEventListener("close",()=>xe()),se&&yn.addEventListener("versionchange",he=>se(he.oldVersion,he.newVersion,he))}).catch(()=>{}),on}(Xe,tt,{upgrade:(pe,q)=>{if(0===q)try{pe.createObjectStore(ln)}catch(Re){console.warn(Re)}}}).catch(pe=>{throw Qn.create("idb-open",{originalErrorMessage:pe.message})})),Fn}function yt(){return(yt=(0,c.A)(function*(pe){try{const Re=(yield nr()).transaction(ln),ne=yield Re.objectStore(ln).get(Nr(pe));return yield Re.done,ne}catch(q){if(q instanceof ve.g)qn.warn(q.message);else{const Re=Qn.create("idb-get",{originalErrorMessage:null==q?void 0:q.message});qn.warn(Re.message)}}})).apply(this,arguments)}function Cr(pe,q){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.A)(function*(pe,q){try{const ne=(yield nr()).transaction(ln,"readwrite");yield ne.objectStore(ln).put(q,Nr(pe)),yield ne.done}catch(Re){if(Re instanceof ve.g)qn.warn(Re.message);else{const ne=Qn.create("idb-set",{originalErrorMessage:null==Re?void 0:Re.message});qn.warn(ne.message)}}})).apply(this,arguments)}function Nr(pe){return`${pe.name}!${pe.options.appId}`}class oi{constructor(q){this.container=q,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Vi(Re),this._heartbeatsCachePromise=this._storage.read().then(ne=>(this._heartbeatsCache=ne,ne))}triggerHeartbeat(){var q=this;return(0,c.A)(function*(){var Re,ne;try{const xe=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Wi();return null==(null===(Re=q._heartbeatsCache)||void 0===Re?void 0:Re.heartbeats)&&(q._heartbeatsCache=yield q._heartbeatsCachePromise,null==(null===(ne=q._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats))||q._heartbeatsCache.lastSentHeartbeatDate===Nt||q._heartbeatsCache.heartbeats.some(on=>on.date===Nt)?void 0:(q._heartbeatsCache.heartbeats.push({date:Nt,agent:xe}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(on=>{const yn=new Date(on.date).valueOf();return Date.now()-yn<=2592e6}),q._storage.overwrite(q._heartbeatsCache))}catch(se){qn.warn(se)}})()}getHeartbeatsHeader(){var q=this;return(0,c.A)(function*(){var Re;try{if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null==(null===(Re=q._heartbeatsCache)||void 0===Re?void 0:Re.heartbeats)||0===q._heartbeatsCache.heartbeats.length)return"";const ne=Wi(),{heartbeatsToSend:se,unsentEntries:xe}=function ki(pe,q=1024){const Re=[];let ne=pe.slice();for(const se of pe){const xe=Re.find(Nt=>Nt.agent===se.agent);if(xe){if(xe.dates.push(se.date),eo(Re)>q){xe.dates.pop();break}}else if(Re.push({agent:se.agent,dates:[se.date]}),eo(Re)>q){Re.pop();break}ne=ne.slice(1)}return{heartbeatsToSend:Re,unsentEntries:ne}}(q._heartbeatsCache.heartbeats),Nt=(0,ve.Uj)(JSON.stringify({version:2,heartbeats:se}));return q._heartbeatsCache.lastSentHeartbeatDate=ne,xe.length>0?(q._heartbeatsCache.heartbeats=xe,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),Nt}catch(ne){return qn.warn(ne),""}})()}}function Wi(){return(new Date).toISOString().substring(0,10)}class Vi{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,ve.zW)()&&(0,ve.eX)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,c.A)(function*(){if(yield q._canUseIndexedDBPromise){const ne=yield function Sr(pe){return yt.apply(this,arguments)}(q.app);return null!=ne&&ne.heartbeats?ne:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(q){var Re=this;return(0,c.A)(function*(){var ne;if(yield Re._canUseIndexedDBPromise){const xe=yield Re.read();return Cr(Re.app,{lastSentHeartbeatDate:null!==(ne=q.lastSentHeartbeatDate)&&void 0!==ne?ne:xe.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var Re=this;return(0,c.A)(function*(){var ne;if(yield Re._canUseIndexedDBPromise){const xe=yield Re.read();return Cr(Re.app,{lastSentHeartbeatDate:null!==(ne=q.lastSentHeartbeatDate)&&void 0!==ne?ne:xe.lastSentHeartbeatDate,heartbeats:[...xe.heartbeats,...q.heartbeats]})}})()}}function eo(pe){return(0,ve.Uj)(JSON.stringify({version:2,heartbeats:pe})).length}!function xr(pe){hi(new h.uA("platform-logger",q=>new Vt(q),"PRIVATE")),hi(new h.uA("heartbeat",q=>new oi(q),"PRIVATE")),oe(Tn,gn,pe),oe(Tn,gn,"esm2017"),oe("fire-js","")}("")},1362:(Rn,at,x)=>{"use strict";x.d(at,{h1:()=>Me,uA:()=>L});var c=x(467),h=x(1076);class L{constructor(Pe,ye,ze){this.name=Pe,this.instanceFactory=ye,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Pe){return this.instantiationMode=Pe,this}setMultipleInstances(Pe){return this.multipleInstances=Pe,this}setServiceProps(Pe){return this.serviceProps=Pe,this}setInstanceCreatedCallback(Pe){return this.onInstanceCreated=Pe,this}}const ve="[DEFAULT]";class X{constructor(Pe,ye){this.name=Pe,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Pe){const ye=this.normalizeInstanceIdentifier(Pe);if(!this.instancesDeferred.has(ye)){const ze=new h.cY;if(this.instancesDeferred.set(ye,ze),this.isInitialized(ye)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:ye});qe&&ze.resolve(qe)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(Pe){var ye;const ze=this.normalizeInstanceIdentifier(null==Pe?void 0:Pe.identifier),qe=null!==(ye=null==Pe?void 0:Pe.optional)&&void 0!==ye&&ye;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(We){if(qe)return null;throw We}}getComponent(){return this.component}setComponent(Pe){if(Pe.name!==this.name)throw Error(`Mismatching Component ${Pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Pe,this.shouldAutoInitialize()){if(function _e(Ge){return"EAGER"===Ge.instantiationMode}(Pe))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ye,ze]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(ye);try{const We=this.getOrInitializeService({instanceIdentifier:qe});ze.resolve(We)}catch{}}}}clearInstance(Pe=ve){this.instancesDeferred.delete(Pe),this.instancesOptions.delete(Pe),this.instances.delete(Pe)}delete(){var Pe=this;return(0,c.A)(function*(){const ye=Array.from(Pe.instances.values());yield Promise.all([...ye.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...ye.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Pe=ve){return this.instances.has(Pe)}getOptions(Pe=ve){return this.instancesOptions.get(Pe)||{}}initialize(Pe={}){const{options:ye={}}=Pe,ze=this.normalizeInstanceIdentifier(Pe.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ze,options:ye});for(const[We,ut]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(We)&&ut.resolve(qe);return qe}onInit(Pe,ye){var ze;const qe=this.normalizeInstanceIdentifier(ye),We=null!==(ze=this.onInitCallbacks.get(qe))&&void 0!==ze?ze:new Set;We.add(Pe),this.onInitCallbacks.set(qe,We);const ut=this.instances.get(qe);return ut&&Pe(ut,qe),()=>{We.delete(Pe)}}invokeOnInitCallbacks(Pe,ye){const ze=this.onInitCallbacks.get(ye);if(ze)for(const qe of ze)try{qe(Pe,ye)}catch{}}getOrInitializeService({instanceIdentifier:Pe,options:ye={}}){let ze=this.instances.get(Pe);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=Pe,Ge===ve?void 0:Ge),options:ye}),this.instances.set(Pe,ze),this.instancesOptions.set(Pe,ye),this.invokeOnInitCallbacks(ze,Pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Pe,ze)}catch{}var Ge;return ze||null}normalizeInstanceIdentifier(Pe=ve){return this.component?this.component.multipleInstances?Pe:ve:Pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(Pe){this.name=Pe,this.providers=new Map}addComponent(Pe){const ye=this.getProvider(Pe.name);if(ye.isComponentSet())throw new Error(`Component ${Pe.name} has already been registered with ${this.name}`);ye.setComponent(Pe)}addOrOverwriteComponent(Pe){this.getProvider(Pe.name).isComponentSet()&&this.providers.delete(Pe.name),this.addComponent(Pe)}getProvider(Pe){if(this.providers.has(Pe))return this.providers.get(Pe);const ye=new X(Pe,this);return this.providers.set(Pe,ye),ye}getProviders(){return Array.from(this.providers.values())}}},8041:(Rn,at,x)=>{"use strict";x.d(at,{$b:()=>h,Ey:()=>Ge,He:()=>Me,Vy:()=>_e});const c=[];var h=function(Pe){return Pe[Pe.DEBUG=0]="DEBUG",Pe[Pe.VERBOSE=1]="VERBOSE",Pe[Pe.INFO=2]="INFO",Pe[Pe.WARN=3]="WARN",Pe[Pe.ERROR=4]="ERROR",Pe[Pe.SILENT=5]="SILENT",Pe}(h||{});const L={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ve=h.INFO,X={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ee=(Pe,ye,...ze)=>{if(ye<Pe.logLevel)return;const qe=(new Date).toISOString(),We=X[ye];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[We](`[${qe}]  ${Pe.name}:`,...ze)};class _e{constructor(ye){this.name=ye,this._logLevel=ve,this._logHandler=ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in h))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?L[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ye),this._logHandler(this,h.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ye),this._logHandler(this,h.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ye),this._logHandler(this,h.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ye),this._logHandler(this,h.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ye),this._logHandler(this,h.ERROR,...ye)}}function Me(Pe){c.forEach(ye=>{ye.setLogLevel(Pe)})}function Ge(Pe,ye){for(const ze of c){let qe=null;ye&&ye.level&&(qe=L[ye.level]),ze.userLogHandler=null===Pe?null:(We,ut,...vt)=>{const st=vt.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");ut>=(null!=qe?qe:We.logLevel)&&Pe({level:h[ut].toLowerCase(),message:st,args:vt,type:We.name})}}}},2872:(Rn,at,x)=>{"use strict";x.d(at,{Yq:()=>it,TS:()=>bn,sR:()=>Qt,el:()=>Fn,Sb:()=>Jn,QE:()=>Nn,CF:()=>hi,Rg:()=>_n,p4:()=>Nr,jM:()=>eo,_t:()=>nt,q9:()=>wn,Kb:()=>xr,OD:()=>Lt,CE:()=>nr,pF:()=>Sr,fL:()=>tr,YV:()=>Xe,er:()=>Jr,z3:()=>oi});var c=x(467),h=x(9842),L=x(4438),ve=x(9384),X=x(177),ee=x(5531),_e=x(4442);var Vt=x(1413),nn=x(3726),Tn=x(4412),gn=x(4572),qn=x(7673),Wt=x(1635),Le=x(5964),Ue=x(5558),ie=x(3294),de=x(4341);const Be=["tabsInner"];class nt{constructor(q){(0,h.A)(this,"menuController",void 0),this.menuController=q}open(q){return this.menuController.open(q)}close(q){return this.menuController.close(q)}toggle(q){return this.menuController.toggle(q)}enable(q,Re){return this.menuController.enable(q,Re)}swipeGesture(q,Re){return this.menuController.swipeGesture(q,Re)}isOpen(q){return this.menuController.isOpen(q)}isEnabled(q){return this.menuController.isEnabled(q)}get(q){return this.menuController.get(q)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(q,Re){return this.menuController.registerAnimation(q,Re)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(q,Re){return this.menuController._createAnimation(q,Re)}_register(q){return this.menuController._register(q)}_unregister(q){return this.menuController._unregister(q)}_setOpen(q,Re,ne){return this.menuController._setOpen(q,Re,ne)}}let Lt=(()=>{var pe;class q{constructor(ne,se){(0,h.A)(this,"doc",void 0),(0,h.A)(this,"_readyPromise",void 0),(0,h.A)(this,"win",void 0),(0,h.A)(this,"backButton",new Vt.B),(0,h.A)(this,"keyboardDidShow",new Vt.B),(0,h.A)(this,"keyboardDidHide",new Vt.B),(0,h.A)(this,"pause",new Vt.B),(0,h.A)(this,"resume",new Vt.B),(0,h.A)(this,"resize",new Vt.B),this.doc=ne,se.run(()=>{var xe;let Nt;this.win=ne.defaultView,this.backButton.subscribeWithPriority=function(on,yn){return this.subscribe(he=>he.register(on,$e=>se.run(()=>yn($e))))},Xt(this.pause,ne,"pause",se),Xt(this.resume,ne,"resume",se),Xt(this.backButton,ne,"ionBackButton",se),Xt(this.resize,this.win,"resize",se),Xt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",se),Xt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",se),this._readyPromise=new Promise(on=>{Nt=on}),null!==(xe=this.win)&&void 0!==xe&&xe.cordova?ne.addEventListener("deviceready",()=>{Nt("cordova")},{once:!0}):Nt("dom")})}is(ne){return(0,ee.a)(this.win,ne)}platforms(){return(0,ee.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ne){return Mt(this.win.location.href,ne)}isLandscape(){return!this.isPortrait()}isPortrait(){var ne,se;return null===(ne=(se=this.win).matchMedia)||void 0===ne?void 0:ne.call(se,"(orientation: portrait)").matches}testUserAgent(ne){const se=this.win.navigator;return!!(null!=se&&se.userAgent&&se.userAgent.indexOf(ne)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)(L.KVO(X.qQ),L.KVO(L.SKi))}),(0,h.A)(q,"\u0275prov",L.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})),q})();const Mt=(pe,q)=>{q=q.replace(/[[\]\\]/g,"\\$&");const ne=new RegExp("[\\?&]"+q+"=([^&#]*)").exec(pe);return ne?decodeURIComponent(ne[1].replace(/\+/g," ")):null},Xt=(pe,q,Re,ne)=>{q&&q.addEventListener(Re,se=>{ne.run(()=>{pe.next(null!=se?se.detail:void 0)})})};let wn=(()=>{var pe;class q{constructor(ne,se,xe,Nt){(0,h.A)(this,"location",void 0),(0,h.A)(this,"serializer",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"topOutlet",void 0),(0,h.A)(this,"direction",Mn),(0,h.A)(this,"animated",en),(0,h.A)(this,"animationBuilder",void 0),(0,h.A)(this,"guessDirection","forward"),(0,h.A)(this,"guessAnimation",void 0),(0,h.A)(this,"lastNavId",-1),this.location=se,this.serializer=xe,this.router=Nt,Nt&&Nt.events.subscribe(on=>{if(on instanceof ve.Z){const yn=on.restoredState?on.restoredState.navigationId:on.id;this.guessDirection=this.guessAnimation=yn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?on.id:yn}}),ne.backButton.subscribeWithPriority(0,on=>{this.pop(),on()})}navigateForward(ne,se={}){return this.setDirection("forward",se.animated,se.animationDirection,se.animation),this.navigate(ne,se)}navigateBack(ne,se={}){return this.setDirection("back",se.animated,se.animationDirection,se.animation),this.navigate(ne,se)}navigateRoot(ne,se={}){return this.setDirection("root",se.animated,se.animationDirection,se.animation),this.navigate(ne,se)}back(ne={animated:!0,animationDirection:"back"}){return this.setDirection("back",ne.animated,ne.animationDirection,ne.animation),this.location.back()}pop(){var ne=this;return(0,c.A)(function*(){let se=ne.topOutlet;for(;se;){if(yield se.pop())return!0;se=se.parentOutlet}return!1})()}setDirection(ne,se,xe,Nt){this.direction=ne,this.animated=kt(ne,se,xe),this.animationBuilder=Nt}setTopOutlet(ne){this.topOutlet=ne}consumeTransition(){let se,ne="root";const xe=this.animationBuilder;return"auto"===this.direction?(ne=this.guessDirection,se=this.guessAnimation):(se=this.animated,ne=this.direction),this.direction=Mn,this.animated=en,this.animationBuilder=void 0,{direction:ne,animation:se,animationBuilder:xe}}navigate(ne,se){if(Array.isArray(ne))return this.router.navigate(ne,se);{const xe=this.serializer.parse(ne.toString());return void 0!==se.queryParams&&(xe.queryParams={...se.queryParams}),void 0!==se.fragment&&(xe.fragment=se.fragment),this.router.navigateByUrl(xe,se)}}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)(L.KVO(Lt),L.KVO(X.aZ),L.KVO(ve.Sd),L.KVO(ve.Ix,8))}),(0,h.A)(q,"\u0275prov",L.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})),q})();const kt=(pe,q,Re)=>{if(!1!==q){if(void 0!==Re)return Re;if("forward"===pe||"back"===pe)return pe;if("root"===pe&&!0===q)return"forward"}},Mn="auto",en=void 0;let bn=(()=>{var pe;class q{get(ne,se){const xe=Dt();return xe?xe.get(ne,se):null}getBoolean(ne,se){const xe=Dt();return!!xe&&xe.getBoolean(ne,se)}getNumber(ne,se){const xe=Dt();return xe?xe.getNumber(ne,se):0}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)}),(0,h.A)(q,"\u0275prov",L.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})),q})();const Qt=new L.nKC("USERCONFIG"),Dt=()=>{if(typeof window<"u"){const pe=window.Ionic;if(null!=pe&&pe.config)return pe.config}return null};class vn{constructor(q={}){(0,h.A)(this,"data",void 0),this.data=q,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(q){return this.data[q]}}let it=(()=>{var pe;class q{constructor(){(0,h.A)(this,"zone",(0,L.WQX)(L.SKi)),(0,h.A)(this,"applicationRef",(0,L.WQX)(L.o8S)),(0,h.A)(this,"config",(0,L.WQX)(Qt))}create(ne,se,xe){var Nt;return new Oe(ne,se,this.applicationRef,this.zone,xe,null!==(Nt=this.config.useSetInputAPI)&&void 0!==Nt&&Nt)}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)}),(0,h.A)(q,"\u0275prov",L.jDH({token:pe,factory:pe.\u0275fac})),q})();class Oe{constructor(q,Re,ne,se,xe,Nt){(0,h.A)(this,"environmentInjector",void 0),(0,h.A)(this,"injector",void 0),(0,h.A)(this,"applicationRef",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"elementReferenceKey",void 0),(0,h.A)(this,"enableSignalsSupport",void 0),(0,h.A)(this,"elRefMap",new WeakMap),(0,h.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=q,this.injector=Re,this.applicationRef=ne,this.zone=se,this.elementReferenceKey=xe,this.enableSignalsSupport=Nt}attachViewToDom(q,Re,ne,se){return this.zone.run(()=>new Promise(xe=>{const Nt={...ne};void 0!==this.elementReferenceKey&&(Nt[this.elementReferenceKey]=q),xe(Ke(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,q,Re,Nt,se,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(q,Re){return this.zone.run(()=>new Promise(ne=>{const se=this.elRefMap.get(Re);if(se){se.destroy(),this.elRefMap.delete(Re);const xe=this.elEventsMap.get(Re);xe&&(xe(),this.elEventsMap.delete(Re))}ne()}))}}const Ke=(pe,q,Re,ne,se,xe,Nt,on,yn,he,$e,pt)=>{const St=L.zZn.create({providers:ir(yn),parent:Re}),zt=(0,L.a0P)(on,{environmentInjector:q,elementInjector:St}),In=zt.instance,Bn=zt.location.nativeElement;if(yn)if($e&&void 0!==In[$e]&&console.error(`[Ionic Error]: ${$e} is a reserved property when using ${Nt.tagName.toLowerCase()}. Rename or remove the "${$e}" property from ${on.name}.`),!0===pt&&void 0!==zt.setInput){const{modal:fr,popover:ar,...Vr}=yn;for(const Ai in Vr)zt.setInput(Ai,Vr[Ai]);void 0!==fr&&Object.assign(In,{modal:fr}),void 0!==ar&&Object.assign(In,{popover:ar})}else Object.assign(In,yn);if(he)for(const fr of he)Bn.classList.add(fr);const Gn=qt(pe,In,Bn);return Nt.appendChild(Bn),ne.attachView(zt.hostView),se.set(Bn,zt),xe.set(Bn,Gn),Bn},cn=[_e.L,_e.a,_e.b,_e.c,_e.d],qt=(pe,q,Re)=>pe.run(()=>{const ne=cn.filter(se=>"function"==typeof q[se]).map(se=>{const xe=Nt=>q[se](Nt.detail);return Re.addEventListener(se,xe),()=>Re.removeEventListener(se,xe)});return()=>ne.forEach(se=>se())}),or=new L.nKC("NavParamsToken"),ir=pe=>[{provide:or,useValue:pe},{provide:vn,useFactory:Un,deps:[or]}],Un=pe=>new vn(pe),zn=(pe,q)=>{const Re=pe.prototype;q.forEach(ne=>{Object.defineProperty(Re,ne,{get(){return this.el[ne]},set(se){this.z.runOutsideAngular(()=>this.el[ne]=se)}})})},Er=(pe,q)=>{const Re=pe.prototype;q.forEach(ne=>{Re[ne]=function(){const se=arguments;return this.z.runOutsideAngular(()=>this.el[ne].apply(this.el,se))}})},_r=(pe,q,Re)=>{Re.forEach(ne=>pe[ne]=(0,nn.R)(q,ne))};function cr(pe){return function(Re){const{defineCustomElementFn:ne,inputs:se,methods:xe}=pe;return void 0!==ne&&ne(),se&&zn(Re,se),xe&&Er(Re,xe),Re}}const sr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Kr=["present","dismiss","onDidDismiss","onWillDismiss"];let hi=(()=>{var pe;let q=((0,h.A)(pe=class{constructor(ne,se,xe){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=xe,this.el=se.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ne.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ne.detectChanges()}),_r(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ne){return new(ne||pe)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))}),(0,h.A)(pe,"\u0275dir",L.FsC({type:pe,selectors:[["ion-popover"]],contentQueries:function(ne,se,xe){if(1&ne&&L.wni(xe,L.C4Q,5),2&ne){let Nt;L.mGM(Nt=L.lsd())&&(se.template=Nt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),pe);return q=(0,Wt.Cg)([cr({inputs:sr,methods:Kr})],q),q})();const jn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Mr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Jn=(()=>{var pe;let q=((0,h.A)(pe=class{constructor(ne,se,xe){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=xe,this.el=se.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ne.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ne.detectChanges()}),_r(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ne){return new(ne||pe)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))}),(0,h.A)(pe,"\u0275dir",L.FsC({type:pe,selectors:[["ion-modal"]],contentQueries:function(ne,se,xe){if(1&ne&&L.wni(xe,L.C4Q,5),2&ne){let Nt;L.mGM(Nt=L.lsd())&&(se.template=Nt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),pe);return q=(0,Wt.Cg)([cr({inputs:jn,methods:Mr})],q),q})();const On=(pe,q)=>((pe=pe.filter(Re=>Re.stackId!==q.stackId)).push(q),pe),lr=(pe,q)=>{const Re=pe.createUrlTree(["."],{relativeTo:q});return pe.serializeUrl(Re)},Ar=(pe,q)=>!q||pe.stackId!==q.stackId,Cn=(pe,q)=>{if(!pe)return;const Re=Gt(q);for(let ne=0;ne<Re.length;ne++){if(ne>=pe.length)return Re[ne];if(Re[ne]!==pe[ne])return}},Gt=pe=>pe.split("/").map(q=>q.trim()).filter(q=>""!==q),Ct=pe=>{pe&&(pe.ref.destroy(),pe.unlistenEvents())};class Yt{constructor(q,Re,ne,se,xe,Nt){(0,h.A)(this,"containerEl",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"location",void 0),(0,h.A)(this,"views",[]),(0,h.A)(this,"runningTask",void 0),(0,h.A)(this,"skipTransition",!1),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"activeView",void 0),(0,h.A)(this,"nextId",0),this.containerEl=Re,this.router=ne,this.navCtrl=se,this.zone=xe,this.location=Nt,this.tabsPrefix=void 0!==q?Gt(q):void 0}createView(q,Re){var ne;const se=lr(this.router,Re),xe=null==q||null===(ne=q.location)||void 0===ne?void 0:ne.nativeElement,Nt=qt(this.zone,q.instance,xe);return{id:this.nextId++,stackId:Cn(this.tabsPrefix,se),unlistenEvents:Nt,element:xe,ref:q,url:se}}getExistingView(q){const Re=lr(this.router,q),ne=this.views.find(se=>se.url===Re);return ne&&ne.ref.changeDetectorRef.reattach(),ne}setActive(q){var Re,ne;const se=this.navCtrl.consumeTransition();let{direction:xe,animation:Nt,animationBuilder:on}=se;const yn=this.activeView,he=Ar(q,yn);he&&(xe="back",Nt=void 0);const $e=this.views.slice();let pt;const St=this.router;St.getCurrentNavigation?pt=St.getCurrentNavigation():null!==(Re=St.navigations)&&void 0!==Re&&Re.value&&(pt=St.navigations.value),null!==(ne=pt)&&void 0!==ne&&null!==(ne=ne.extras)&&void 0!==ne&&ne.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const zt=this.views.includes(q),In=this.insertView(q,xe);zt||q.ref.changeDetectorRef.detectChanges();const Bn=q.animationBuilder;return void 0===on&&"back"===xe&&!he&&void 0!==Bn&&(on=Bn),yn&&(yn.animationBuilder=on),this.zone.runOutsideAngular(()=>this.wait(()=>(yn&&yn.ref.changeDetectorRef.detach(),q.ref.changeDetectorRef.reattach(),this.transition(q,yn,Nt,this.canGoBack(1),!1,on).then(()=>_t(q,In,$e,this.location,this.zone)).then(()=>({enteringView:q,direction:xe,animation:Nt,tabSwitch:he})))))}canGoBack(q,Re=this.getActiveStackId()){return this.getStack(Re).length>q}pop(q,Re=this.getActiveStackId()){return this.zone.run(()=>{const ne=this.getStack(Re);if(ne.length<=q)return Promise.resolve(!1);const se=ne[ne.length-q-1];let xe=se.url;const Nt=se.savedData;if(Nt){var on;const he=Nt.get("primary");null!=he&&null!==(on=he.route)&&void 0!==on&&null!==(on=on._routerState)&&void 0!==on&&on.snapshot.url&&(xe=he.route._routerState.snapshot.url)}const{animationBuilder:yn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(xe,{...se.savedExtras,animation:yn}).then(()=>!0)})}startBackTransition(){const q=this.activeView;if(q){const Re=this.getStack(q.stackId),ne=Re[Re.length-2],se=ne.animationBuilder;return this.wait(()=>this.transition(ne,q,"back",this.canGoBack(2),!0,se))}return Promise.resolve()}endBackTransition(q){q?(this.skipTransition=!0,this.pop(1)):this.activeView&&Et(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(q){const Re=this.getStack(q);return Re.length>0?Re[Re.length-1]:void 0}getRootUrl(q){const Re=this.getStack(q);return Re.length>0?Re[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ct),this.activeView=void 0,this.views=[]}getStack(q){return this.views.filter(Re=>Re.stackId===q)}insertView(q,Re){return this.activeView=q,this.views=((pe,q,Re)=>"root"===Re?On(pe,q):"forward"===Re?((pe,q)=>(pe.indexOf(q)>=0?pe=pe.filter(ne=>ne.stackId!==q.stackId||ne.id<=q.id):pe.push(q),pe))(pe,q):((pe,q)=>pe.indexOf(q)>=0?pe.filter(ne=>ne.stackId!==q.stackId||ne.id<=q.id):On(pe,q))(pe,q))(this.views,q,Re),this.views.slice()}transition(q,Re,ne,se,xe,Nt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Re===q)return Promise.resolve(!1);const on=q?q.element:void 0,yn=Re?Re.element:void 0,he=this.containerEl;return on&&on!==yn&&(on.classList.add("ion-page"),on.classList.add("ion-page-invisible"),he.commit)?he.commit(on,yn,{duration:void 0===ne?0:void 0,direction:ne,showGoBack:se,progressAnimation:xe,animationBuilder:Nt}):Promise.resolve(!1)}wait(q){var Re=this;return(0,c.A)(function*(){void 0!==Re.runningTask&&(yield Re.runningTask,Re.runningTask=void 0);const ne=Re.runningTask=q();return ne.finally(()=>Re.runningTask=void 0),ne})()}}const _t=(pe,q,Re,ne,se)=>"function"==typeof requestAnimationFrame?new Promise(xe=>{requestAnimationFrame(()=>{Et(pe,q,Re,ne,se),xe()})}):Promise.resolve(),Et=(pe,q,Re,ne,se)=>{se.run(()=>Re.filter(xe=>!q.includes(xe)).forEach(Ct)),q.forEach(xe=>{const on=ne.path().split("?")[0].split("#")[0];if(xe!==pe&&xe.url!==on){const yn=xe.element;yn.setAttribute("aria-hidden","true"),yn.classList.add("ion-page-hidden"),xe.ref.changeDetectorRef.detach()}})};let _n=(()=>{var pe;class q{get activatedComponentRef(){return this.activated}set animation(ne){this.nativeEl.animation=ne}set animated(ne){this.nativeEl.animated=ne}set swipeGesture(ne){this._swipeGesture=ne,this.nativeEl.swipeHandler=ne?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:se=>this.stackCtrl.endBackTransition(se)}:void 0}constructor(ne,se,xe,Nt,on,yn,he,$e){(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"nativeEl",void 0),(0,h.A)(this,"activatedView",null),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"_swipeGesture",void 0),(0,h.A)(this,"stackCtrl",void 0),(0,h.A)(this,"proxyMap",new WeakMap),(0,h.A)(this,"currentActivatedRoute$",new Tn.t(null)),(0,h.A)(this,"activated",null),(0,h.A)(this,"_activatedRoute",null),(0,h.A)(this,"name",ve.Xk),(0,h.A)(this,"stackWillChange",new L.bkB),(0,h.A)(this,"stackDidChange",new L.bkB),(0,h.A)(this,"activateEvents",new L.bkB),(0,h.A)(this,"deactivateEvents",new L.bkB),(0,h.A)(this,"parentContexts",(0,L.WQX)(ve.Zp)),(0,h.A)(this,"location",(0,L.WQX)(L.c1b)),(0,h.A)(this,"environmentInjector",(0,L.WQX)(L.uvJ)),(0,h.A)(this,"inputBinder",(0,L.WQX)(Q,{optional:!0})),(0,h.A)(this,"supportsBindingToComponentInputs",!0),(0,h.A)(this,"config",(0,L.WQX)(bn)),(0,h.A)(this,"navCtrl",(0,L.WQX)(wn)),this.parentOutlet=$e,this.nativeEl=Nt.nativeElement,this.name=ne||ve.Xk,this.tabsPrefix="true"===se?lr(on,he):void 0,this.stackCtrl=new Yt(this.tabsPrefix,this.nativeEl,on,this.navCtrl,yn,xe),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ne;this.stackCtrl.destroy(),null===(ne=this.inputBinder)||void 0===ne||ne.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ne=this.getContext();null!=ne&&ne.route&&this.activateWith(ne.route,ne.injector)}new Promise(ne=>((pe,q)=>{pe.componentOnReady?pe.componentOnReady().then(Re=>q(Re)):(pe=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(pe):setTimeout(pe)})(()=>q(pe))})(this.nativeEl,ne)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ne,se){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const se=this.getContext();this.activatedView.savedData=new Map(se.children.contexts);const xe=this.activatedView.savedData.get("primary");if(xe&&se.route&&(xe.route={...se.route}),this.activatedView.savedExtras={},se.route){const Nt=se.route.snapshot;this.activatedView.savedExtras.queryParams=Nt.queryParams,this.activatedView.savedExtras.fragment=Nt.fragment}}const ne=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ne)}}activateWith(ne,se){var xe;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ne;let Nt,on=this.stackCtrl.getExistingView(ne);if(on){Nt=this.activated=on.ref;const $e=on.savedData;$e&&(this.getContext().children.contexts=$e),this.updateActivatedRouteProxy(Nt.instance,ne)}else{var yn;const $e=ne._futureSnapshot,pt=this.parentContexts.getOrCreateContext(this.name).children,St=new Tn.t(null),zt=this.createActivatedRouteProxy(St,ne),In=new oe(zt,pt,this.location.injector),Bn=null!==(yn=$e.routeConfig.component)&&void 0!==yn?yn:$e.component;Nt=this.activated=this.outletContent.createComponent(Bn,{index:this.outletContent.length,injector:In,environmentInjector:null!=se?se:this.environmentInjector}),St.next(Nt.instance),on=this.stackCtrl.createView(this.activated,ne),this.proxyMap.set(Nt.instance,zt),this.currentActivatedRoute$.next({component:Nt.instance,activatedRoute:ne})}null===(xe=this.inputBinder)||void 0===xe||xe.bindActivatedRouteToOutletComponent(this),this.activatedView=on,this.navCtrl.setTopOutlet(this);const he=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:on,tabSwitch:Ar(on,he)}),this.stackCtrl.setActive(on).then($e=>{this.activateEvents.emit(Nt.instance),this.stackDidChange.emit($e)})}canGoBack(ne=1,se){return this.stackCtrl.canGoBack(ne,se)}pop(ne=1,se){return this.stackCtrl.pop(ne,se)}getLastUrl(ne){const se=this.stackCtrl.getLastUrl(ne);return se?se.url:void 0}getLastRouteView(ne){return this.stackCtrl.getLastUrl(ne)}getRootView(ne){return this.stackCtrl.getRootUrl(ne)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ne,se){const xe=new ve.nX;return xe._futureSnapshot=se._futureSnapshot,xe._routerState=se._routerState,xe.snapshot=se.snapshot,xe.outlet=se.outlet,xe.component=se.component,xe._paramMap=this.proxyObservable(ne,"paramMap"),xe._queryParamMap=this.proxyObservable(ne,"queryParamMap"),xe.url=this.proxyObservable(ne,"url"),xe.params=this.proxyObservable(ne,"params"),xe.queryParams=this.proxyObservable(ne,"queryParams"),xe.fragment=this.proxyObservable(ne,"fragment"),xe.data=this.proxyObservable(ne,"data"),xe}proxyObservable(ne,se){return ne.pipe((0,Le.p)(xe=>!!xe),(0,Ue.n)(xe=>this.currentActivatedRoute$.pipe((0,Le.p)(Nt=>null!==Nt&&Nt.component===xe),(0,Ue.n)(Nt=>Nt&&Nt.activatedRoute[se]),(0,ie.F)())))}updateActivatedRouteProxy(ne,se){const xe=this.proxyMap.get(ne);if(!xe)throw new Error("Could not find activated route proxy for view");xe._futureSnapshot=se._futureSnapshot,xe._routerState=se._routerState,xe.snapshot=se.snapshot,xe.outlet=se.outlet,xe.component=se.component,this.currentActivatedRoute$.next({component:ne,activatedRoute:se})}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)(L.kS0("name"),L.kS0("tabs"),L.rXU(X.aZ),L.rXU(L.aKT),L.rXU(ve.Ix),L.rXU(L.SKi),L.rXU(ve.nX),L.rXU(pe,12))}),(0,h.A)(q,"\u0275dir",L.FsC({type:pe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),q})();class oe{constructor(q,Re,ne){(0,h.A)(this,"route",void 0),(0,h.A)(this,"childContexts",void 0),(0,h.A)(this,"parent",void 0),this.route=q,this.childContexts=Re,this.parent=ne}get(q,Re){return q===ve.nX?this.route:q===ve.Zp?this.childContexts:this.parent.get(q,Re)}}const Q=new L.nKC("");let le=(()=>{var pe;class q{constructor(){(0,h.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ne){this.unsubscribeFromRouteData(ne),this.subscribeToRouteData(ne)}unsubscribeFromRouteData(ne){var se;null===(se=this.outletDataSubscriptions.get(ne))||void 0===se||se.unsubscribe(),this.outletDataSubscriptions.delete(ne)}subscribeToRouteData(ne){const{activatedRoute:se}=ne,xe=(0,gn.z)([se.queryParams,se.params,se.data]).pipe((0,Ue.n)(([Nt,on,yn],he)=>(yn={...Nt,...on,...yn},0===he?(0,qn.of)(yn):Promise.resolve(yn)))).subscribe(Nt=>{if(!ne.isActivated||!ne.activatedComponentRef||ne.activatedRoute!==se||null===se.component)return void this.unsubscribeFromRouteData(ne);const on=(0,L.HJs)(se.component);if(on)for(const{templateName:yn}of on.inputs)ne.activatedComponentRef.setInput(yn,Nt[yn]);else this.unsubscribeFromRouteData(ne)});this.outletDataSubscriptions.set(ne,xe)}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)}),(0,h.A)(q,"\u0275prov",L.jDH({token:pe,factory:pe.\u0275fac})),q})();const Xe=()=>({provide:Q,useFactory:tt,deps:[ve.Ix]});function tt(pe){return null!=pe&&pe.componentInputBindingEnabled?new le:null}const ln=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Fn=(()=>{var pe;let q=((0,h.A)(pe=class{constructor(ne,se,xe,Nt,on,yn){(0,h.A)(this,"routerOutlet",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"config",void 0),(0,h.A)(this,"r",void 0),(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.routerOutlet=ne,this.navCtrl=se,this.config=xe,this.r=Nt,this.z=on,yn.detach(),this.el=this.r.nativeElement}onClick(ne){var se;const xe=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(se=this.routerOutlet)&&void 0!==se&&se.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ne.preventDefault()):null!=xe&&(this.navCtrl.navigateBack(xe,{animation:this.routerAnimation}),ne.preventDefault())}},"\u0275fac",function(ne){return new(ne||pe)(L.rXU(_n,8),L.rXU(wn),L.rXU(bn),L.rXU(L.aKT),L.rXU(L.SKi),L.rXU(L.gRc))}),(0,h.A)(pe,"\u0275dir",L.FsC({type:pe,hostBindings:function(ne,se){1&ne&&L.bIt("click",function(Nt){return se.onClick(Nt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),pe);return q=(0,Wt.Cg)([cr({inputs:ln})],q),q})(),nr=(()=>{var pe;class q{constructor(ne,se,xe,Nt,on){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=ne,this.navCtrl=se,this.elementRef=xe,this.router=Nt,this.routerLink=on}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const se=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(se.tagName)&&"0"===se.getAttribute("tabindex")&&se.removeAttribute("tabindex")}updateTargetUrlAndHref(){var ne;if(null!==(ne=this.routerLink)&&void 0!==ne&&ne.urlTree){const se=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=se}}onClick(ne){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ne.preventDefault()}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)(L.rXU(X.hb),L.rXU(wn),L.rXU(L.aKT),L.rXU(ve.Ix),L.rXU(ve.Wk,8))}),(0,h.A)(q,"\u0275dir",L.FsC({type:pe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ne,se){1&ne&&L.bIt("click",function(Nt){return se.onClick(Nt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})),q})(),Sr=(()=>{var pe;class q{constructor(ne,se,xe,Nt,on){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=ne,this.navCtrl=se,this.elementRef=xe,this.router=Nt,this.routerLink=on}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ne;if(null!==(ne=this.routerLink)&&void 0!==ne&&ne.urlTree){const se=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=se}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)(L.rXU(X.hb),L.rXU(wn),L.rXU(L.aKT),L.rXU(ve.Ix),L.rXU(ve.Wk,8))}),(0,h.A)(q,"\u0275dir",L.FsC({type:pe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ne,se){1&ne&&L.bIt("click",function(){return se.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})),q})();const yt=["animated","animation","root","rootParams","swipeGesture"],Cr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Nn=(()=>{var pe;let q=((0,h.A)(pe=class{constructor(ne,se,xe,Nt,on,yn){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=on,yn.detach(),this.el=ne.nativeElement,ne.nativeElement.delegate=Nt.create(se,xe),_r(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ne){return new(ne||pe)(L.rXU(L.aKT),L.rXU(L.uvJ),L.rXU(L.zZn),L.rXU(it),L.rXU(L.SKi),L.rXU(L.gRc))}),(0,h.A)(pe,"\u0275dir",L.FsC({type:pe,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),pe);return q=(0,Wt.Cg)([cr({inputs:yt,methods:Cr})],q),q})(),Nr=(()=>{var pe;class q{constructor(ne){(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"tabsInner",void 0),(0,h.A)(this,"ionTabsWillChange",new L.bkB),(0,h.A)(this,"ionTabsDidChange",new L.bkB),(0,h.A)(this,"tabBarSlot","bottom"),(0,h.A)(this,"hasTab",!1),(0,h.A)(this,"selectedTab",void 0),(0,h.A)(this,"leavingTab",void 0),this.navCtrl=ne}ngAfterViewInit(){const ne=this.tabs.length>0?this.tabs.first:void 0;ne&&(this.hasTab=!0,this.setActiveTab(ne.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ne,tabSwitch:se}){const xe=ne.stackId;se&&void 0!==xe&&this.ionTabsWillChange.emit({tab:xe})}onStackDidChange({enteringView:ne,tabSwitch:se}){const xe=ne.stackId;se&&void 0!==xe&&(this.tabBar&&(this.tabBar.selectedTab=xe),this.ionTabsDidChange.emit({tab:xe}))}select(ne){const se="string"==typeof ne,xe=se?ne:ne.detail.tab;if(this.hasTab)return this.setActiveTab(xe),void this.tabSwitch();const Nt=this.outlet.getActiveStackId()===xe,on=`${this.outlet.tabsPrefix}/${xe}`;if(se||ne.stopPropagation(),Nt){const yn=this.outlet.getActiveStackId(),he=this.outlet.getLastRouteView(yn);if((null==he?void 0:he.url)===on)return;const $e=this.outlet.getRootView(xe);return this.navCtrl.navigateRoot(on,{...$e&&on===$e.url&&$e.savedExtras,animated:!0,animationDirection:"back"})}{const yn=this.outlet.getLastRouteView(xe);return this.navCtrl.navigateRoot((null==yn?void 0:yn.url)||on,{...null==yn?void 0:yn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(ne){const xe=this.tabs.find(Nt=>Nt.tab===ne);xe?(this.leavingTab=this.selectedTab,this.selectedTab=xe,this.ionTabsWillChange.emit({tab:ne}),xe.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ne}" does not exist`)}tabSwitch(){const{selectedTab:ne,leavingTab:se}=this;this.tabBar&&ne&&(this.tabBar.selectedTab=ne.tab),(null==se?void 0:se.tab)!==(null==ne?void 0:ne.tab)&&null!=se&&se.el&&(se.el.active=!1),ne&&this.ionTabsDidChange.emit({tab:ne.tab})}getSelected(){var ne;return this.hasTab?null===(ne=this.selectedTab)||void 0===ne?void 0:ne.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ne=>{const se=ne.el.getAttribute("slot");se!==this.tabBarSlot&&(this.tabBarSlot=se,this.relocateTabBar())})}relocateTabBar(){const ne=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ne):this.tabsInner.nativeElement.after(ne)}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)(L.rXU(wn))}),(0,h.A)(q,"\u0275dir",L.FsC({type:pe,selectors:[["ion-tabs"]],viewQuery:function(ne,se){if(1&ne&&L.GBs(Be,7,L.aKT),2&ne){let xe;L.mGM(xe=L.lsd())&&(se.tabsInner=xe.first)}},hostBindings:function(ne,se){1&ne&&L.bIt("ionTabButtonClick",function(Nt){return se.select(Nt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),q})();const Jr=pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(pe):setTimeout(pe);let tr=(()=>{var pe;class q{constructor(ne,se){(0,h.A)(this,"injector",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"onChange",()=>{}),(0,h.A)(this,"onTouched",()=>{}),(0,h.A)(this,"lastValue",void 0),(0,h.A)(this,"statusChanges",void 0),this.injector=ne,this.elementRef=se}writeValue(ne){this.elementRef.nativeElement.value=this.lastValue=ne,oi(this.elementRef)}handleValueChange(ne,se){ne===this.elementRef.nativeElement&&(se!==this.lastValue&&(this.lastValue=se,this.onChange(se)),oi(this.elementRef))}_handleBlurEvent(ne){ne===this.elementRef.nativeElement&&(this.onTouched(),oi(this.elementRef))}registerOnChange(ne){this.onChange=ne}registerOnTouched(ne){this.onTouched=ne}setDisabledState(ne){this.elementRef.nativeElement.disabled=ne}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ne;try{ne=this.injector.get(de.vO)}catch{}if(!ne)return;ne.statusChanges&&(this.statusChanges=ne.statusChanges.subscribe(()=>oi(this.elementRef)));const se=ne.control;se&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Nt=>{if(typeof se[Nt]<"u"){const on=se[Nt].bind(se);se[Nt]=(...yn)=>{on(...yn),oi(this.elementRef)}}})}}return pe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||pe)(L.rXU(L.zZn),L.rXU(L.aKT))}),(0,h.A)(q,"\u0275dir",L.FsC({type:pe,hostBindings:function(ne,se){1&ne&&L.bIt("ionBlur",function(Nt){return se._handleBlurEvent(Nt.target)})}})),q})();const oi=pe=>{Jr(()=>{const q=pe.nativeElement,Re=null!=q.value&&q.value.toString().length>0,ne=Wi(q);ki(q,ne);const se=q.closest("ion-item");se&&ki(se,Re?[...ne,"item-has-value"]:ne)})},Wi=pe=>{const q=pe.classList,Re=[];for(let ne=0;ne<q.length;ne++){const se=q.item(ne);null!==se&&Vi(se,"ng-")&&Re.push(`ion-${se.substring(3)}`)}return Re},ki=(pe,q)=>{const Re=pe.classList;Re.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Re.add(...q)},Vi=(pe,q)=>pe.substring(0,q.length)===q;class eo{shouldDetach(q){return!1}shouldAttach(q){return!1}store(q,Re){}retrieve(q){return null}shouldReuseRoute(q,Re){if(q.routeConfig!==Re.routeConfig)return!1;const ne=q.params,se=Re.params,xe=Object.keys(ne),Nt=Object.keys(se);if(xe.length!==Nt.length)return!1;for(const on of xe)if(se[on]!==ne[on])return!1;return!0}}class xr{constructor(q){(0,h.A)(this,"ctrl",void 0),this.ctrl=q}create(q){return this.ctrl.create(q||{})}dismiss(q,Re,ne){return this.ctrl.dismiss(q,Re,ne)}getTop(){return this.ctrl.getTop()}}},4742:(Rn,at,x)=>{"use strict";x.d(at,{GD:()=>Di,hG:()=>uo,U1:()=>en,mC:()=>bn,el:()=>Zr,Jm:()=>Oe,QW:()=>Ke,b_:()=>cn,I9:()=>qt,ME:()=>or,HW:()=>ir,tN:()=>Un,hU:()=>_r,W9:()=>cr,A9:()=>sr,lO:()=>Tr,eU:()=>On,iq:()=>Pi,KW:()=>Qn,$w:()=>Cn,uz:()=>Ct,LU:()=>Et,CE:()=>_n,A7:()=>oe,he:()=>Q,nf:()=>le,oS:()=>ln,MC:()=>Fn,cA:()=>nr,KO:()=>oi,f0:()=>Wi,Rg:()=>Fi,ln:()=>Re,Gp:()=>se,eP:()=>xe,Nm:()=>Nt,Ip:()=>on,w2:()=>he,Jq:()=>St,qW:()=>zt,p4:()=>bi,IO:()=>In,nc:()=>Bn,Zx:()=>Gn,BC:()=>fr,ai:()=>Ai,bv:()=>ci,Xi:()=>Qi,_t:()=>kr,W3:()=>Mo,su:()=>ie,N7:()=>Hr,Je:()=>de,Gw:()=>Be});var c=x(9842),h=x(4438),L=x(4341),ve=x(2872),X=x(1635),ee=x(3726),_e=x(177),Me=x(9384),We=(x(9986),x(3604),x(5022),x(3615),x(8607),x(9483)),ut=x(464),vt=x(9568),st=x(9440),xt=(x(8476),x(4261));x(1970),x(7192);var Qe=x(467);const rt=We.i,Ft=function(){var M=(0,Qe.A)(function*(Z,fe){if(!(typeof window>"u"))return yield rt(),(0,xt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),fe)});return function(fe,N){return M.apply(this,arguments)}}(),Se=["*"],gt=["outletContent"],Vt=["outlet"],nn=[[["","slot","top"]],"*",[["ion-tab"]]],Tn=["[slot=top]","*","ion-tab"];function gn(M,Z){if(1&M){const fe=h.RV6();h.j41(0,"ion-router-outlet",5,1),h.bIt("stackWillChange",function(T){h.eBV(fe);const V=h.XpG();return h.Njj(V.onStackWillChange(T))})("stackDidChange",function(T){h.eBV(fe);const V=h.XpG();return h.Njj(V.onStackDidChange(T))}),h.k0s()}}function qn(M,Z){1&M&&h.SdG(0,2,["*ngIf","tabs.length > 0"])}let ie=(()=>{var M;class Z extends ve.fL{constructor(N,T){super(N,T),(0,c.A)(this,"el",void 0),this.el=T}handleInputEvent(N){this.handleValueChange(N,N.value)}registerOnChange(N){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?T=>{N(""===T?null:parseFloat(T))}:N)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,c.A)(Z,"\u0275dir",h.FsC({type:M,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(N,T){1&N&&h.bIt("ionInput",function(Ve){return T.handleInputEvent(Ve.target)})},features:[h.Jv_([{provide:L.kq,useExisting:M,multi:!0}]),h.Vt3]})),Z})(),de=(()=>{var M;class Z extends ve.fL{constructor(N,T){super(N,T)}_handleChangeEvent(N){this.handleValueChange(N,N.value)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,c.A)(Z,"\u0275dir",h.FsC({type:M,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(N,T){1&N&&h.bIt("ionChange",function(Ve){return T._handleChangeEvent(Ve.target)})},features:[h.Jv_([{provide:L.kq,useExisting:M,multi:!0}]),h.Vt3]})),Z})(),Be=(()=>{var M;class Z extends ve.fL{constructor(N,T){super(N,T)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,c.A)(Z,"\u0275dir",h.FsC({type:M,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,T){1&N&&h.bIt("ionInput",function(Ve){return T._handleInputEvent(Ve.target)})},features:[h.Jv_([{provide:L.kq,useExisting:M,multi:!0}]),h.Vt3]})),Z})();const nt=(M,Z)=>{const fe=M.prototype;Z.forEach(N=>{Object.defineProperty(fe,N,{get(){return this.el[N]},set(T){this.z.runOutsideAngular(()=>this.el[N]=T)},configurable:!0})})},At=(M,Z)=>{const fe=M.prototype;Z.forEach(N=>{fe[N]=function(){const T=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,T))}})},Je=(M,Z,fe)=>{fe.forEach(N=>M[N]=(0,ee.R)(Z,N))};function Mt(M){return function(fe){const{defineCustomElementFn:N,inputs:T,methods:V}=M;return void 0!==N&&N(),T&&nt(fe,T),V&&At(fe,V),fe}}let en=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-app"]],ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({methods:["setFocus"]})],Z),Z})(),bn=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-avatar"]],ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({})],Z),Z})(),Oe=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Z),Z})(),Ke=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["collapse"]})],Z),Z})(),cn=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],Z),Z})(),qt=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["mode"]})],Z),Z})(),or=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","mode","translucent"]})],Z),Z})(),ir=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","mode"]})],Z),Z})(),Un=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","mode"]})],Z),Z})(),_r=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Z),Z})(),cr=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Z),Z})(),sr=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],Z),Z})(),Tr=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["fixed"]})],Z),Z})(),On=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["collapse","mode","translucent"]})],Z),Z})(),Pi=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Z),Z})(),Qn=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["alt","src"]})],Z),Z})(),Cn=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Z),Z})(),Ct=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Z),Z})(),Et=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],Z),Z})(),_n=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionSwipe"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["side"]})],Z),Z})(),oe=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionDrag"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],Z),Z})(),Q=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","mode","position"]})],Z),Z})(),le=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Z),Z})(),ln=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],Z),Z})(),Fn=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["autoHide","color","disabled","menu","mode","type"]})],Z),Z})(),nr=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["autoHide","menu"]})],Z),Z})(),oi=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],Z),Z})(),Wi=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionChange"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["allowEmptySelection","compareWith","name","value"]})],Z),Z})(),Re=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-row"]],ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({})],Z),Z})(),se=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionChange"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],Z),Z})(),xe=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["disabled","layout","mode","type","value"]})],Z),Z})(),Nt=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],Z),Z})(),on=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["disabled","value"]})],Z),Z})(),he=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","duration","name","paused"]})],Z),Z})(),pt=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["component","tab"],methods:["setActive"]})],Z),Z})(),St=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","mode","selectedTab","translucent"]})],Z),Z})(),zt=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],Z),Z})(),In=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","mode"]})],Z),Z})(),Bn=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,Je(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],Z),Z})(),Gn=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-thumbnail"]],ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({})],Z),Z})(),fr=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","size"]})],Z),Z})(),Ai=(()=>{var M;let Z=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Z=(0,X.Cg)([Mt({inputs:["color","mode"]})],Z),Z})(),Fi=(()=>{var M;class Z extends ve.Rg{constructor(N,T,V,Ve,Ye,bt,It,dn){super(N,T,V,Ve,Ye,bt,It,dn),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=dn}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)(h.kS0("name"),h.kS0("tabs"),h.rXU(_e.aZ),h.rXU(h.aKT),h.rXU(Me.Ix),h.rXU(h.SKi),h.rXU(Me.nX),h.rXU(M,12))}),(0,c.A)(Z,"\u0275cmp",h.VBU({type:M,selectors:[["ion-router-outlet"]],viewQuery:function(N,T){if(1&N&&h.GBs(gt,7,h.c1b),2&N){let V;h.mGM(V=h.lsd())&&(T.outletContent=V.first)}},features:[h.Vt3],ngContentSelectors:Se,decls:3,vars:0,consts:[["outletContent",""]],template:function(N,T){1&N&&(h.NAR(),h.qex(0,null,0),h.SdG(2),h.bVm())},encapsulation:2})),Z})(),bi=(()=>{var M;class Z extends ve.p4{constructor(...N){super(...N),(0,c.A)(this,"outlet",void 0),(0,c.A)(this,"tabBar",void 0),(0,c.A)(this,"tabBars",void 0),(0,c.A)(this,"tabs",void 0)}}return M=Z,(0,c.A)(Z,"\u0275fac",(()=>{let fe;return function(T){return(fe||(fe=h.xGo(M)))(T||M)}})()),(0,c.A)(Z,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tabs"]],contentQueries:function(N,T,V){if(1&N&&(h.wni(V,St,5),h.wni(V,St,4),h.wni(V,pt,4)),2&N){let Ve;h.mGM(Ve=h.lsd())&&(T.tabBar=Ve.first),h.mGM(Ve=h.lsd())&&(T.tabBars=Ve),h.mGM(Ve=h.lsd())&&(T.tabs=Ve)}},viewQuery:function(N,T){if(1&N&&h.GBs(Vt,5,Fi),2&N){let V;h.mGM(V=h.lsd())&&(T.outlet=V.first)}},features:[h.Vt3],ngContentSelectors:Tn,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(N,T){1&N&&(h.NAR(nn),h.SdG(0),h.j41(1,"div",2,0),h.DNE(3,gn,2,0,"ion-router-outlet",3)(4,qn,1,0,"ng-content",4),h.k0s(),h.SdG(5,1)),2&N&&(h.R7$(3),h.Y8G("ngIf",0===T.tabs.length),h.R7$(),h.Y8G("ngIf",T.tabs.length>0))},dependencies:[_e.bT,Fi],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),Z})(),Zr=(()=>{var M;class Z extends ve.el{constructor(N,T,V,Ve,Ye,bt){super(N,T,V,Ve,Ye,bt)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)(h.rXU(Fi,8),h.rXU(ve.q9),h.rXU(ve.TS),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(h.gRc))}),(0,c.A)(Z,"\u0275cmp",h.VBU({type:M,selectors:[["ion-back-button"]],features:[h.Vt3],ngContentSelectors:Se,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),Z})(),Hr=(()=>{var M;class Z extends ve.CE{}return M=Z,(0,c.A)(Z,"\u0275fac",(()=>{let fe;return function(T){return(fe||(fe=h.xGo(M)))(T||M)}})()),(0,c.A)(Z,"\u0275dir",h.FsC({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],features:[h.Vt3]})),Z})();const wi={provide:L.cz,useExisting:(0,h.Rfq)(()=>pr),multi:!0};let pr=(()=>{var M;class Z extends L.zX{}return M=Z,(0,c.A)(Z,"\u0275fac",(()=>{let fe;return function(T){return(fe||(fe=h.xGo(M)))(T||M)}})()),(0,c.A)(Z,"\u0275dir",h.FsC({type:M,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(N,T){2&N&&h.BMQ("max",T._enabled?T.max:null)},features:[h.Jv_([wi]),h.Vt3]})),Z})();const wr={provide:L.cz,useExisting:(0,h.Rfq)(()=>vo),multi:!0};let vo=(()=>{var M;class Z extends L.VZ{}return M=Z,(0,c.A)(Z,"\u0275fac",(()=>{let fe;return function(T){return(fe||(fe=h.xGo(M)))(T||M)}})()),(0,c.A)(Z,"\u0275dir",h.FsC({type:M,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,T){2&N&&h.BMQ("min",T._enabled?T.min:null)},features:[h.Jv_([wr]),h.Vt3]})),Z})(),uo=(()=>{var M;class Z extends ve.Kb{constructor(){super(st.a)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(Z,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),Z})(),Di=(()=>{var M;class Z extends ve.Kb{constructor(){super(st.b)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(Z,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),Z})(),Qi=(()=>{var M;class Z extends ve.Kb{constructor(){super(st.l)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(Z,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),Z})(),kr=(()=>{var M;class Z extends ve._t{constructor(){super(vt.m)}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(Z,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),Z})(),Mo=(()=>{var M;class Z extends ve.Kb{constructor(){super(st.m),(0,c.A)(this,"angularDelegate",(0,h.WQX)(ve.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(Z,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac})),Z})();class Ui extends ve.Kb{constructor(){super(st.c),(0,c.A)(this,"angularDelegate",(0,h.WQX)(ve.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(Z){return super.create({...Z,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const ui=(M,Z,fe)=>()=>{const N=Z.defaultView;if(N&&typeof window<"u"){(0,ut.s)({...M,_zoneGate:V=>fe.run(V)});const T="__zone_symbol__addEventListener"in Z.body?"__zone_symbol__addEventListener":"addEventListener";return function Ne(){var M=[];if(typeof window<"u"){var Z=window;(!Z.customElements||Z.Element&&(!Z.Element.prototype.closest||!Z.Element.prototype.matches||!Z.Element.prototype.remove||!Z.Element.prototype.getRootNode))&&M.push(x.e(7278).then(x.t.bind(x,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Z.NodeList&&!Z.NodeList.prototype.forEach||!Z.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&M.push(x.e(9329).then(x.t.bind(x,7783,23)))}return Promise.all(M)}().then(()=>Ft(N,{exclude:["ion-tabs"],syncQueue:!0,raf:ve.er,jmp:V=>fe.runOutsideAngular(V),ael(V,Ve,Ye,bt){V[T](Ve,Ye,bt)},rel(V,Ve,Ye,bt){V.removeEventListener(Ve,Ye,bt)}}))}};let ci=(()=>{var M;class Z{static forRoot(N={}){return{ngModule:Z,providers:[{provide:ve.sR,useValue:N},{provide:h.hnV,useFactory:ui,multi:!0,deps:[ve.sR,_e.qQ,h.SKi]},ve.Yq,(0,ve.YV)()]}}}return M=Z,(0,c.A)(Z,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(Z,"\u0275mod",h.$C({type:M})),(0,c.A)(Z,"\u0275inj",h.G2t({providers:[Mo,Ui],imports:[_e.MD]})),Z})()},7935:(Rn,at,x)=>{"use strict";x.d(at,{A:()=>c.A});var c=x(3345);c.A.registerVersion("firebase","10.14.1","app-compat")},2438:(Rn,at,x)=>{"use strict";var c=x(467),h=x(3345),L=x(5504),ve=x(1076),_e=(x(7852),x(8041),x(1362));function Me(){return window}function ye(){return ye=(0,c.A)(function*(oe,Q,le){var Xe;const{BuildInfo:tt}=Me();(0,L.au)(Q.sessionId,"AuthEvent did not contain a session ID");const ln=yield function lt(oe){return xt.apply(this,arguments)}(Q.sessionId),Fn={};return(0,L.av)()?Fn.ibi=tt.packageName:(0,L.aw)()?Fn.apn=tt.packageName:(0,L.ax)(oe,"operation-not-supported-in-this-environment"),tt.displayName&&(Fn.appDisplayName=tt.displayName),Fn.sessionId=ln,(0,L.ay)(oe,le,Q.type,void 0,null!==(Xe=Q.eventId)&&void 0!==Xe?Xe:void 0,Fn)}),ye.apply(this,arguments)}function qe(){return(qe=(0,c.A)(function*(oe){const{BuildInfo:Q}=Me(),le={};(0,L.av)()?le.iosBundleId=Q.packageName:(0,L.aw)()?le.androidPackageName=Q.packageName:(0,L.ax)(oe,"operation-not-supported-in-this-environment"),yield(0,L.az)(oe,le)})).apply(this,arguments)}function vt(){return(vt=(0,c.A)(function*(oe,Q,le){const{cordova:Xe}=Me();let tt=()=>{};try{yield new Promise((ln,Fn)=>{let nr=null;function Sr(){var Nn;ln();const Nr=null===(Nn=Xe.plugins.browsertab)||void 0===Nn?void 0:Nn.close;"function"==typeof Nr&&Nr(),"function"==typeof(null==le?void 0:le.close)&&le.close()}function yt(){nr||(nr=window.setTimeout(()=>{Fn((0,L.aB)(oe,"redirect-cancelled-by-user"))},2e3))}function Cr(){"visible"===(null==document?void 0:document.visibilityState)&&yt()}Q.addPassiveListener(Sr),document.addEventListener("resume",yt,!1),(0,L.aw)()&&document.addEventListener("visibilitychange",Cr,!1),tt=()=>{Q.removePassiveListener(Sr),document.removeEventListener("resume",yt,!1),document.removeEventListener("visibilitychange",Cr,!1),nr&&window.clearTimeout(nr)}})}finally{tt()}})).apply(this,arguments)}function xt(){return(xt=(0,c.A)(function*(oe){const Q=function Tt(oe){if((0,L.au)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(oe);const Q=new ArrayBuffer(oe.length),le=new Uint8Array(Q);for(let Xe=0;Xe<oe.length;Xe++)le[Xe]=oe.charCodeAt(Xe);return le}(oe),le=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(le)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Te extends L.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInitialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInitialized(),this.passiveListeners.forEach(le=>le(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,c.A)(function*(){yield Q.initPromise})()}}function rt(oe){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.A)(function*(oe){const Q=yield Vt()._get(nn(oe));return Q&&(yield Vt()._remove(nn(oe))),Q})).apply(this,arguments)}function gt(){const oe=[];for(let le=0;le<20;le++){const Xe=Math.floor(62*Math.random());oe.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Xe))}return oe.join("")}function Vt(){return(0,L.aE)(L.b)}function nn(oe){return(0,L.aF)("authEvent",oe.config.apiKey,oe.name)}function qn(oe){if(null==oe||!oe.includes("?"))return{};const[Q,...le]=oe.split("?");return(0,ve.I9)(le.join("?"))}const Ue=class Le{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(Q){var le=this;return(0,c.A)(function*(){const Xe=Q._key();let tt=le.eventManagers.get(Xe);return tt||(tt=new Te(Q),le.eventManagers.set(Xe,tt),le.attachCallbackListeners(Q,tt)),tt})()}_openPopup(Q){(0,L.ax)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,le,Xe,tt){var ln=this;return(0,c.A)(function*(){!function st(oe){var Q,le,Xe,tt,ln,Fn,nr,Sr,yt,Cr;const Nn=Me();(0,L.aC)("function"==typeof(null===(Q=null==Nn?void 0:Nn.universalLinks)||void 0===Q?void 0:Q.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aC)(typeof(null===(le=null==Nn?void 0:Nn.BuildInfo)||void 0===le?void 0:le.packageName)<"u",oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aC)("function"==typeof(null===(ln=null===(tt=null===(Xe=null==Nn?void 0:Nn.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===ln?void 0:ln.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(Sr=null===(nr=null===(Fn=null==Nn?void 0:Nn.cordova)||void 0===Fn?void 0:Fn.plugins)||void 0===nr?void 0:nr.browsertab)||void 0===Sr?void 0:Sr.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(Cr=null===(yt=null==Nn?void 0:Nn.cordova)||void 0===yt?void 0:yt.InAppBrowser)||void 0===Cr?void 0:Cr.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const Fn=yield ln._initialize(Q);yield Fn.initialized(),Fn.resetRedirect(),(0,L.aI)(),yield ln._originValidation(Q);const nr=function Ne(oe,Q,le=null){return{type:Q,eventId:le,urlResponse:null,sessionId:gt(),postBody:null,tenantId:oe.tenantId,error:(0,L.aB)(oe,"no-auth-event")}}(Q,Xe,tt);yield function Qe(oe,Q){return Vt()._set(nn(oe),Q)}(Q,nr);const Sr=yield function Pe(oe,Q,le){return ye.apply(this,arguments)}(Q,nr,le),yt=yield function We(oe){const{cordova:Q}=Me();return new Promise(le=>{Q.plugins.browsertab.isAvailable(Xe=>{let tt=null;Xe?Q.plugins.browsertab.openUrl(oe):tt=Q.InAppBrowser.open(oe,(0,L.aA)()?"_blank":"_system","location=yes"),le(tt)})})}(Sr);return function ut(oe,Q,le){return vt.apply(this,arguments)}(Q,Fn,yt)})()}_isIframeWebStorageSupported(Q,le){throw new Error("Method not implemented.")}_originValidation(Q){const le=Q._key();return this.originValidationPromises[le]||(this.originValidationPromises[le]=function ze(oe){return qe.apply(this,arguments)}(Q)),this.originValidationPromises[le]}attachCallbackListeners(Q,le){const{universalLinks:Xe,handleOpenURL:tt,BuildInfo:ln}=Me(),Fn=setTimeout((0,c.A)(function*(){yield rt(Q),le.onEvent(ie())}),500),nr=function(){var Cr=(0,c.A)(function*(Nn){clearTimeout(Fn);const Nr=yield rt(Q);let Jr=null;Nr&&null!=Nn&&Nn.url&&(Jr=function Se(oe,Q){var le,Xe;const tt=function gn(oe){const Q=qn(oe),le=Q.link?decodeURIComponent(Q.link):void 0,Xe=qn(le).link,tt=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return qn(tt).link||tt||Xe||le||oe}(Q);if(tt.includes("/__/auth/callback")){const ln=qn(tt),Fn=ln.firebaseError?function Tn(oe){try{return JSON.parse(oe)}catch{return null}}(decodeURIComponent(ln.firebaseError)):null,nr=null===(Xe=null===(le=null==Fn?void 0:Fn.code)||void 0===le?void 0:le.split("auth/"))||void 0===Xe?void 0:Xe[1],Sr=nr?(0,L.aB)(nr):null;return Sr?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:Sr,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:tt,postBody:null}}return null}(Nr,Nn.url)),le.onEvent(Jr||ie())});return function(Nr){return Cr.apply(this,arguments)}}();typeof Xe<"u"&&"function"==typeof Xe.subscribe&&Xe.subscribe(null,nr);const Sr=tt,yt=`${ln.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var Cr=(0,c.A)(function*(Nn){if(Nn.toLowerCase().startsWith(yt)&&nr({url:Nn}),"function"==typeof Sr)try{Sr(Nn)}catch(Nr){console.error(Nr)}});return function(Nn){return Cr.apply(this,arguments)}}()}};function ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aB)("no-auth-event")}}function Je(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function Mt(oe=(0,ve.ZQ)()){return!("file:"!==Je()&&"ionic:"!==Je()&&"capacitor:"!==Je()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function en(){try{const oe=self.localStorage,Q=L.aN();if(oe)return oe.setItem(Q,"1"),oe.removeItem(Q),!function Mn(oe=(0,ve.ZQ)()){return function wn(){return(0,ve.lT)()&&11===(null==document?void 0:document.documentMode)}()||function kt(oe=(0,ve.ZQ)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ve.zW)()}catch{return bn()&&(0,ve.zW)()}return!1}function bn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qt(){return(function Lt(){return"http:"===Je()||"https:"===Je()}()||(0,ve.sr)()||Mt())&&!function Xt(){return(0,ve.lV)()||(0,ve.Ll)()}()&&en()&&!bn()}function Dt(){return Mt()&&typeof document<"u"}function it(){return(it=(0,c.A)(function*(){return!!Dt()&&new Promise(oe=>{const Q=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),oe(!0)})})})).apply(this,arguments)}const Ke={LOCAL:"local",NONE:"none",SESSION:"session"},cn=L.aC,qt="persistence";function ir(oe){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.A)(function*(oe){yield oe._initializationPromise;const Q=Er(),le=L.aF(qt,oe.config.apiKey,oe.name);Q&&Q.setItem(le,oe._getPersistence())})).apply(this,arguments)}function Er(){var oe;try{return(null===(oe=function Oe(){return typeof window<"u"?window:null}())||void 0===oe?void 0:oe.sessionStorage)||null}catch{return null}}const _r=L.aC;class cr{constructor(){this.browserResolver=L.aE(L.k),this.cordovaResolver=L.aE(Ue),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(Q){var le=this;return(0,c.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,le,Xe,tt){var ln=this;return(0,c.A)(function*(){return yield ln.selectUnderlyingResolver(),ln.assertedUnderlyingResolver._openPopup(Q,le,Xe,tt)})()}_openRedirect(Q,le,Xe,tt){var ln=this;return(0,c.A)(function*(){return yield ln.selectUnderlyingResolver(),ln.assertedUnderlyingResolver._openRedirect(Q,le,Xe,tt)})()}_isIframeWebStorageSupported(Q,le){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,le)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return Dt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _r(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,c.A)(function*(){if(Q.underlyingResolver)return;const le=yield function vn(){return it.apply(this,arguments)}();Q.underlyingResolver=le?Q.cordovaResolver:Q.browserResolver})()}}function sr(oe){return oe.unwrap()}function hi(oe){return Mr(oe)}function Mr(oe){const{_tokenResponse:Q}=oe instanceof ve.g?oe.customData:oe;if(!Q)return null;if(!(oe instanceof ve.g)&&"temporaryProof"in Q&&"phoneNumber"in Q)return L.P.credentialFromResult(oe);const le=Q.providerId;if(!le||le===L.p.PASSWORD)return null;let Xe;switch(le){case L.p.GOOGLE:Xe=L.X;break;case L.p.FACEBOOK:Xe=L.W;break;case L.p.GITHUB:Xe=L.Y;break;case L.p.TWITTER:Xe=L.$;break;default:const{oauthIdToken:tt,oauthAccessToken:ln,oauthTokenSecret:Fn,pendingToken:nr,nonce:Sr}=Q;return ln||Fn||tt||nr?nr?le.startsWith("saml.")?L.aQ._create(le,nr):L.N._fromParams({providerId:le,signInMethod:le,pendingToken:nr,idToken:tt,accessToken:ln}):new L.Z(le).credential({idToken:tt,accessToken:ln,rawNonce:Sr}):null}return oe instanceof ve.g?Xe.credentialFromError(oe):Xe.credentialFromResult(oe)}function Jn(oe,Q){return Q.catch(le=>{throw le instanceof ve.g&&function jn(oe,Q){var le;const Xe=null===(le=Q.customData)||void 0===le?void 0:le._tokenResponse;if("auth/multi-factor-auth-required"===(null==Q?void 0:Q.code))Q.resolver=new Pi(oe,L.as(oe,Q));else if(Xe){const tt=Mr(Q),ln=Q;tt&&(ln.credential=tt,ln.tenantId=Xe.tenantId||void 0,ln.email=Xe.email||void 0,ln.phoneNumber=Xe.phoneNumber||void 0)}}(oe,le),le}).then(le=>{const tt=le.user;return{operationType:le.operationType,credential:hi(le),additionalUserInfo:L.aq(le),user:Qn.getOrCreate(tt)}})}function Tr(oe,Q){return On.apply(this,arguments)}function On(){return(On=(0,c.A)(function*(oe,Q){const le=yield Q;return{verificationId:le.verificationId,confirm:Xe=>Jn(oe,le.confirm(Xe))}})).apply(this,arguments)}class Pi{constructor(Q,le){this.resolver=le,this.auth=function Kr(oe){return oe.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return Jn(sr(this.auth),this.resolver.resolveSignIn(Q))}}class Qn{constructor(Q){this._delegate=Q,this.multiFactor=L.at(Q)}static getOrCreate(Q){return Qn.USER_MAP.has(Q)||Qn.USER_MAP.set(Q,new Qn(Q)),Qn.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var le=this;return(0,c.A)(function*(){return Jn(le.auth,L.a2(le._delegate,Q))})()}linkWithPhoneNumber(Q,le){var Xe=this;return(0,c.A)(function*(){return Tr(Xe.auth,L.l(Xe._delegate,Q,le))})()}linkWithPopup(Q){var le=this;return(0,c.A)(function*(){return Jn(le.auth,L.d(le._delegate,Q,cr))})()}linkWithRedirect(Q){var le=this;return(0,c.A)(function*(){return yield ir(L.aJ(le.auth)),L.g(le._delegate,Q,cr)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var le=this;return(0,c.A)(function*(){return Jn(le.auth,L.a3(le._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,le){return Tr(this.auth,L.r(this._delegate,Q,le))}reauthenticateWithPopup(Q){return Jn(this.auth,L.e(this._delegate,Q,cr))}reauthenticateWithRedirect(Q){var le=this;return(0,c.A)(function*(){return yield ir(L.aJ(le.auth)),L.h(le._delegate,Q,cr)})()}sendEmailVerification(Q){return L.ag(this._delegate,Q)}unlink(Q){var le=this;return(0,c.A)(function*(){return yield L.ap(le._delegate,Q),le})()}updateEmail(Q){return L.al(this._delegate,Q)}updatePassword(Q){return L.am(this._delegate,Q)}updatePhoneNumber(Q){return L.u(this._delegate,Q)}updateProfile(Q){return L.ak(this._delegate,Q)}verifyBeforeUpdateEmail(Q,le){return L.ah(this._delegate,Q,le)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const lr=L.aC;let Ar=(()=>{class oe{constructor(le,Xe){if(this.app=le,Xe.isInitialized())return this._delegate=Xe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=le.options;lr(tt,"invalid-api-key",{appName:le.name}),lr(tt,"invalid-api-key",{appName:le.name});const ln=typeof window<"u"?cr:void 0;this._delegate=Xe.initialize({options:{persistence:Gt(tt,le.name),popupRedirectResolver:ln}}),this._delegate._updateErrorMap(L.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(le){this._delegate.languageCode=le}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(le){this._delegate.tenantId=le}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(le,Xe){L.K(this._delegate,le,Xe)}applyActionCode(le){return L.a7(this._delegate,le)}checkActionCode(le){return L.a8(this._delegate,le)}confirmPasswordReset(le,Xe){return L.a6(this._delegate,le,Xe)}createUserWithEmailAndPassword(le,Xe){var tt=this;return(0,c.A)(function*(){return Jn(tt._delegate,L.aa(tt._delegate,le,Xe))})()}fetchProvidersForEmail(le){return this.fetchSignInMethodsForEmail(le)}fetchSignInMethodsForEmail(le){return L.af(this._delegate,le)}isSignInWithEmailLink(le){return L.ad(this._delegate,le)}getRedirectResult(){var le=this;return(0,c.A)(function*(){lr(Qt(),le._delegate,"operation-not-supported-in-this-environment");const Xe=yield L.j(le._delegate,cr);return Xe?Jn(le._delegate,Promise.resolve(Xe)):{credential:null,user:null}})()}addFrameworkForLogging(le){!function de(oe,Q){(0,L.aJ)(oe)._logFramework(Q)}(this._delegate,le)}onAuthStateChanged(le,Xe,tt){const{next:ln,error:Fn,complete:nr}=Cn(le,Xe,tt);return this._delegate.onAuthStateChanged(ln,Fn,nr)}onIdTokenChanged(le,Xe,tt){const{next:ln,error:Fn,complete:nr}=Cn(le,Xe,tt);return this._delegate.onIdTokenChanged(ln,Fn,nr)}sendSignInLinkToEmail(le,Xe){return L.ac(this._delegate,le,Xe)}sendPasswordResetEmail(le,Xe){return L.a5(this._delegate,le,Xe||void 0)}setPersistence(le){var Xe=this;return(0,c.A)(function*(){let tt;switch(function or(oe,Q){cn(Object.values(Ke).includes(Q),oe,"invalid-persistence-type"),(0,ve.lV)()?cn(Q!==Ke.SESSION,oe,"unsupported-persistence-type"):(0,ve.Ll)()?cn(Q===Ke.NONE,oe,"unsupported-persistence-type"):bn()?cn(Q===Ke.NONE||Q===Ke.LOCAL&&(0,ve.zW)(),oe,"unsupported-persistence-type"):cn(Q===Ke.NONE||en(),oe,"unsupported-persistence-type")}(Xe._delegate,le),le){case Ke.SESSION:tt=L.a;break;case Ke.LOCAL:tt=(yield L.aE(L.i)._isAvailable())?L.i:L.b;break;case Ke.NONE:tt=L.U;break;default:return L.ax("argument-error",{appName:Xe._delegate.name})}return Xe._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(le){return this.signInWithCredential(le)}signInAnonymously(){return Jn(this._delegate,L.a0(this._delegate))}signInWithCredential(le){return Jn(this._delegate,L.a1(this._delegate,le))}signInWithCustomToken(le){return Jn(this._delegate,L.a4(this._delegate,le))}signInWithEmailAndPassword(le,Xe){return Jn(this._delegate,L.ab(this._delegate,le,Xe))}signInWithEmailLink(le,Xe){return Jn(this._delegate,L.ae(this._delegate,le,Xe))}signInWithPhoneNumber(le,Xe){return Tr(this._delegate,L.s(this._delegate,le,Xe))}signInWithPopup(le){var Xe=this;return(0,c.A)(function*(){return lr(Qt(),Xe._delegate,"operation-not-supported-in-this-environment"),Jn(Xe._delegate,L.c(Xe._delegate,le,cr))})()}signInWithRedirect(le){var Xe=this;return(0,c.A)(function*(){return lr(Qt(),Xe._delegate,"operation-not-supported-in-this-environment"),yield ir(Xe._delegate),L.f(Xe._delegate,le,cr)})()}updateCurrentUser(le){return this._delegate.updateCurrentUser(le)}verifyPasswordResetCode(le){return L.a9(this._delegate,le)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=Ke,oe})();function Cn(oe,Q,le){let Xe=oe;"function"!=typeof oe&&({next:Xe,error:Q,complete:le}=oe);const tt=Xe;return{next:Fn=>tt(Fn&&Qn.getOrCreate(Fn)),error:Q,complete:le}}function Gt(oe,Q){const le=function zn(oe,Q){const le=Er();if(!le)return[];const Xe=L.aF(qt,oe,Q);switch(le.getItem(Xe)){case Ke.NONE:return[L.U];case Ke.LOCAL:return[L.i,L.a];case Ke.SESSION:return[L.a];default:return[]}}(oe,Q);if(typeof self<"u"&&!le.includes(L.i)&&le.push(L.i),typeof window<"u")for(const Xe of[L.b,L.a])le.includes(Xe)||le.push(Xe);return le.includes(L.U)||le.push(L.U),le}class Ct{constructor(){this.providerId="phone",this._delegate=new L.P(sr(h.A.auth()))}static credential(Q,le){return L.P.credential(Q,le)}verifyPhoneNumber(Q,le){return this._delegate.verifyPhoneNumber(Q,le)}unwrap(){return this._delegate}}Ct.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Ct.PROVIDER_ID=L.P.PROVIDER_ID;const Yt=L.aC;class _t{constructor(Q,le,Xe=h.A.app()){var tt;Yt(null===(tt=Xe.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:Xe.name}),this._delegate=new L.R(Xe.auth(),Q,le),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _n(oe){oe.INTERNAL.registerComponent(new _e.uA("auth-compat",Q=>{const le=Q.getProvider("app-compat").getImmediate(),Xe=Q.getProvider("auth");return new Ar(le,Xe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.V,FacebookAuthProvider:L.W,GithubAuthProvider:L.Y,GoogleAuthProvider:L.X,OAuthProvider:L.Z,SAMLAuthProvider:L._,PhoneAuthProvider:Ct,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:_t,TwitterAuthProvider:L.$,Auth:Ar,AuthCredential:L.L,Error:ve.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.5.14")}(h.A)},467:(Rn,at,x)=>{"use strict";function c(L,ve,X,ee,_e,Me,Ge){try{var Pe=L[Me](Ge),ye=Pe.value}catch(ze){return void X(ze)}Pe.done?ve(ye):Promise.resolve(ye).then(ee,_e)}function h(L){return function(){var ve=this,X=arguments;return new Promise(function(ee,_e){var Me=L.apply(ve,X);function Ge(ye){c(Me,ee,_e,Ge,Pe,"next",ye)}function Pe(ye){c(Me,ee,_e,Ge,Pe,"throw",ye)}Ge(void 0)})}}x.d(at,{A:()=>h})},9842:(Rn,at,x)=>{"use strict";function c(X){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(X)}function ve(X,ee,_e){return(ee=function L(X){var ee=function h(X,ee){if("object"!=c(X)||!X)return X;var _e=X[Symbol.toPrimitive];if(void 0!==_e){var Me=_e.call(X,ee||"default");if("object"!=c(Me))return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(X)}(X,"string");return"symbol"==c(ee)?ee:ee+""}(ee))in X?Object.defineProperty(X,ee,{value:_e,enumerable:!0,configurable:!0,writable:!0}):X[ee]=_e,X}x.d(at,{A:()=>ve})},1635:(Rn,at,x)=>{"use strict";function ve(ie,de){var Be={};for(var nt in ie)Object.prototype.hasOwnProperty.call(ie,nt)&&de.indexOf(nt)<0&&(Be[nt]=ie[nt]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var At=0;for(nt=Object.getOwnPropertySymbols(ie);At<nt.length;At++)de.indexOf(nt[At])<0&&Object.prototype.propertyIsEnumerable.call(ie,nt[At])&&(Be[nt[At]]=ie[nt[At]])}return Be}function X(ie,de,Be,nt){var Lt,At=arguments.length,Je=At<3?de:null===nt?nt=Object.getOwnPropertyDescriptor(de,Be):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(ie,de,Be,nt);else for(var Mt=ie.length-1;Mt>=0;Mt--)(Lt=ie[Mt])&&(Je=(At<3?Lt(Je):At>3?Lt(de,Be,Je):Lt(de,Be))||Je);return At>3&&Je&&Object.defineProperty(de,Be,Je),Je}function ze(ie,de,Be,nt){return new(Be||(Be=Promise))(function(Je,Lt){function Mt(kt){try{wn(nt.next(kt))}catch(Mn){Lt(Mn)}}function Xt(kt){try{wn(nt.throw(kt))}catch(Mn){Lt(Mn)}}function wn(kt){kt.done?Je(kt.value):function At(Je){return Je instanceof Be?Je:new Be(function(Lt){Lt(Je)})}(kt.value).then(Mt,Xt)}wn((nt=nt.apply(ie,de||[])).next())})}function Ie(ie){return this instanceof Ie?(this.v=ie,this):new Ie(ie)}function Te(ie,de,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,nt=Be.apply(ie,de||[]),Je=[];return At=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Mt("next"),Mt("throw"),Mt("return",function Lt(bn){return function(Qt){return Promise.resolve(Qt).then(bn,Mn)}}),At[Symbol.asyncIterator]=function(){return this},At;function Mt(bn,Qt){nt[bn]&&(At[bn]=function(Dt){return new Promise(function(vn,it){Je.push([bn,Dt,vn,it])>1||Xt(bn,Dt)})},Qt&&(At[bn]=Qt(At[bn])))}function Xt(bn,Qt){try{!function wn(bn){bn.value instanceof Ie?Promise.resolve(bn.value.v).then(kt,Mn):en(Je[0][2],bn)}(nt[bn](Qt))}catch(Dt){en(Je[0][3],Dt)}}function kt(bn){Xt("next",bn)}function Mn(bn){Xt("throw",bn)}function en(bn,Qt){bn(Qt),Je.shift(),Je.length&&Xt(Je[0][0],Je[0][1])}}function Qe(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,de=ie[Symbol.asyncIterator];return de?de.call(ie):(ie=function vt(ie){var de="function"==typeof Symbol&&Symbol.iterator,Be=de&&ie[de],nt=0;if(Be)return Be.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&nt>=ie.length&&(ie=void 0),{value:ie&&ie[nt++],done:!ie}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),Be={},nt("next"),nt("throw"),nt("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function nt(Je){Be[Je]=ie[Je]&&function(Lt){return new Promise(function(Mt,Xt){!function At(Je,Lt,Mt,Xt){Promise.resolve(Xt).then(function(wn){Je({value:wn,done:Mt})},Lt)}(Mt,Xt,(Lt=ie[Je](Lt)).done,Lt.value)})}}}x.d(at,{AQ:()=>Te,Cg:()=>X,N3:()=>Ie,Tt:()=>ve,sH:()=>ze,xN:()=>Qe}),"function"==typeof SuppressedError&&SuppressedError}},Rn=>{Rn(Rn.s=8952)}]);