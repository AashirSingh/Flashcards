"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8723],{8723:(E,d,l)=>{l.r(d),l.d(d,{DiscoverPageModule:()=>j});var c=l(177),u=l(4341),g=l(5171),s=l(4742),h=l(6697),e=l(3953),p=l(8591),m=l(5709);const v=i=>["/","places","tabs","discover",i];function P(i,a){1&i&&(e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",6),e.nrm(3,"ion-spinner",7),e.k0s()()())}function f(i,a){1&i&&(e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",6)(3,"p"),e.EFF(4,"There are no bookable places right now, please come back later!"),e.k0s()()()())}function b(i,a){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-card-subtitle"),e.EFF(5),e.nI1(6,"currency"),e.k0s()(),e.nrm(7,"ion-img",10),e.j41(8,"ion-card-content")(9,"p"),e.EFF(10),e.k0s()(),e.j41(11,"div")(12,"ion-button",11),e.EFF(13," More "),e.k0s()()()),2&i){const n=e.XpG(2);e.R7$(3),e.JRh(n.relevantPlaces[0].title),e.R7$(2),e.SpI("",e.bMT(6,5,n.relevantPlaces[0].price)," / Night"),e.R7$(2),e.Y8G("src",n.relevantPlaces[0].imageUrl),e.R7$(3),e.JRh(n.relevantPlaces[0].description),e.R7$(2),e.Y8G("routerLink",e.eq3(7,v,n.relevantPlaces[0].id))}}function F(i,a){if(1&i&&(e.j41(0,"ion-item",12)(1,"ion-thumbnail",0),e.nrm(2,"ion-img",10),e.k0s(),e.j41(3,"ion-label")(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7),e.k0s()()()),2&i){const n=a.$implicit;e.Y8G("routerLink",e.eq3(4,v,n.id)),e.R7$(2),e.Y8G("src",n.imageUrl),e.R7$(3),e.JRh(n.title),e.R7$(2),e.JRh(n.description)}}function D(i,a){if(1&i&&(e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",6),e.DNE(3,b,14,9,"ion-card",5),e.k0s()(),e.j41(4,"ion-row")(5,"ion-col",6)(6,"ion-virtual-scroll",8),e.DNE(7,F,8,6,"ion-item",9),e.k0s()()()()),2&i){const n=e.XpG();e.R7$(3),e.Y8G("ngIf",n.relevantPlaces.length>0),e.R7$(3),e.Y8G("items",n.listedLoadedPlaces)}}const k=[{path:"",component:(()=>{var i;class a{constructor(t,o,r){this.placesService=t,this.menuCtrl=o,this.authService=r,this.isLoading=!1}ngOnInit(){this.placesSub=this.placesService.places.subscribe(t=>{this.loadedPlaces=t,this.relevantPlaces=this.loadedPlaces,this.listedLoadedPlaces=this.relevantPlaces.slice(1)})}ionViewWillEnter(){this.isLoading=!0,this.placesService.fetchPlaces().subscribe(()=>{this.isLoading=!1})}onOpenMenu(){this.menuCtrl.toggle()}onFilterUpdate(t){this.authService.userId.pipe((0,h.s)(1)).subscribe(o=>{"all"===t.detail.value?(this.relevantPlaces=this.loadedPlaces,this.listedLoadedPlaces=this.relevantPlaces.slice(1)):this.relevantPlaces=this.loadedPlaces.filter(r=>r.userId!==o),this.listedLoadedPlaces=this.relevantPlaces.slice(1)})}ngOnDestroy(){this.placesSub&&this.placesSub.unsubscribe()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(p._),e.rXU(s._t),e.rXU(m.u))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-discover"]],decls:15,vars:3,consts:[["slot","start"],[1,"ion-padding"],["value","all",3,"ionChange"],["value","all"],["value","bookable"],[4,"ngIf"],["size","12","size-sm","8","offset-sm","2",1,"ion-text-center"],["color","primary"],["approxItemHeight","70px",3,"items"],["detail","",3,"routerLink",4,"virtualItem"],[3,"src"],["fill","clear","color","primary",3,"routerLink"],["detail","",3,"routerLink"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Discover Places"),e.k0s()()(),e.j41(6,"ion-content",1)(7,"ion-segment",2),e.bIt("ionChange",function(R){return o.onFilterUpdate(R)}),e.j41(8,"ion-segment-button",3),e.EFF(9,"All Places"),e.k0s(),e.j41(10,"ion-segment-button",4),e.EFF(11,"Bookable Places"),e.k0s()(),e.DNE(12,P,4,0,"ion-grid",5)(13,f,5,0,"ion-grid",5)(14,D,8,2,"ion-grid",5),e.k0s()),2&t&&(e.R7$(12),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",!(o.isLoading||o.relevantPlaces&&0!==o.relevantPlaces.length)),e.R7$(),e.Y8G("ngIf",!o.isLoading&&o.relevantPlaces&&o.relevantPlaces.length>0))},dependencies:[c.bT,s.Jm,s.QW,s.b_,s.I9,s.ME,s.HW,s.tN,s.hU,s.W9,s.lO,s.eU,s.KW,s.uz,s.he,s.MC,s.ln,s.Gp,s.eP,s.w2,s.Zx,s.BC,s.ai,s.Je,s.N7,g.Wk,c.oe]}),a})()}];let j=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[c.MD,u.YN,s.bv,g.iI.forChild(k)]}),a})()}}]);