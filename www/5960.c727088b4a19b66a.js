"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5960],{5960:(R,C,l)=>{l.r(C),l.d(C,{AccountPageModule:()=>B});var k=l(177),p=l(4341),i=l(4742),v=l(5171),e=l(3953);let w=(()=>{var n;class s{constructor(){this.imageUrl="",this.name="",this.email="",this.phone=""}ngOnInit(){}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-profile-picture"]],inputs:{imageUrl:"imageUrl",name:"name",email:"email",phone:"phone"},decls:11,vars:0,consts:[[2,"max-width","700px","margin","auto"],[2,"display","flex","align-items","center","padding","40px"],[2,"margin-right","40px","width","120px","height","120px"],["src","https://cdn-icons-png.freepik.com/512/5997/5997002.png","alt","Profile Picture",2,"width","100%","height","100%","border-radius","50%"],[2,"display","flex","flex-direction","column","justify-content","center"]],template:function(t,o){1&t&&(e.j41(0,"ion-card",0)(1,"ion-card-content",1)(2,"ion-avatar",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4)(5,"ion-card-title"),e.EFF(6,"John Doe"),e.k0s(),e.j41(7,"ion-card-subtitle"),e.EFF(8,"Email: john.doe@example.com"),e.k0s(),e.j41(9,"ion-card-subtitle"),e.EFF(10,"Phone: (123) 456-7890"),e.k0s()()()())},dependencies:[i.mC,i.b_,i.I9,i.HW,i.tN]}),s})(),P=(()=>{var n;class s{constructor(){}ngOnInit(){}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-profile-list"]],decls:17,vars:0,consts:[[2,"width","100%"],[1,"ion-text-center"]],template:function(t,o){1&t&&(e.nrm(0,"ion-list",0),e.j41(1,"ion-list")(2,"ion-item")(3,"ion-label",1),e.EFF(4,"My Work: Developer"),e.k0s()(),e.j41(5,"ion-item")(6,"ion-label",1),e.EFF(7,"Fun Fact: I know how to ride a motorcycle"),e.k0s()(),e.j41(8,"ion-item")(9,"ion-label",1),e.EFF(10,"Speaks English"),e.k0s()(),e.j41(11,"ion-item")(12,"ion-label",1),e.EFF(13,"I'm obsessed with: My dog"),e.k0s()(),e.j41(14,"ion-item")(15,"ion-label",1),e.EFF(16,"Born in 2000"),e.k0s()()())},dependencies:[i.uz,i.he,i.nf]}),s})();var F=l(467),y=l(4412),b=l(6697),g=l(5558),h=l(8141),E=l(6354);class N{constructor(s,a,t,o,c,r=[]){this.id=s,this.userId=a,this.name=t,this.email=o,this.phone=c,this.items=r}}var j=l(4662),I=l(1626);let M=(()=>{var n;class s{get accounts$(){return this._accounts.asObservable()}constructor(t,o){this.authService=t,this.http=o,this._accounts=new y.t([])}updateName(t,o){return this._accounts.pipe((0,b.s)(1),(0,g.n)(c=>{const r=c.findIndex(m=>m.id===t),d=[...c],u=d[r];return d[r]=new N(u.id,u.userId,o,u.email,u.phone,u.items),this.http.put("http://bookings-2bd51-default-rtdb.firebaseio.com//accounts/${accountId}.json",{...d[r],id:null}).pipe((0,h.M)(()=>{this._accounts.next(d)}))}))}addName(t,o,c,r,d){const m=new N(Math.random().toString(),t,o,c,r,d);return this.http.post("https://bookings-2bd51-default-rtdb.firebaseio.com/accounts.json",{...m,id:null}).pipe((0,g.n)(f=>(m.id=f.name,this.accounts$.pipe((0,b.s)(1)))),(0,h.M)(f=>{this._accounts.next(f.concat(m))}))}deleteName(t){return this.http.delete(`https://bookings-2bd51-default-rtdb.firebaseio.com/accounts/${t}.json`).pipe((0,g.n)(()=>this._accounts.pipe((0,b.s)(1))),(0,h.M)(o=>{this._accounts.next(o.filter(c=>c.id!==t))}))}addPhone(t,o,c,r,d){const u=new N(Math.random().toString(),t,o,c,r,d);return this.http.post("https://bookings-2bd51-default-rtdb.firebaseio.com/accounts.json",{...u,id:null}).pipe((0,g.n)(m=>(u.id=m.name,this.accounts$.pipe((0,b.s)(1)))),(0,h.M)(m=>{this._accounts.next(m.concat(u))}))}fetchAccounts(){return this.http.get(`https://bookings-2bd51-default-rtdb.firebaseio.com/accounts.json?orderBy="userId"&equalTo="${this.authService.userId}"`).pipe((0,E.T)(o=>{const c=[];for(const r in o)o.hasOwnProperty(r)&&c.push(new N(r,o[r].userId,o[r].name,o[r].email,o[r].phone,o[r].items));return c}),(0,h.M)(o=>{this._accounts.next(o)}))}}return(n=s).\u0275fac=function(t){return new(t||n)(e.KVO(j.u),e.KVO(I.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),A=(()=>{var n;class s{constructor(t,o){this.modalCtrl=t,this.accountService=o}openNameModal(){var t=this;return(0,F.A)(function*(){const o=yield t.modalCtrl.create({component:x,componentProps:{existingName:""}});yield o.present();const{data:c}=yield o.onWillDismiss();c&&c.newName&&(console.log("New Name:",c.newName),t.accountService.addName("user-id",c.newName,"user-email","user-phone",[]).subscribe(()=>{console.log("Name updated successfully")}))})()}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(i.W3),e.rXU(M))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-name"]],decls:5,vars:1,consts:[[3,"translucent"],[3,"click"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",0),e.nrm(1,"ion-toolbar"),e.k0s(),e.j41(2,"ion-item")(3,"ion-button",1),e.bIt("click",function(){return o.openNameModal()}),e.EFF(4,"Change Name"),e.k0s()()),2&t&&e.Y8G("translucent",!0)},dependencies:[i.Jm,i.eU,i.uz,i.ai]}),s})(),x=(()=>{var n;class s{constructor(t){this.modalCtrl=t}dismiss(){this.modalCtrl.dismiss()}submit(){this.modalCtrl.dismiss({newName:this.newName})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(i.W3))},n.\u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],decls:14,vars:1,consts:[["slot","end"],[3,"click"],["position","stacked"],[3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Enter New Name"),e.k0s(),e.j41(4,"ion-buttons",0)(5,"ion-button",1),e.bIt("click",function(){return o.dismiss()}),e.EFF(6,"Close"),e.k0s()()()(),e.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",2),e.EFF(10,"New Name"),e.k0s(),e.j41(11,"ion-input",3),e.mxI("ngModelChange",function(r){return e.DH7(o.newName,r)||(o.newName=r),r}),e.k0s()(),e.j41(12,"ion-button",4),e.bIt("click",function(){return o.submit()}),e.EFF(13,"Submit"),e.k0s()()),2&t&&(e.R7$(11),e.R50("ngModel",o.newName))},dependencies:[p.BC,p.vS,i.Jm,i.QW,i.W9,i.eU,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw],encapsulation:2}),s})(),U=(()=>{var n;class s{constructor(t,o){this.modalCtrl=t,this.accountService=o}ngOnInit(){this.accountId="some-account-id",this.userId="some-user-id",this.name="some-name",this.email="some-email",this.items=[]}openNumberModal(){var t=this;return(0,F.A)(function*(){const o=yield t.modalCtrl.create({component:_,componentProps:{existingNumber:""}});yield o.present();const{data:c}=yield o.onWillDismiss();c&&c.newNumber&&(console.log("New Number:",c.newNumber),t.accountService.addPhone(t.userId,t.name,t.email,c.newNumber,t.items).subscribe(()=>{}))})()}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(i.W3),e.rXU(M))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-number"]],decls:3,vars:0,consts:[[3,"click"],["slot","start","name","create-outline"]],template:function(t,o){1&t&&(e.j41(0,"ion-button",0),e.bIt("click",function(){return o.openNumberModal()}),e.nrm(1,"ion-icon",1),e.EFF(2," Edit Phone Number\n"),e.k0s())},dependencies:[i.Jm,i.iq]}),s})(),_=(()=>{var n;class s{constructor(t){this.modalCtrl=t}dismiss(){this.modalCtrl.dismiss()}submit(){this.modalCtrl.dismiss({newNumber:this.newNumber})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(i.W3))},n.\u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],decls:14,vars:1,consts:[["slot","end"],[3,"click"],["position","stacked"],["type","tel",3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Enter New Number"),e.k0s(),e.j41(4,"ion-buttons",0)(5,"ion-button",1),e.bIt("click",function(){return o.dismiss()}),e.EFF(6,"Close"),e.k0s()()()(),e.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",2),e.EFF(10,"New Number"),e.k0s(),e.j41(11,"ion-input",3),e.mxI("ngModelChange",function(r){return e.DH7(o.newNumber,r)||(o.newNumber=r),r}),e.k0s()(),e.j41(12,"ion-button",4),e.bIt("click",function(){return o.submit()}),e.EFF(13,"Submit"),e.k0s()()),2&t&&(e.R7$(11),e.R50("ngModel",o.newNumber))},dependencies:[p.BC,p.vS,i.Jm,i.QW,i.W9,i.eU,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw],encapsulation:2}),s})();const S=[{path:"",component:(()=>{var n;class s{constructor(){}ngOnInit(){}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-account"]],decls:16,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"max-width","750px","margin","0 auto","padding","16px"],[1,"ion-margin-top"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"account"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e.EFF(8,"account"),e.k0s()()(),e.nrm(9,"app-profile-picture"),e.j41(10,"div",4),e.nrm(11,"div",5)(12,"app-edit-name")(13,"app-edit-number")(14,"div",5)(15,"app-profile-list"),e.k0s()()),2&t&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0))},dependencies:[i.W9,i.eU,i.BC,i.ai,w,P,A,U]}),s})()}];let T=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[v.iI.forChild(S),v.iI]}),s})(),B=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[k.MD,p.YN,i.bv,T]}),s})()}}]);